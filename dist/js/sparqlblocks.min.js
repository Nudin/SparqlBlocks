!function e(t,o,n){function r(s,a){if(!o[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(i)return i(s,!0);var g=new Error("Cannot find module '"+s+"'");throw g.code="MODULE_NOT_FOUND",g}var c=o[s]={exports:{}};t[s][0].call(c.exports,function(e){var o=t[s][1][e];return r(o?o:e)},c,c.exports,e,t,o,n)}return o[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)r(n[s]);return r}({1:[function(require,module,exports){module.exports=function(){var that={};that.navigator="";var COMPILED=!0,goog=goog||{};goog.global=that,goog.isDef=function(e){return void 0!==e},goog.exportPath_=function(e,t,o){e=e.split("."),o=o||goog.global,e[0]in o||!o.execScript||o.execScript("var "+e[0]);for(var n;e.length&&(n=e.shift());)!e.length&&goog.isDef(t)?o[n]=t:o=o[n]?o[n]:o[n]={}},goog.define=function(e,t){var o=t;COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,e)?o=goog.global.CLOSURE_UNCOMPILED_DEFINES[e]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,e)&&(o=goog.global.CLOSURE_DEFINES[e])),goog.exportPath_(e,o)},goog.DEBUG=!1,goog.LOCALE="en",goog.TRUSTED_SITE=!0,goog.STRICT_MODE_COMPATIBLE=!1,goog.DISALLOW_TEST_ONLY_CODE=COMPILED&&!goog.DEBUG,goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING=!1,goog.provide=function(e){if(goog.isInModuleLoader_())throw Error("goog.provide can not be used within a goog.module.");if(!COMPILED&&goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');goog.constructNamespace_(e)},goog.constructNamespace_=function(e,t){if(!COMPILED){delete goog.implicitNamespaces_[e];for(var o=e;(o=o.substring(0,o.lastIndexOf(".")))&&!goog.getObjectByName(o);)goog.implicitNamespaces_[o]=!0}goog.exportPath_(e,t)},goog.VALID_MODULE_RE_=/^[a-zA-Z_$][a-zA-Z0-9._$]*$/,goog.module=function(e){if(!goog.isString(e)||!e||-1==e.search(goog.VALID_MODULE_RE_))throw Error("Invalid module identifier");if(!goog.isInModuleLoader_())throw Error("Module "+e+" has been loaded incorrectly.");if(goog.moduleLoaderState_.moduleName)throw Error("goog.module may only be called once per module.");if(goog.moduleLoaderState_.moduleName=e,!COMPILED){if(goog.isProvided_(e))throw Error('Namespace "'+e+'" already declared.');delete goog.implicitNamespaces_[e]}},goog.module.get=function(e){return goog.module.getInternal_(e)},goog.module.getInternal_=function(e){return COMPILED?void 0:goog.isProvided_(e)?e in goog.loadedModules_?goog.loadedModules_[e]:goog.getObjectByName(e):null},goog.moduleLoaderState_=null,goog.isInModuleLoader_=function(){return null!=goog.moduleLoaderState_},goog.module.declareLegacyNamespace=function(){if(!COMPILED&&!goog.isInModuleLoader_())throw Error("goog.module.declareLegacyNamespace must be called from within a goog.module");if(!COMPILED&&!goog.moduleLoaderState_.moduleName)throw Error("goog.module must be called prior to goog.module.declareLegacyNamespace.");goog.moduleLoaderState_.declareLegacyNamespace=!0},goog.setTestOnly=function(e){if(goog.DISALLOW_TEST_ONLY_CODE)throw e=e||"",Error("Importing test-only code into non-debug environment"+(e?": "+e:"."))},goog.forwardDeclare=function(e){},COMPILED||(goog.isProvided_=function(e){return e in goog.loadedModules_||!goog.implicitNamespaces_[e]&&goog.isDefAndNotNull(goog.getObjectByName(e))},goog.implicitNamespaces_={"goog.module":!0}),goog.getObjectByName=function(e,t){for(var o,n=e.split("."),r=t||goog.global;o=n.shift();){if(!goog.isDefAndNotNull(r[o]))return null;r=r[o]}return r},goog.globalize=function(e,t){var o,n=t||goog.global;for(o in e)n[o]=e[o]},goog.addDependency=function(e,t,o,n){if(goog.DEPENDENCIES_ENABLED){var r;e=e.replace(/\\/g,"/");var i=goog.dependencies_;n&&"boolean"!=typeof n||(n=n?{module:"goog"}:{});for(var s=0;r=t[s];s++)i.nameToPath[r]=e,i.pathIsModule[e]="goog"==n.module;for(n=0;t=o[n];n++)e in i.requires||(i.requires[e]={}),i.requires[e][t]=!0}},goog.ENABLE_DEBUG_LOADER=!0,goog.logToConsole_=function(e){goog.global.console&&goog.global.console.error(e)},goog.require=function(e){if(!COMPILED){if(goog.ENABLE_DEBUG_LOADER&&goog.IS_OLD_IE_&&goog.maybeProcessDeferredDep_(e),goog.isProvided_(e))return goog.isInModuleLoader_()?goog.module.getInternal_(e):null;if(goog.ENABLE_DEBUG_LOADER){var t=goog.getPathFromDeps_(e);if(t)return goog.writeScripts_(t),null}throw e="goog.require could not find: "+e,goog.logToConsole_(e),Error(e)}},goog.basePath="",goog.nullFunction=function(){},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(e){e.getInstance=function(){return e.instance_?e.instance_:(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=e),e.instance_=new e)}},goog.instantiatedSingletons_=[],goog.LOAD_MODULE_USING_EVAL=!0,goog.SEAL_MODULE_EXPORTS=goog.DEBUG,goog.loadedModules_={},goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.dependencies_={pathIsModule:{},nameToPath:{},requires:{},visited:{},written:{},deferred:{}},goog.inHtmlDocument_=function(){var e=goog.global.document;return null!=e&&"write"in e},goog.findBasePath_=function(){if(goog.isDef(goog.global.CLOSURE_BASE_PATH))goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var e=goog.global.document.getElementsByTagName("SCRIPT"),t=e.length-1;t>=0;--t){var o=e[t].src,n=o.lastIndexOf("?"),n=-1==n?o.length:n;if("base.js"==o.substr(n-7,7)){goog.basePath=o.substr(0,n-7);break}}},goog.importScript_=function(e,t){(goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_)(e,t)&&(goog.dependencies_.written[e]=!0)},goog.IS_OLD_IE_=!(goog.global.atob||!goog.global.document||!goog.global.document.all),goog.importModule_=function(e){goog.importScript_("",'goog.retrieveAndExecModule_("'+e+'");')&&(goog.dependencies_.written[e]=!0)},goog.queuedModules_=[],goog.wrapModule_=function(e,t){return goog.LOAD_MODULE_USING_EVAL&&goog.isDef(goog.global.JSON)?"goog.loadModule("+goog.global.JSON.stringify(t+"\n//# sourceURL="+e+"\n")+");":'goog.loadModule(function(exports) {"use strict";'+t+"\n;return exports});\n//# sourceURL="+e+"\n"},goog.loadQueuedModules_=function(){var e=goog.queuedModules_.length;if(e>0){var t=goog.queuedModules_;goog.queuedModules_=[];for(var o=0;e>o;o++)goog.maybeProcessDeferredPath_(t[o])}},goog.maybeProcessDeferredDep_=function(e){goog.isDeferredModule_(e)&&goog.allDepsAreAvailable_(e)&&(e=goog.getPathFromDeps_(e),goog.maybeProcessDeferredPath_(goog.basePath+e))},goog.isDeferredModule_=function(e){return(e=goog.getPathFromDeps_(e))&&goog.dependencies_.pathIsModule[e]?goog.basePath+e in goog.dependencies_.deferred:!1},goog.allDepsAreAvailable_=function(e){if((e=goog.getPathFromDeps_(e))&&e in goog.dependencies_.requires)for(var t in goog.dependencies_.requires[e])if(!goog.isProvided_(t)&&!goog.isDeferredModule_(t))return!1;return!0},goog.maybeProcessDeferredPath_=function(e){if(e in goog.dependencies_.deferred){var t=goog.dependencies_.deferred[e];delete goog.dependencies_.deferred[e],goog.globalEval(t)}},goog.loadModuleFromUrl=function(e){goog.retrieveAndExecModule_(e)},goog.loadModule=function(e){var t=goog.moduleLoaderState_;try{goog.moduleLoaderState_={moduleName:void 0,declareLegacyNamespace:!1};var o;if(goog.isFunction(e))o=e.call(goog.global,{});else{if(!goog.isString(e))throw Error("Invalid module definition");o=goog.loadModuleFromSource_.call(goog.global,e)}var n=goog.moduleLoaderState_.moduleName;if(!goog.isString(n)||!n)throw Error('Invalid module name "'+n+'"');goog.moduleLoaderState_.declareLegacyNamespace?goog.constructNamespace_(n,o):goog.SEAL_MODULE_EXPORTS&&Object.seal&&Object.seal(o),goog.loadedModules_[n]=o}finally{goog.moduleLoaderState_=t}},goog.loadModuleFromSource_=function(a){return eval(a),{}},goog.writeScriptSrcNode_=function(e){goog.global.document.write('<script type="text/javascript" src="'+e+'"></script>')},goog.appendScriptSrcNode_=function(e){var t=goog.global.document,o=t.createElement("script");o.type="text/javascript",o.src=e,o.defer=!1,o.async=!1,t.head.appendChild(o)},goog.writeScriptTag_=function(e,t){if(goog.inHtmlDocument_()){var o=goog.global.document;if(!goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&&"complete"==o.readyState){if(/\bdeps.js$/.test(e))return!1;throw Error('Cannot write "'+e+'" after document load')}var n=goog.IS_OLD_IE_;return void 0===t?n?(n=" onreadystatechange='goog.onScriptLoad_(this, "+ ++goog.lastNonModuleScriptIndex_+")' ",o.write('<script type="text/javascript" src="'+e+'"'+n+"></script>")):goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING?goog.appendScriptSrcNode_(e):goog.writeScriptSrcNode_(e):o.write('<script type="text/javascript">'+t+"</script>"),!0}return!1},goog.lastNonModuleScriptIndex_=0,goog.onScriptLoad_=function(e,t){return"complete"==e.readyState&&goog.lastNonModuleScriptIndex_==t&&goog.loadQueuedModules_(),!0},goog.writeScripts_=function(e){function t(e){if(!(e in r.written||e in r.visited)){if(r.visited[e]=!0,e in r.requires)for(var i in r.requires[e])if(!goog.isProvided_(i)){if(!(i in r.nameToPath))throw Error("Undefined nameToPath for "+i);t(r.nameToPath[i])}e in n||(n[e]=!0,o.push(e))}}var o=[],n={},r=goog.dependencies_;for(t(e),e=0;e<o.length;e++){var i=o[e];goog.dependencies_.written[i]=!0}var s=goog.moduleLoaderState_;for(goog.moduleLoaderState_=null,e=0;e<o.length;e++){if(!(i=o[e]))throw goog.moduleLoaderState_=s,Error("Undefined script input");r.pathIsModule[i]?goog.importModule_(goog.basePath+i):goog.importScript_(goog.basePath+i)}goog.moduleLoaderState_=s},goog.getPathFromDeps_=function(e){return e in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[e]:null},goog.findBasePath_(),goog.global.CLOSURE_NO_DEPS||goog.importScript_(goog.basePath+"deps.js")),goog.normalizePath_=function(e){e=e.split("/");for(var t=0;t<e.length;)"."==e[t]?e.splice(t,1):t&&".."==e[t]&&e[t-1]&&".."!=e[t-1]?e.splice(--t,2):t++;return e.join("/")},goog.loadFileSync_=function(e){if(goog.global.CLOSURE_LOAD_FILE_SYNC)return goog.global.CLOSURE_LOAD_FILE_SYNC(e);var t=new goog.global.XMLHttpRequest;return t.open("get",e,!1),t.send(),t.responseText},goog.retrieveAndExecModule_=function(e){if(!COMPILED){var t=e;e=goog.normalizePath_(e);var o=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_,n=goog.loadFileSync_(e);if(null==n)throw Error("load of "+e+"failed");n=goog.wrapModule_(e,n),goog.IS_OLD_IE_?(goog.dependencies_.deferred[t]=n,goog.queuedModules_.push(t)):o(e,n)}},goog.typeOf=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var o=Object.prototype.toString.call(e);if("[object Window]"==o)return"object";if("[object Array]"==o||"number"==typeof e.length&&"undefined"!=typeof e.splice&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==o||"undefined"!=typeof e.call&&"undefined"!=typeof e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&"undefined"==typeof e.call)return"object";return t},goog.isNull=function(e){return null===e},goog.isDefAndNotNull=function(e){return null!=e},goog.isArray=function(e){return"array"==goog.typeOf(e)},goog.isArrayLike=function(e){var t=goog.typeOf(e);return"array"==t||"object"==t&&"number"==typeof e.length},goog.isDateLike=function(e){return goog.isObject(e)&&"function"==typeof e.getFullYear},goog.isString=function(e){return"string"==typeof e},goog.isBoolean=function(e){return"boolean"==typeof e},goog.isNumber=function(e){return"number"==typeof e},goog.isFunction=function(e){return"function"==goog.typeOf(e)},goog.isObject=function(e){var t=typeof e;return"object"==t&&null!=e||"function"==t},goog.getUid=function(e){return e[goog.UID_PROPERTY_]||(e[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(e){return!!e[goog.UID_PROPERTY_]},goog.removeUid=function(e){null!==e&&"removeAttribute"in e&&e.removeAttribute(goog.UID_PROPERTY_);try{delete e[goog.UID_PROPERTY_]}catch(t){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(e.clone)return e.clone();var o,t="array"==t?[]:{};for(o in e)t[o]=goog.cloneObject(e[o]);return t}return e},goog.bindNative_=function(e,t,o){return e.call.apply(e.bind,arguments)},goog.bindJs_=function(e,t,o){if(!e)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,n),e.apply(t,o)}}return function(){return e.apply(t,arguments)}},goog.bind=function(e,t,o){return Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bind=goog.bindNative_:goog.bind=goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(e,t){var o=Array.prototype.slice.call(arguments,1);return function(){var t=o.slice();return t.push.apply(t,arguments),e.apply(this,t)}},goog.mixin=function(e,t){for(var o in t)e[o]=t[o]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(e){if(goog.global.execScript)goog.global.execScript(e,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");if(null==goog.evalWorksForGlobals_)if(goog.global.eval("var _evalTest_ = 1;"),"undefined"!=typeof goog.global._evalTest_){try{delete goog.global._evalTest_}catch(t){}goog.evalWorksForGlobals_=!0}else goog.evalWorksForGlobals_=!1;if(goog.evalWorksForGlobals_)goog.global.eval(e);else{var o=goog.global.document,n=o.createElement("SCRIPT");n.type="text/javascript",n.defer=!1,n.appendChild(o.createTextNode(e)),o.body.appendChild(n),o.body.removeChild(n)}}},goog.evalWorksForGlobals_=null,goog.getCssName=function(e,t){var o=function(e){return goog.cssNameMapping_[e]||e},n=function(e){e=e.split("-");for(var t=[],n=0;n<e.length;n++)t.push(o(e[n]));return t.join("-")},n=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?o:n:function(e){return e};return t?e+"-"+n(t):n(e)},goog.setCssNameMapping=function(e,t){goog.cssNameMapping_=e,goog.cssNameMappingStyle_=t},!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(e,t){return t&&(e=e.replace(/\{\$([^}]+)}/g,function(e,o){return null!=t&&o in t?t[o]:e})),e},goog.getMsgWithFallback=function(e,t){return e},goog.exportSymbol=function(e,t,o){goog.exportPath_(e,t,o)},goog.exportProperty=function(e,t,o){e[t]=o},goog.inherits=function(e,t){function o(){}o.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new o,e.prototype.constructor=e,e.base=function(e,o,n){for(var r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];return t.prototype[o].apply(e,r)}},goog.base=function(e,t,o){var n=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!n)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(n.superClass_){for(var r=Array(arguments.length-1),i=1;i<arguments.length;i++)r[i-1]=arguments[i];return n.superClass_.constructor.apply(e,r)}for(r=Array(arguments.length-2),i=2;i<arguments.length;i++)r[i-2]=arguments[i];for(var i=!1,s=e.constructor;s;s=s.superClass_&&s.superClass_.constructor)if(s.prototype[t]===n)i=!0;else if(i)return s.prototype[t].apply(e,r);if(e[t]===n)return e.constructor.prototype[t].apply(e,r);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(e){if(goog.isInModuleLoader_())throw Error("goog.scope is not supported within a goog.module.");e.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(e,t){var o=t.constructor,n=t.statics;return o&&o!=Object.prototype.constructor||(o=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),o=goog.defineClass.createSealingConstructor_(o,e),e&&goog.inherits(o,e),delete t.constructor,delete t.statics,goog.defineClass.applyProperties_(o.prototype,t),null!=n&&(n instanceof Function?n(o):goog.defineClass.applyProperties_(o,n)),o},goog.defineClass.SEAL_CLASS_INSTANCES=goog.DEBUG,goog.defineClass.createSealingConstructor_=function(e,t){if(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function){if(t&&t.prototype&&t.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_])return e;var o=function(){var t=e.apply(this,arguments)||this;return t[goog.UID_PROPERTY_]=t[goog.UID_PROPERTY_],this.constructor===o&&Object.seal(t),t};return o}return e},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.defineClass.applyProperties_=function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);for(var n=0;n<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;n++)o=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[n],Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},goog.tagUnsealableClass=function(e){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(e.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.debug={},goog.debug.Error=function(e){if(Error.captureStackTrace)Error.captureStackTrace(this,goog.debug.Error);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e)),this.reportErrorToServer=!0},goog.inherits(goog.debug.Error,Error),goog.debug.Error.prototype.name="CustomError",goog.dom={},goog.dom.NodeType={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},goog.string={},goog.string.DETECT_DOUBLE_ESCAPING=!1,goog.string.FORCE_NON_DOM_HTML_UNESCAPING=!1,goog.string.Unicode={NBSP:" "},goog.string.startsWith=function(e,t){return 0==e.lastIndexOf(t,0)},goog.string.endsWith=function(e,t){var o=e.length-t.length;return o>=0&&e.indexOf(t,o)==o},goog.string.caseInsensitiveStartsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(0,t.length))},goog.string.caseInsensitiveEndsWith=function(e,t){return 0==goog.string.caseInsensitiveCompare(t,e.substr(e.length-t.length,t.length))},goog.string.caseInsensitiveEquals=function(e,t){return e.toLowerCase()==t.toLowerCase()},goog.string.subs=function(e,t){for(var o=e.split("%s"),n="",r=Array.prototype.slice.call(arguments,1);r.length&&1<o.length;)n+=o.shift()+r.shift();return n+o.join("%s")},goog.string.collapseWhitespace=function(e){return e.replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},goog.string.isEmptyOrWhitespace=function(e){return/^[\s\xa0]*$/.test(e)},goog.string.isEmptyString=function(e){return 0==e.length},goog.string.isEmpty=goog.string.isEmptyOrWhitespace,goog.string.isEmptyOrWhitespaceSafe=function(e){return goog.string.isEmptyOrWhitespace(goog.string.makeSafe(e))},goog.string.isEmptySafe=goog.string.isEmptyOrWhitespaceSafe,goog.string.isBreakingWhitespace=function(e){return!/[^\t\n\r ]/.test(e)},goog.string.isAlpha=function(e){return!/[^a-zA-Z]/.test(e)},goog.string.isNumeric=function(e){return!/[^0-9]/.test(e)},goog.string.isAlphaNumeric=function(e){return!/[^a-zA-Z0-9]/.test(e)},goog.string.isSpace=function(e){return" "==e},goog.string.isUnicodeChar=function(e){return 1==e.length&&e>=" "&&"~">=e||e>=""&&"�">=e},goog.string.stripNewlines=function(e){return e.replace(/(\r\n|\r|\n)+/g," ")},goog.string.canonicalizeNewlines=function(e){return e.replace(/(\r\n|\r|\n)/g,"\n")},goog.string.normalizeWhitespace=function(e){return e.replace(/\xa0|\s/g," ")},goog.string.normalizeSpaces=function(e){return e.replace(/\xa0|[ \t]+/g," ")},goog.string.collapseBreakingSpaces=function(e){return e.replace(/[\t\r\n ]+/g," ").replace(/^[\t\r\n ]+|[\t\r\n ]+$/g,"")},goog.string.trim=goog.TRUSTED_SITE&&String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},goog.string.trimLeft=function(e){return e.replace(/^[\s\xa0]+/,"")},goog.string.trimRight=function(e){return e.replace(/[\s\xa0]+$/,"")},goog.string.caseInsensitiveCompare=function(e,t){var o=String(e).toLowerCase(),n=String(t).toLowerCase();return n>o?-1:o==n?0:1},goog.string.numberAwareCompare_=function(e,t,o){if(e==t)return 0;if(!e)return-1;if(!t)return 1;for(var n=e.toLowerCase().match(o),r=t.toLowerCase().match(o),i=Math.min(n.length,r.length),s=0;i>s;s++){o=n[s];var a=r[s];if(o!=a)return e=parseInt(o,10),!isNaN(e)&&(t=parseInt(a,10),!isNaN(t)&&e-t)?e-t:a>o?-1:1}return n.length!=r.length?n.length-r.length:t>e?-1:1},goog.string.intAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\D+/g)},goog.string.floatAwareCompare=function(e,t){return goog.string.numberAwareCompare_(e,t,/\d+|\.\d+|\D+/g)},goog.string.numerateCompare=goog.string.floatAwareCompare,goog.string.urlEncode=function(e){return encodeURIComponent(String(e))},goog.string.urlDecode=function(e){return decodeURIComponent(e.replace(/\+/g," "))},goog.string.newLineToBr=function(e,t){return e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>")},goog.string.htmlEscape=function(e,t){if(t)e=e.replace(goog.string.AMP_RE_,"&amp;").replace(goog.string.LT_RE_,"&lt;").replace(goog.string.GT_RE_,"&gt;").replace(goog.string.QUOT_RE_,"&quot;").replace(goog.string.SINGLE_QUOTE_RE_,"&#39;").replace(goog.string.NULL_RE_,"&#0;"),goog.string.DETECT_DOUBLE_ESCAPING&&(e=e.replace(goog.string.E_RE_,"&#101;"));else{if(!goog.string.ALL_RE_.test(e))return e;-1!=e.indexOf("&")&&(e=e.replace(goog.string.AMP_RE_,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(goog.string.LT_RE_,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(goog.string.GT_RE_,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(goog.string.QUOT_RE_,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(goog.string.SINGLE_QUOTE_RE_,"&#39;")),-1!=e.indexOf("\x00")&&(e=e.replace(goog.string.NULL_RE_,"&#0;")),goog.string.DETECT_DOUBLE_ESCAPING&&-1!=e.indexOf("e")&&(e=e.replace(goog.string.E_RE_,"&#101;"))}return e},goog.string.AMP_RE_=/&/g,goog.string.LT_RE_=/</g,goog.string.GT_RE_=/>/g,goog.string.QUOT_RE_=/"/g,goog.string.SINGLE_QUOTE_RE_=/'/g,goog.string.NULL_RE_=/\x00/g,goog.string.E_RE_=/e/g,goog.string.ALL_RE_=goog.string.DETECT_DOUBLE_ESCAPING?/[\x00&<>"'e]/:/[\x00&<>"']/,goog.string.unescapeEntities=function(e){return goog.string.contains(e,"&")?!goog.string.FORCE_NON_DOM_HTML_UNESCAPING&&"document"in goog.global?goog.string.unescapeEntitiesUsingDom_(e):goog.string.unescapePureXmlEntities_(e):e},goog.string.unescapeEntitiesWithDocument=function(e,t){return goog.string.contains(e,"&")?goog.string.unescapeEntitiesUsingDom_(e,t):e},goog.string.unescapeEntitiesUsingDom_=function(e,t){var o,n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"'};return o=t?t.createElement("div"):goog.global.document.createElement("div"),e.replace(goog.string.HTML_ENTITY_PATTERN_,function(e,t){var r=n[e];if(r)return r;if("#"==t.charAt(0)){var i=Number("0"+t.substr(1));isNaN(i)||(r=String.fromCharCode(i))}return r||(o.innerHTML=e+" ",r=o.firstChild.nodeValue.slice(0,-1)),n[e]=r})},goog.string.unescapePureXmlEntities_=function(e){return e.replace(/&([^;]+);/g,function(e,t){switch(t){case"amp":return"&";case"lt":return"<";case"gt":return">";case"quot":return'"';default:if("#"==t.charAt(0)){var o=Number("0"+t.substr(1));if(!isNaN(o))return String.fromCharCode(o)}return e}})},goog.string.HTML_ENTITY_PATTERN_=/&([^;\s<&]+);?/g,goog.string.whitespaceEscape=function(e,t){return goog.string.newLineToBr(e.replace(/  /g," &#160;"),t)},goog.string.preserveSpaces=function(e){return e.replace(/(^|[\n ]) /g,"$1"+goog.string.Unicode.NBSP)},goog.string.stripQuotes=function(e,t){for(var o=t.length,n=0;o>n;n++){var r=1==o?t:t.charAt(n);if(e.charAt(0)==r&&e.charAt(e.length-1)==r)return e.substring(1,e.length-1)}return e},goog.string.truncate=function(e,t,o){return o&&(e=goog.string.unescapeEntities(e)),e.length>t&&(e=e.substring(0,t-3)+"..."),o&&(e=goog.string.htmlEscape(e)),e},goog.string.truncateMiddle=function(e,t,o,n){if(o&&(e=goog.string.unescapeEntities(e)),n&&e.length>t){n>t&&(n=t);var r=e.length-n;e=e.substring(0,t-n)+"..."+e.substring(r)}else e.length>t&&(n=Math.floor(t/2),r=e.length-n,e=e.substring(0,n+t%2)+"..."+e.substring(r));return o&&(e=goog.string.htmlEscape(e)),e},goog.string.specialEscapeChars_={"\x00":"\\0","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t","\x0B":"\\x0B",'"':'\\"',"\\":"\\\\","<":"<"},goog.string.jsEscapeCache_={"'":"\\'"},goog.string.quote=function(e){e=String(e);for(var t=['"'],o=0;o<e.length;o++){var n=e.charAt(o),r=n.charCodeAt(0);t[o+1]=goog.string.specialEscapeChars_[n]||(r>31&&127>r?n:goog.string.escapeChar(n))}return t.push('"'),t.join("")},goog.string.escapeString=function(e){for(var t=[],o=0;o<e.length;o++)t[o]=goog.string.escapeChar(e.charAt(o));return t.join("")},goog.string.escapeChar=function(e){if(e in goog.string.jsEscapeCache_)return goog.string.jsEscapeCache_[e];if(e in goog.string.specialEscapeChars_)return goog.string.jsEscapeCache_[e]=goog.string.specialEscapeChars_[e];var t=e,o=e.charCodeAt(0);return o>31&&127>o?t=e:(256>o?(t="\\x",(16>o||o>256)&&(t+="0")):(t="\\u",4096>o&&(t+="0")),t+=o.toString(16).toUpperCase()),goog.string.jsEscapeCache_[e]=t},goog.string.contains=function(e,t){return-1!=e.indexOf(t)},goog.string.caseInsensitiveContains=function(e,t){return goog.string.contains(e.toLowerCase(),t.toLowerCase())},goog.string.countOf=function(e,t){return e&&t?e.split(t).length-1:0},goog.string.removeAt=function(e,t,o){var n=e;return t>=0&&t<e.length&&o>0&&(n=e.substr(0,t)+e.substr(t+o,e.length-t-o)),n},goog.string.remove=function(e,t){var o=new RegExp(goog.string.regExpEscape(t),"");return e.replace(o,"")},goog.string.removeAll=function(e,t){var o=new RegExp(goog.string.regExpEscape(t),"g");return e.replace(o,"")},goog.string.regExpEscape=function(e){return String(e).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},goog.string.repeat=String.prototype.repeat?function(e,t){return e.repeat(t)}:function(e,t){return Array(t+1).join(e)},goog.string.padNumber=function(e,t,o){return e=goog.isDef(o)?e.toFixed(o):String(e),o=e.indexOf("."),-1==o&&(o=e.length),goog.string.repeat("0",Math.max(0,t-o))+e},goog.string.makeSafe=function(e){return null==e?"":String(e)},goog.string.buildString=function(e){return Array.prototype.join.call(arguments,"")},goog.string.getRandomString=function(){return Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^goog.now()).toString(36)},goog.string.compareVersions=function(e,t){for(var o=0,n=goog.string.trim(String(e)).split("."),r=goog.string.trim(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==o&&i>s;s++){var a=n[s]||"",l=r[s]||"",g=RegExp("(\\d*)(\\D*)","g"),c=RegExp("(\\d*)(\\D*)","g");do{var u=g.exec(a)||["","",""],h=c.exec(l)||["","",""];if(0==u[0].length&&0==h[0].length)break;var o=0==u[1].length?0:parseInt(u[1],10),d=0==h[1].length?0:parseInt(h[1],10),o=goog.string.compareElements_(o,d)||goog.string.compareElements_(0==u[2].length,0==h[2].length)||goog.string.compareElements_(u[2],h[2])}while(0==o)}return o},goog.string.compareElements_=function(e,t){return t>e?-1:e>t?1:0},goog.string.hashCode=function(e){for(var t=0,o=0;o<e.length;++o)t=31*t+e.charCodeAt(o)>>>0;return t},goog.string.uniqueStringCounter_=2147483648*Math.random()|0,goog.string.createUniqueString=function(){return"goog_"+goog.string.uniqueStringCounter_++},goog.string.toNumber=function(e){var t=Number(e);return 0==t&&goog.string.isEmptyOrWhitespace(e)?NaN:t},goog.string.isLowerCamelCase=function(e){return/^[a-z]+([A-Z][a-z]*)*$/.test(e)},goog.string.isUpperCamelCase=function(e){return/^([A-Z][a-z]*)+$/.test(e)},goog.string.toCamelCase=function(e){return String(e).replace(/\-([a-z])/g,function(e,t){return t.toUpperCase()})},goog.string.toSelectorCase=function(e){return String(e).replace(/([A-Z])/g,"-$1").toLowerCase()},goog.string.toTitleCase=function(e,t){var o=goog.isString(t)?goog.string.regExpEscape(t):"\\s";return e.replace(new RegExp("(^"+(o?"|["+o+"]+":"")+")([a-z])","g"),function(e,t,o){return t+o.toUpperCase()})},goog.string.capitalize=function(e){return String(e.charAt(0)).toUpperCase()+String(e.substr(1)).toLowerCase()},goog.string.parseInt=function(e){return isFinite(e)&&(e=String(e)),goog.isString(e)?/^\s*-?0x/i.test(e)?parseInt(e,16):parseInt(e,10):NaN},goog.string.splitLimit=function(e,t,o){e=e.split(t);for(var n=[];o>0&&e.length;)n.push(e.shift()),o--;return e.length&&n.push(e.join(t)),n},goog.string.lastComponent=function(e,t){if(!t)return e;"string"==typeof t&&(t=[t]);for(var o=-1,n=0;n<t.length;n++)if(""!=t[n]){var r=e.lastIndexOf(t[n]);r>o&&(o=r)}return-1==o?e:e.slice(o+1)},goog.string.editDistance=function(e,t){var o=[],n=[];if(e==t)return 0;if(!e.length||!t.length)return Math.max(e.length,t.length);for(var r=0;r<t.length+1;r++)o[r]=r;for(r=0;r<e.length;r++){n[0]=r+1;for(var i=0;i<t.length;i++)n[i+1]=Math.min(n[i]+1,o[i+1]+1,o[i]+Number(e[r]!=t[i]));for(i=0;i<o.length;i++)o[i]=n[i]}return n[t.length]},goog.asserts={},goog.asserts.ENABLE_ASSERTS=goog.DEBUG,goog.asserts.AssertionError=function(e,t){t.unshift(e),goog.debug.Error.call(this,goog.string.subs.apply(null,t)),t.shift(),this.messagePattern=e},goog.inherits(goog.asserts.AssertionError,goog.debug.Error),goog.asserts.AssertionError.prototype.name="AssertionError",goog.asserts.DEFAULT_ERROR_HANDLER=function(e){throw e},goog.asserts.errorHandler_=goog.asserts.DEFAULT_ERROR_HANDLER,goog.asserts.doAssertFailure_=function(e,t,o,n){var r="Assertion failed";if(o)var r=r+(": "+o),i=n;else e&&(r+=": "+e,i=t);e=new goog.asserts.AssertionError(""+r,i||[]),goog.asserts.errorHandler_(e)},goog.asserts.setErrorHandler=function(e){goog.asserts.ENABLE_ASSERTS&&(goog.asserts.errorHandler_=e)},goog.asserts.assert=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!e&&goog.asserts.doAssertFailure_("",null,t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.fail=function(e,t){goog.asserts.ENABLE_ASSERTS&&goog.asserts.errorHandler_(new goog.asserts.AssertionError("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1)))},goog.asserts.assertNumber=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isNumber(e)&&goog.asserts.doAssertFailure_("Expected number but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertString=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isString(e)&&goog.asserts.doAssertFailure_("Expected string but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertFunction=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isFunction(e)&&goog.asserts.doAssertFailure_("Expected function but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertObject=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isObject(e)&&goog.asserts.doAssertFailure_("Expected object but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertArray=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isArray(e)&&goog.asserts.doAssertFailure_("Expected array but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertBoolean=function(e,t,o){return goog.asserts.ENABLE_ASSERTS&&!goog.isBoolean(e)&&goog.asserts.doAssertFailure_("Expected boolean but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertElement=function(e,t,o){return!goog.asserts.ENABLE_ASSERTS||goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT||goog.asserts.doAssertFailure_("Expected Element but got %s: %s.",[goog.typeOf(e),e],t,Array.prototype.slice.call(arguments,2)),e},goog.asserts.assertInstanceof=function(e,t,o,n){return!goog.asserts.ENABLE_ASSERTS||e instanceof t||goog.asserts.doAssertFailure_("Expected instanceof %s but got %s.",[goog.asserts.getType_(t),goog.asserts.getType_(e)],o,Array.prototype.slice.call(arguments,3)),
e},goog.asserts.assertObjectPrototypeIsIntact=function(){for(var e in Object.prototype)goog.asserts.fail(e+" should not be enumerable in Object.prototype.")},goog.asserts.getType_=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.array={},goog.NATIVE_ARRAY_PROTOTYPES=goog.TRUSTED_SITE,goog.array.ASSUME_NATIVE_FUNCTIONS=!1,goog.array.peek=function(e){return e[e.length-1]},goog.array.last=goog.array.peek,goog.array.indexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.indexOf)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.indexOf.call(e,t,o)}:function(e,t,o){if(o=null==o?0:0>o?Math.max(0,e.length+o):o,goog.isString(e))return goog.isString(t)&&1==t.length?e.indexOf(t,o):-1;for(;o<e.length;o++)if(o in e&&e[o]===t)return o;return-1},goog.array.lastIndexOf=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.lastIndexOf)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.lastIndexOf.call(e,t,null==o?e.length-1:o)}:function(e,t,o){if(o=null==o?e.length-1:o,0>o&&(o=Math.max(0,e.length+o)),goog.isString(e))return goog.isString(t)&&1==t.length?e.lastIndexOf(t,o):-1;for(;o>=0;o--)if(o in e&&e[o]===t)return o;return-1},goog.array.forEach=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.forEach)?function(e,t,o){goog.asserts.assert(null!=e.length),Array.prototype.forEach.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;n>i;i++)i in r&&t.call(o,r[i],i,e)},goog.array.forEachRight=function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,n=n-1;n>=0;--n)n in r&&t.call(o,r[n],n,e)},goog.array.filter=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.filter)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.filter.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=[],i=0,s=goog.isString(e)?e.split(""):e,a=0;n>a;a++)if(a in s){var l=s[a];t.call(o,l,a,e)&&(r[i++]=l)}return r},goog.array.map=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.map)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.map.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=Array(n),i=goog.isString(e)?e.split(""):e,s=0;n>s;s++)s in i&&(r[s]=t.call(o,i[s],s,e));return r},goog.array.reduce=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduce)?function(e,t,o,n){return goog.asserts.assert(null!=e.length),n&&(t=goog.bind(t,n)),Array.prototype.reduce.call(e,t,o)}:function(e,t,o,n){var r=o;return goog.array.forEach(e,function(o,i){r=t.call(n,r,o,i,e)}),r},goog.array.reduceRight=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.reduceRight)?function(e,t,o,n){return goog.asserts.assert(null!=e.length),goog.asserts.assert(null!=t),n&&(t=goog.bind(t,n)),Array.prototype.reduceRight.call(e,t,o)}:function(e,t,o,n){var r=o;return goog.array.forEachRight(e,function(o,i){r=t.call(n,r,o,i,e)}),r},goog.array.some=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.some)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.some.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;n>i;i++)if(i in r&&t.call(o,r[i],i,e))return!0;return!1},goog.array.every=goog.NATIVE_ARRAY_PROTOTYPES&&(goog.array.ASSUME_NATIVE_FUNCTIONS||Array.prototype.every)?function(e,t,o){return goog.asserts.assert(null!=e.length),Array.prototype.every.call(e,t,o)}:function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;n>i;i++)if(i in r&&!t.call(o,r[i],i,e))return!1;return!0},goog.array.count=function(e,t,o){var n=0;return goog.array.forEach(e,function(e,r,i){t.call(o,e,r,i)&&++n},o),n},goog.array.find=function(e,t,o){return t=goog.array.findIndex(e,t,o),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndex=function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,i=0;n>i;i++)if(i in r&&t.call(o,r[i],i,e))return i;return-1},goog.array.findRight=function(e,t,o){return t=goog.array.findIndexRight(e,t,o),0>t?null:goog.isString(e)?e.charAt(t):e[t]},goog.array.findIndexRight=function(e,t,o){for(var n=e.length,r=goog.isString(e)?e.split(""):e,n=n-1;n>=0;n--)if(n in r&&t.call(o,r[n],n,e))return n;return-1},goog.array.contains=function(e,t){return 0<=goog.array.indexOf(e,t)},goog.array.isEmpty=function(e){return 0==e.length},goog.array.clear=function(e){if(!goog.isArray(e))for(var t=e.length-1;t>=0;t--)delete e[t];e.length=0},goog.array.insert=function(e,t){goog.array.contains(e,t)||e.push(t)},goog.array.insertAt=function(e,t,o){goog.array.splice(e,o,0,t)},goog.array.insertArrayAt=function(e,t,o){goog.partial(goog.array.splice,e,o,0).apply(null,t)},goog.array.insertBefore=function(e,t,o){var n;2==arguments.length||0>(n=goog.array.indexOf(e,o))?e.push(t):goog.array.insertAt(e,t,n)},goog.array.remove=function(e,t){var o,n=goog.array.indexOf(e,t);return(o=n>=0)&&goog.array.removeAt(e,n),o},goog.array.removeLast=function(e,t){var o=goog.array.lastIndexOf(e,t);return o>=0?(goog.array.removeAt(e,o),!0):!1},goog.array.removeAt=function(e,t){return goog.asserts.assert(null!=e.length),1==Array.prototype.splice.call(e,t,1).length},goog.array.removeIf=function(e,t,o){return t=goog.array.findIndex(e,t,o),t>=0?(goog.array.removeAt(e,t),!0):!1},goog.array.removeAllIf=function(e,t,o){var n=0;return goog.array.forEachRight(e,function(r,i){t.call(o,r,i,e)&&goog.array.removeAt(e,i)&&n++}),n},goog.array.concat=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.join=function(e){return Array.prototype.concat.apply(Array.prototype,arguments)},goog.array.toArray=function(e){var t=e.length;if(t>0){for(var o=Array(t),n=0;t>n;n++)o[n]=e[n];return o}return[]},goog.array.clone=goog.array.toArray,goog.array.extend=function(e,t){for(var o=1;o<arguments.length;o++){var n=arguments[o];if(goog.isArrayLike(n)){var r=e.length||0,i=n.length||0;e.length=r+i;for(var s=0;i>s;s++)e[r+s]=n[s]}else e.push(n)}},goog.array.splice=function(e,t,o,n){return goog.asserts.assert(null!=e.length),Array.prototype.splice.apply(e,goog.array.slice(arguments,1))},goog.array.slice=function(e,t,o){return goog.asserts.assert(null!=e.length),2>=arguments.length?Array.prototype.slice.call(e,t):Array.prototype.slice.call(e,t,o)},goog.array.removeDuplicates=function(e,t,o){t=t||e;var n=function(e){return goog.isObject(e)?"o"+goog.getUid(e):(typeof e).charAt(0)+e};o=o||n;for(var n={},r=0,i=0;i<e.length;){var s=e[i++],a=o(s);Object.prototype.hasOwnProperty.call(n,a)||(n[a]=!0,t[r++]=s)}t.length=r},goog.array.binarySearch=function(e,t,o){return goog.array.binarySearch_(e,o||goog.array.defaultCompare,!1,t)},goog.array.binarySelect=function(e,t,o){return goog.array.binarySearch_(e,t,!0,void 0,o)},goog.array.binarySearch_=function(e,t,o,n,r){for(var i,s=0,a=e.length;a>s;){var l,g=s+a>>1;l=o?t.call(r,e[g],g,e):t(n,e[g]),l>0?s=g+1:(a=g,i=!l)}return i?s:~s},goog.array.sort=function(e,t){e.sort(t||goog.array.defaultCompare)},goog.array.stableSort=function(e,t){for(var o=Array(e.length),n=0;n<e.length;n++)o[n]={index:n,value:e[n]};var r=t||goog.array.defaultCompare;for(goog.array.sort(o,function(e,t){return r(e.value,t.value)||e.index-t.index}),n=0;n<e.length;n++)e[n]=o[n].value},goog.array.sortByKey=function(e,t,o){var n=o||goog.array.defaultCompare;goog.array.sort(e,function(e,o){return n(t(e),t(o))})},goog.array.sortObjectsByKey=function(e,t,o){goog.array.sortByKey(e,function(e){return e[t]},o)},goog.array.isSorted=function(e,t,o){t=t||goog.array.defaultCompare;for(var n=1;n<e.length;n++){var r=t(e[n-1],e[n]);if(r>0||0==r&&o)return!1}return!0},goog.array.equals=function(e,t,o){if(!goog.isArrayLike(e)||!goog.isArrayLike(t)||e.length!=t.length)return!1;var n=e.length;o=o||goog.array.defaultCompareEquality;for(var r=0;n>r;r++)if(!o(e[r],t[r]))return!1;return!0},goog.array.compare3=function(e,t,o){o=o||goog.array.defaultCompare;for(var n=Math.min(e.length,t.length),r=0;n>r;r++){var i=o(e[r],t[r]);if(0!=i)return i}return goog.array.defaultCompare(e.length,t.length)},goog.array.defaultCompare=function(e,t){return e>t?1:t>e?-1:0},goog.array.inverseDefaultCompare=function(e,t){return-goog.array.defaultCompare(e,t)},goog.array.defaultCompareEquality=function(e,t){return e===t},goog.array.binaryInsert=function(e,t,o){return o=goog.array.binarySearch(e,t,o),0>o?(goog.array.insertAt(e,t,-(o+1)),!0):!1},goog.array.binaryRemove=function(e,t,o){return t=goog.array.binarySearch(e,t,o),t>=0?goog.array.removeAt(e,t):!1},goog.array.bucket=function(e,t,o){for(var n={},r=0;r<e.length;r++){var i=e[r],s=t.call(o,i,r,e);goog.isDef(s)&&(n[s]||(n[s]=[])).push(i)}return n},goog.array.toObject=function(e,t,o){var n={};return goog.array.forEach(e,function(r,i){n[t.call(o,r,i,e)]=r}),n},goog.array.range=function(e,t,o){var n=[],r=0,i=e;if(o=o||1,void 0!==t&&(r=e,i=t),0>o*(i-r))return[];if(o>0)for(e=r;i>e;e+=o)n.push(e);else for(e=r;e>i;e+=o)n.push(e);return n},goog.array.repeat=function(e,t){for(var o=[],n=0;t>n;n++)o[n]=e;return o},goog.array.flatten=function(e){for(var t=[],o=0;o<arguments.length;o++){var n=arguments[o];if(goog.isArray(n))for(var r=0;r<n.length;r+=8192)for(var i=goog.array.slice(n,r,r+8192),i=goog.array.flatten.apply(null,i),s=0;s<i.length;s++)t.push(i[s]);else t.push(n)}return t},goog.array.rotate=function(e,t){return goog.asserts.assert(null!=e.length),e.length&&(t%=e.length,t>0?Array.prototype.unshift.apply(e,e.splice(-t,t)):0>t&&Array.prototype.push.apply(e,e.splice(0,-t))),e},goog.array.moveItem=function(e,t,o){goog.asserts.assert(t>=0&&t<e.length),goog.asserts.assert(o>=0&&o<e.length),t=Array.prototype.splice.call(e,t,1),Array.prototype.splice.call(e,o,0,t[0])},goog.array.zip=function(e){if(!arguments.length)return[];for(var t=[],o=arguments[0].length,n=1;n<arguments.length;n++)arguments[n].length<o&&(o=arguments[n].length);for(n=0;o>n;n++){for(var r=[],i=0;i<arguments.length;i++)r.push(arguments[i][n]);t.push(r)}return t},goog.array.shuffle=function(e,t){for(var o=t||Math.random,n=e.length-1;n>0;n--){var r=Math.floor(o()*(n+1)),i=e[n];e[n]=e[r],e[r]=i}},goog.array.copyByIndex=function(e,t){var o=[];return goog.array.forEach(t,function(t){o.push(e[t])}),o},goog.math={},goog.math.randomInt=function(e){return Math.floor(Math.random()*e)},goog.math.uniformRandom=function(e,t){return e+Math.random()*(t-e)},goog.math.clamp=function(e,t,o){return Math.min(Math.max(e,t),o)},goog.math.modulo=function(e,t){var o=e%t;return 0>o*t?o+t:o},goog.math.lerp=function(e,t,o){return e+o*(t-e)},goog.math.nearlyEquals=function(e,t,o){return Math.abs(e-t)<=(o||1e-6)},goog.math.standardAngle=function(e){return goog.math.modulo(e,360)},goog.math.standardAngleInRadians=function(e){return goog.math.modulo(e,2*Math.PI)},goog.math.toRadians=function(e){return e*Math.PI/180},goog.math.toDegrees=function(e){return 180*e/Math.PI},goog.math.angleDx=function(e,t){return t*Math.cos(goog.math.toRadians(e))},goog.math.angleDy=function(e,t){return t*Math.sin(goog.math.toRadians(e))},goog.math.angle=function(e,t,o,n){return goog.math.standardAngle(goog.math.toDegrees(Math.atan2(n-t,o-e)))},goog.math.angleDifference=function(e,t){var o=goog.math.standardAngle(t)-goog.math.standardAngle(e);return o>180?o-=360:-180>=o&&(o=360+o),o},goog.math.sign=Math.sign||function(e){return e>0?1:0>e?-1:e},goog.math.longestCommonSubsequence=function(e,t,o,n){o=o||function(e,t){return e==t},n=n||function(t,o){return e[t]};for(var r=e.length,i=t.length,s=[],a=0;r+1>a;a++)s[a]=[],s[a][0]=0;for(var l=0;i+1>l;l++)s[0][l]=0;for(a=1;r>=a;a++)for(l=1;i>=l;l++)o(e[a-1],t[l-1])?s[a][l]=s[a-1][l-1]+1:s[a][l]=Math.max(s[a-1][l],s[a][l-1]);for(var g=[],a=r,l=i;a>0&&l>0;)o(e[a-1],t[l-1])?(g.unshift(n(a-1,l-1)),a--,l--):s[a-1][l]>s[a][l-1]?a--:l--;return g},goog.math.sum=function(e){return goog.array.reduce(arguments,function(e,t){return e+t},0)},goog.math.average=function(e){return goog.math.sum.apply(null,arguments)/arguments.length},goog.math.sampleVariance=function(e){var t=arguments.length;if(2>t)return 0;var o=goog.math.average.apply(null,arguments);return goog.math.sum.apply(null,goog.array.map(arguments,function(e){return Math.pow(e-o,2)}))/(t-1)},goog.math.standardDeviation=function(e){return Math.sqrt(goog.math.sampleVariance.apply(null,arguments))},goog.math.isInt=function(e){return isFinite(e)&&0==e%1},goog.math.isFiniteNumber=function(e){return isFinite(e)&&!isNaN(e)},goog.math.isNegativeZero=function(e){return 0==e&&0>1/e},goog.math.log10Floor=function(e){if(e>0){var t=Math.round(Math.log(e)*Math.LOG10E);return t-(parseFloat("1e"+t)>e?1:0)}return 0==e?-(1/0):NaN},goog.math.safeFloor=function(e,t){return goog.asserts.assert(!goog.isDef(t)||t>0),Math.floor(e+(t||2e-15))},goog.math.safeCeil=function(e,t){return goog.asserts.assert(!goog.isDef(t)||t>0),Math.ceil(e-(t||2e-15))},goog.labs={},goog.labs.userAgent={},goog.labs.userAgent.util={},goog.labs.userAgent.util.getNativeUserAgentString_=function(){var e=goog.labs.userAgent.util.getNavigator_();return e&&(e=e.userAgent)?e:""},goog.labs.userAgent.util.getNavigator_=function(){return goog.global.navigator},goog.labs.userAgent.util.userAgent_=goog.labs.userAgent.util.getNativeUserAgentString_(),goog.labs.userAgent.util.setUserAgent=function(e){goog.labs.userAgent.util.userAgent_=e||goog.labs.userAgent.util.getNativeUserAgentString_()},goog.labs.userAgent.util.getUserAgent=function(){return goog.labs.userAgent.util.userAgent_},goog.labs.userAgent.util.matchUserAgent=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.contains(t,e)},goog.labs.userAgent.util.matchUserAgentIgnoreCase=function(e){var t=goog.labs.userAgent.util.getUserAgent();return goog.string.caseInsensitiveContains(t,e)},goog.labs.userAgent.util.extractVersionTuples=function(e){for(var t,o=RegExp("(\\w[\\w ]+)/([^\\s]+)\\s*(?:\\((.*?)\\))?","g"),n=[];t=o.exec(e);)n.push([t[1],t[2],t[3]||void 0]);return n},goog.object={},goog.object.forEach=function(e,t,o){for(var n in e)t.call(o,e[n],n,e)},goog.object.filter=function(e,t,o){var n,r={};for(n in e)t.call(o,e[n],n,e)&&(r[n]=e[n]);return r},goog.object.map=function(e,t,o){var n,r={};for(n in e)r[n]=t.call(o,e[n],n,e);return r},goog.object.some=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return!0;return!1},goog.object.every=function(e,t,o){for(var n in e)if(!t.call(o,e[n],n,e))return!1;return!0},goog.object.getCount=function(e){var t,o=0;for(t in e)o++;return o},goog.object.getAnyKey=function(e){for(var t in e)return t},goog.object.getAnyValue=function(e){for(var t in e)return e[t]},goog.object.contains=function(e,t){return goog.object.containsValue(e,t)},goog.object.getValues=function(e){var t,o=[],n=0;for(t in e)o[n++]=e[t];return o},goog.object.getKeys=function(e){var t,o=[],n=0;for(t in e)o[n++]=t;return o},goog.object.getValueByKeys=function(e,t){for(var o=goog.isArrayLike(t),n=o?t:arguments,o=o?0:1;o<n.length&&(e=e[n[o]],goog.isDef(e));o++);return e},goog.object.containsKey=function(e,t){return null!==e&&t in e},goog.object.containsValue=function(e,t){for(var o in e)if(e[o]==t)return!0;return!1},goog.object.findKey=function(e,t,o){for(var n in e)if(t.call(o,e[n],n,e))return n},goog.object.findValue=function(e,t,o){return(t=goog.object.findKey(e,t,o))&&e[t]},goog.object.isEmpty=function(e){for(var t in e)return!1;return!0},goog.object.clear=function(e){for(var t in e)delete e[t]},goog.object.remove=function(e,t){var o;return(o=t in e)&&delete e[t],o},goog.object.add=function(e,t,o){if(null!==e&&t in e)throw Error('The object already contains the key "'+t+'"');goog.object.set(e,t,o)},goog.object.get=function(e,t,o){return null!==e&&t in e?e[t]:o},goog.object.set=function(e,t,o){e[t]=o},goog.object.setIfUndefined=function(e,t,o){return t in e?e[t]:e[t]=o},goog.object.setWithReturnValueIfNotSet=function(e,t,o){return t in e?e[t]:(o=o(),e[t]=o)},goog.object.equals=function(e,t){for(var o in e)if(!(o in t)||e[o]!==t[o])return!1;for(o in t)if(!(o in e))return!1;return!0},goog.object.clone=function(e){var t,o={};for(t in e)o[t]=e[t];return o},goog.object.unsafeClone=function(e){var t=goog.typeOf(e);if("object"==t||"array"==t){if(goog.isFunction(e.clone))return e.clone();var o,t="array"==t?[]:{};for(o in e)t[o]=goog.object.unsafeClone(e[o]);return t}return e},goog.object.transpose=function(e){var t,o={};for(t in e)o[e[t]]=t;return o},goog.object.PROTOTYPE_FIELDS_="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),goog.object.extend=function(e,t){for(var o,n,r=1;r<arguments.length;r++){n=arguments[r];for(o in n)e[o]=n[o];for(var i=0;i<goog.object.PROTOTYPE_FIELDS_.length;i++)o=goog.object.PROTOTYPE_FIELDS_[i],Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}},goog.object.create=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.create.apply(null,arguments[0]);if(t%2)throw Error("Uneven number of arguments");for(var o={},n=0;t>n;n+=2)o[arguments[n]]=arguments[n+1];return o},goog.object.createSet=function(e){var t=arguments.length;if(1==t&&goog.isArray(arguments[0]))return goog.object.createSet.apply(null,arguments[0]);for(var o={},n=0;t>n;n++)o[arguments[n]]=!0;return o},goog.object.createImmutableView=function(e){var t=e;return Object.isFrozen&&!Object.isFrozen(e)&&(t=Object.create(e),Object.freeze(t)),t},goog.object.isImmutableView=function(e){return!!Object.isFrozen&&Object.isFrozen(e)},goog.labs.userAgent.browser={},goog.labs.userAgent.browser.matchOpera_=function(){return goog.labs.userAgent.util.matchUserAgent("Opera")||goog.labs.userAgent.util.matchUserAgent("OPR")},goog.labs.userAgent.browser.matchIE_=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.browser.matchEdge_=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.browser.matchFirefox_=function(){return goog.labs.userAgent.util.matchUserAgent("Firefox")},goog.labs.userAgent.browser.matchSafari_=function(){return goog.labs.userAgent.util.matchUserAgent("Safari")&&!(goog.labs.userAgent.browser.matchChrome_()||goog.labs.userAgent.browser.matchCoast_()||goog.labs.userAgent.browser.matchOpera_()||goog.labs.userAgent.browser.matchEdge_()||goog.labs.userAgent.browser.isSilk()||goog.labs.userAgent.util.matchUserAgent("Android"))},goog.labs.userAgent.browser.matchCoast_=function(){return goog.labs.userAgent.util.matchUserAgent("Coast")},goog.labs.userAgent.browser.matchIosWebview_=function(){return(goog.labs.userAgent.util.matchUserAgent("iPad")||goog.labs.userAgent.util.matchUserAgent("iPhone"))&&!goog.labs.userAgent.browser.matchSafari_()&&!goog.labs.userAgent.browser.matchChrome_()&&!goog.labs.userAgent.browser.matchCoast_()&&goog.labs.userAgent.util.matchUserAgent("AppleWebKit")},goog.labs.userAgent.browser.matchChrome_=function(){return(goog.labs.userAgent.util.matchUserAgent("Chrome")||goog.labs.userAgent.util.matchUserAgent("CriOS"))&&!goog.labs.userAgent.browser.matchOpera_()&&!goog.labs.userAgent.browser.matchEdge_()},goog.labs.userAgent.browser.matchAndroidBrowser_=function(){return goog.labs.userAgent.util.matchUserAgent("Android")&&!(goog.labs.userAgent.browser.isChrome()||goog.labs.userAgent.browser.isFirefox()||goog.labs.userAgent.browser.isOpera()||goog.labs.userAgent.browser.isSilk())},goog.labs.userAgent.browser.isOpera=goog.labs.userAgent.browser.matchOpera_,goog.labs.userAgent.browser.isIE=goog.labs.userAgent.browser.matchIE_,goog.labs.userAgent.browser.isEdge=goog.labs.userAgent.browser.matchEdge_,goog.labs.userAgent.browser.isFirefox=goog.labs.userAgent.browser.matchFirefox_,goog.labs.userAgent.browser.isSafari=goog.labs.userAgent.browser.matchSafari_,goog.labs.userAgent.browser.isCoast=goog.labs.userAgent.browser.matchCoast_,goog.labs.userAgent.browser.isIosWebview=goog.labs.userAgent.browser.matchIosWebview_,goog.labs.userAgent.browser.isChrome=goog.labs.userAgent.browser.matchChrome_,goog.labs.userAgent.browser.isAndroidBrowser=goog.labs.userAgent.browser.matchAndroidBrowser_,goog.labs.userAgent.browser.isSilk=function(){return goog.labs.userAgent.util.matchUserAgent("Silk")},goog.labs.userAgent.browser.getVersion=function(){function e(e){return e=goog.array.find(e,n),o[e]||""}var t=goog.labs.userAgent.util.getUserAgent();if(goog.labs.userAgent.browser.isIE())return goog.labs.userAgent.browser.getIEVersion_(t);var t=goog.labs.userAgent.util.extractVersionTuples(t),o={};goog.array.forEach(t,function(e){o[e[0]]=e[1]});var n=goog.partial(goog.object.containsKey,o);return goog.labs.userAgent.browser.isOpera()?e(["Version","Opera","OPR"]):goog.labs.userAgent.browser.isEdge()?e(["Edge"]):goog.labs.userAgent.browser.isChrome()?e(["Chrome","CriOS"]):(t=t[2])&&t[1]||""},goog.labs.userAgent.browser.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.browser.getVersion(),e)},goog.labs.userAgent.browser.getIEVersion_=function(e){var t=/rv: *([\d\.]*)/.exec(e);if(t&&t[1])return t[1];var t="",o=/MSIE +([\d\.]+)/.exec(e);if(o&&o[1])if(e=/Trident\/(\d.\d)/.exec(e),"7.0"==o[1])if(e&&e[1])switch(e[1]){case"4.0":t="8.0";break;case"5.0":t="9.0";break;case"6.0":t="10.0";break;case"7.0":t="11.0"}else t="7.0";else t=o[1];return t},goog.labs.userAgent.engine={},goog.labs.userAgent.engine.isPresto=function(){return goog.labs.userAgent.util.matchUserAgent("Presto")},goog.labs.userAgent.engine.isTrident=function(){return goog.labs.userAgent.util.matchUserAgent("Trident")||goog.labs.userAgent.util.matchUserAgent("MSIE")},goog.labs.userAgent.engine.isEdge=function(){return goog.labs.userAgent.util.matchUserAgent("Edge")},goog.labs.userAgent.engine.isWebKit=function(){return goog.labs.userAgent.util.matchUserAgentIgnoreCase("WebKit")&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.isGecko=function(){return goog.labs.userAgent.util.matchUserAgent("Gecko")&&!goog.labs.userAgent.engine.isWebKit()&&!goog.labs.userAgent.engine.isTrident()&&!goog.labs.userAgent.engine.isEdge()},goog.labs.userAgent.engine.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent();if(e){var e=goog.labs.userAgent.util.extractVersionTuples(e),t=goog.labs.userAgent.engine.getEngineTuple_(e);if(t)return"Gecko"==t[0]?goog.labs.userAgent.engine.getVersionForKey_(e,"Firefox"):t[1];var o,e=e[0];if(e&&(o=e[2])&&(o=/Trident\/([^\s;]+)/.exec(o)))return o[1]}return""},goog.labs.userAgent.engine.getEngineTuple_=function(e){if(!goog.labs.userAgent.engine.isEdge())return e[1];for(var t=0;t<e.length;t++){var o=e[t];if("Edge"==o[0])return o}},goog.labs.userAgent.engine.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.engine.getVersion(),e)},goog.labs.userAgent.engine.getVersionForKey_=function(e,t){var o=goog.array.find(e,function(e){return t==e[0]});return o&&o[1]||""},goog.labs.userAgent.platform={},goog.labs.userAgent.platform.isAndroid=function(){return goog.labs.userAgent.util.matchUserAgent("Android")},goog.labs.userAgent.platform.isIpod=function(){return goog.labs.userAgent.util.matchUserAgent("iPod")},goog.labs.userAgent.platform.isIphone=function(){return goog.labs.userAgent.util.matchUserAgent("iPhone")&&!goog.labs.userAgent.util.matchUserAgent("iPod")&&!goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIpad=function(){return goog.labs.userAgent.util.matchUserAgent("iPad")},goog.labs.userAgent.platform.isIos=function(){return goog.labs.userAgent.platform.isIphone()||goog.labs.userAgent.platform.isIpad()||goog.labs.userAgent.platform.isIpod()},goog.labs.userAgent.platform.isMacintosh=function(){return goog.labs.userAgent.util.matchUserAgent("Macintosh")},goog.labs.userAgent.platform.isLinux=function(){return goog.labs.userAgent.util.matchUserAgent("Linux")},goog.labs.userAgent.platform.isWindows=function(){return goog.labs.userAgent.util.matchUserAgent("Windows")},goog.labs.userAgent.platform.isChromeOS=function(){return goog.labs.userAgent.util.matchUserAgent("CrOS")},goog.labs.userAgent.platform.getVersion=function(){var e=goog.labs.userAgent.util.getUserAgent(),t="";return goog.labs.userAgent.platform.isWindows()?(t=/Windows (?:NT|Phone) ([0-9.]+)/,t=(e=t.exec(e))?e[1]:"0.0"):goog.labs.userAgent.platform.isIos()?(t=/(?:iPhone|iPod|iPad|CPU)\s+OS\s+(\S+)/,t=(e=t.exec(e))&&e[1].replace(/_/g,".")):goog.labs.userAgent.platform.isMacintosh()?(t=/Mac OS X ([0-9_.]+)/,t=(e=t.exec(e))?e[1].replace(/_/g,"."):"10"):goog.labs.userAgent.platform.isAndroid()?(t=/Android\s+([^\);]+)(\)|;)/,t=(e=t.exec(e))&&e[1]):goog.labs.userAgent.platform.isChromeOS()&&(t=/(?:CrOS\s+(?:i686|x86_64)\s+([0-9.]+))/,t=(e=t.exec(e))&&e[1]),t||""},goog.labs.userAgent.platform.isVersionOrHigher=function(e){return 0<=goog.string.compareVersions(goog.labs.userAgent.platform.getVersion(),e)},goog.userAgent={},goog.userAgent.ASSUME_IE=!1,goog.userAgent.ASSUME_EDGE=!1,goog.userAgent.ASSUME_GECKO=!1,goog.userAgent.ASSUME_WEBKIT=!1,goog.userAgent.ASSUME_MOBILE_WEBKIT=!1,goog.userAgent.ASSUME_OPERA=!1,goog.userAgent.ASSUME_ANY_VERSION=!1,goog.userAgent.BROWSER_KNOWN_=goog.userAgent.ASSUME_IE||goog.userAgent.ASSUME_EDGE||goog.userAgent.ASSUME_GECKO||goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_OPERA,goog.userAgent.getUserAgentString=function(){return goog.labs.userAgent.util.getUserAgent()},goog.userAgent.getNavigator=function(){return goog.global.navigator||null},goog.userAgent.OPERA=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_OPERA:goog.labs.userAgent.browser.isOpera(),goog.userAgent.IE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_IE:goog.labs.userAgent.browser.isIE(),goog.userAgent.EDGE=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_EDGE:goog.labs.userAgent.engine.isEdge(),goog.userAgent.EDGE_OR_IE=goog.userAgent.EDGE||goog.userAgent.IE,goog.userAgent.GECKO=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_GECKO:goog.labs.userAgent.engine.isGecko(),goog.userAgent.WEBKIT=goog.userAgent.BROWSER_KNOWN_?goog.userAgent.ASSUME_WEBKIT||goog.userAgent.ASSUME_MOBILE_WEBKIT:goog.labs.userAgent.engine.isWebKit(),goog.userAgent.isMobile_=function(){return goog.userAgent.WEBKIT&&goog.labs.userAgent.util.matchUserAgent("Mobile")},goog.userAgent.MOBILE=goog.userAgent.ASSUME_MOBILE_WEBKIT||goog.userAgent.isMobile_(),goog.userAgent.SAFARI=goog.userAgent.WEBKIT,goog.userAgent.determinePlatform_=function(){var e=goog.userAgent.getNavigator();return e&&e.platform||""},goog.userAgent.PLATFORM=goog.userAgent.determinePlatform_(),goog.userAgent.ASSUME_MAC=!1,goog.userAgent.ASSUME_WINDOWS=!1,goog.userAgent.ASSUME_LINUX=!1,goog.userAgent.ASSUME_X11=!1,goog.userAgent.ASSUME_ANDROID=!1,goog.userAgent.ASSUME_IPHONE=!1,goog.userAgent.ASSUME_IPAD=!1,goog.userAgent.PLATFORM_KNOWN_=goog.userAgent.ASSUME_MAC||goog.userAgent.ASSUME_WINDOWS||goog.userAgent.ASSUME_LINUX||goog.userAgent.ASSUME_X11||goog.userAgent.ASSUME_ANDROID||goog.userAgent.ASSUME_IPHONE||goog.userAgent.ASSUME_IPAD,goog.userAgent.MAC=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_MAC:goog.labs.userAgent.platform.isMacintosh(),goog.userAgent.WINDOWS=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_WINDOWS:goog.labs.userAgent.platform.isWindows(),goog.userAgent.isLegacyLinux_=function(){return goog.labs.userAgent.platform.isLinux()||goog.labs.userAgent.platform.isChromeOS()},goog.userAgent.LINUX=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_LINUX:goog.userAgent.isLegacyLinux_(),goog.userAgent.isX11_=function(){var e=goog.userAgent.getNavigator();return!!e&&goog.string.contains(e.appVersion||"","X11")},goog.userAgent.X11=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_X11:goog.userAgent.isX11_(),goog.userAgent.ANDROID=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_ANDROID:goog.labs.userAgent.platform.isAndroid(),goog.userAgent.IPHONE=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPHONE:goog.labs.userAgent.platform.isIphone(),goog.userAgent.IPAD=goog.userAgent.PLATFORM_KNOWN_?goog.userAgent.ASSUME_IPAD:goog.labs.userAgent.platform.isIpad(),goog.userAgent.determineVersion_=function(){var e="",t=goog.userAgent.getVersionRegexResult_();return t&&(e=t?t[1]:""),goog.userAgent.IE&&(t=goog.userAgent.getDocumentMode_(),null!=t&&t>parseFloat(e))?String(t):e},goog.userAgent.getVersionRegexResult_=function(){var e=goog.userAgent.getUserAgentString();return goog.userAgent.GECKO?/rv\:([^\);]+)(\)|;)/.exec(e):goog.userAgent.EDGE?/Edge\/([\d\.]+)/.exec(e):goog.userAgent.IE?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):goog.userAgent.WEBKIT?/WebKit\/(\S+)/.exec(e):goog.userAgent.OPERA?/(?:Version)[ \/]?(\S+)/.exec(e):void 0},goog.userAgent.getDocumentMode_=function(){var e=goog.global.document;return e?e.documentMode:void 0},goog.userAgent.VERSION=goog.userAgent.determineVersion_(),goog.userAgent.compare=function(e,t){return goog.string.compareVersions(e,t)},goog.userAgent.isVersionOrHigherCache_={},goog.userAgent.isVersionOrHigher=function(e){return goog.userAgent.ASSUME_ANY_VERSION||goog.userAgent.isVersionOrHigherCache_[e]||(goog.userAgent.isVersionOrHigherCache_[e]=0<=goog.string.compareVersions(goog.userAgent.VERSION,e))},goog.userAgent.isVersion=goog.userAgent.isVersionOrHigher,goog.userAgent.isDocumentModeOrHigher=function(e){return Number(goog.userAgent.DOCUMENT_MODE)>=e},goog.userAgent.isDocumentMode=goog.userAgent.isDocumentModeOrHigher,goog.userAgent.DOCUMENT_MODE=function(){var e=goog.global.document,t=goog.userAgent.getDocumentMode_();return e&&goog.userAgent.IE?t||("CSS1Compat"==e.compatMode?parseInt(goog.userAgent.VERSION,10):5):void 0}(),goog.dom.BrowserFeature={CAN_ADD_NAME_OR_TYPE_ATTRIBUTES:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),CAN_USE_CHILDREN_ATTRIBUTE:!goog.userAgent.GECKO&&!goog.userAgent.IE||goog.userAgent.IE&&goog.userAgent.isDocumentModeOrHigher(9)||goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9.1"),CAN_USE_INNER_TEXT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),CAN_USE_PARENT_ELEMENT_PROPERTY:goog.userAgent.IE||goog.userAgent.OPERA||goog.userAgent.WEBKIT,INNER_HTML_NEEDS_SCOPED_ELEMENT:goog.userAgent.IE,LEGACY_IE_RANGES:goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)},goog.dom.TagName={A:"A",ABBR:"ABBR",ACRONYM:"ACRONYM",ADDRESS:"ADDRESS",APPLET:"APPLET",AREA:"AREA",ARTICLE:"ARTICLE",ASIDE:"ASIDE",AUDIO:"AUDIO",B:"B",BASE:"BASE",BASEFONT:"BASEFONT",BDI:"BDI",BDO:"BDO",BIG:"BIG",BLOCKQUOTE:"BLOCKQUOTE",BODY:"BODY",BR:"BR",BUTTON:"BUTTON",CANVAS:"CANVAS",CAPTION:"CAPTION",CENTER:"CENTER",CITE:"CITE",CODE:"CODE",COL:"COL",COLGROUP:"COLGROUP",COMMAND:"COMMAND",DATA:"DATA",DATALIST:"DATALIST",DD:"DD",DEL:"DEL",DETAILS:"DETAILS",DFN:"DFN",DIALOG:"DIALOG",DIR:"DIR",DIV:"DIV",DL:"DL",DT:"DT",EM:"EM",EMBED:"EMBED",FIELDSET:"FIELDSET",FIGCAPTION:"FIGCAPTION",FIGURE:"FIGURE",FONT:"FONT",FOOTER:"FOOTER",FORM:"FORM",FRAME:"FRAME",FRAMESET:"FRAMESET",H1:"H1",H2:"H2",H3:"H3",H4:"H4",H5:"H5",H6:"H6",HEAD:"HEAD",HEADER:"HEADER",HGROUP:"HGROUP",HR:"HR",HTML:"HTML",I:"I",IFRAME:"IFRAME",IMG:"IMG",INPUT:"INPUT",INS:"INS",ISINDEX:"ISINDEX",KBD:"KBD",KEYGEN:"KEYGEN",LABEL:"LABEL",LEGEND:"LEGEND",LI:"LI",LINK:"LINK",MAP:"MAP",MARK:"MARK",MATH:"MATH",MENU:"MENU",META:"META",METER:"METER",NAV:"NAV",NOFRAMES:"NOFRAMES",NOSCRIPT:"NOSCRIPT",OBJECT:"OBJECT",OL:"OL",OPTGROUP:"OPTGROUP",OPTION:"OPTION",OUTPUT:"OUTPUT",P:"P",PARAM:"PARAM",PRE:"PRE",PROGRESS:"PROGRESS",Q:"Q",RP:"RP",RT:"RT",RUBY:"RUBY",S:"S",SAMP:"SAMP",SCRIPT:"SCRIPT",SECTION:"SECTION",SELECT:"SELECT",SMALL:"SMALL",SOURCE:"SOURCE",SPAN:"SPAN",STRIKE:"STRIKE",STRONG:"STRONG",STYLE:"STYLE",SUB:"SUB",SUMMARY:"SUMMARY",SUP:"SUP",SVG:"SVG",TABLE:"TABLE",TBODY:"TBODY",TD:"TD",TEMPLATE:"TEMPLATE",TEXTAREA:"TEXTAREA",TFOOT:"TFOOT",TH:"TH",THEAD:"THEAD",TIME:"TIME",TITLE:"TITLE",TR:"TR",TRACK:"TRACK",
TT:"TT",U:"U",UL:"UL",VAR:"VAR",VIDEO:"VIDEO",WBR:"WBR"},goog.dom.tags={},goog.dom.tags.VOID_TAGS_={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},goog.dom.tags.isVoidTag=function(e){return!0===goog.dom.tags.VOID_TAGS_[e]},goog.string.TypedString=function(){},goog.string.Const=function(){this.stringConstValueWithSecurityContract__googStringSecurityPrivate_="",this.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_=goog.string.Const.TYPE_MARKER_},goog.string.Const.prototype.implementsGoogStringTypedString=!0,goog.string.Const.prototype.getTypedStringValue=function(){return this.stringConstValueWithSecurityContract__googStringSecurityPrivate_},goog.string.Const.prototype.toString=function(){return"Const{"+this.stringConstValueWithSecurityContract__googStringSecurityPrivate_+"}"},goog.string.Const.unwrap=function(e){return e instanceof goog.string.Const&&e.constructor===goog.string.Const&&e.STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_===goog.string.Const.TYPE_MARKER_?e.stringConstValueWithSecurityContract__googStringSecurityPrivate_:(goog.asserts.fail("expected object of type Const, got '"+e+"'"),"type_error:Const")},goog.string.Const.from=function(e){return goog.string.Const.create__googStringSecurityPrivate_(e)},goog.string.Const.TYPE_MARKER_={},goog.string.Const.create__googStringSecurityPrivate_=function(e){var t=new goog.string.Const;return t.stringConstValueWithSecurityContract__googStringSecurityPrivate_=e,t},goog.html={},goog.html.SafeStyle=function(){this.privateDoNotAccessOrElseSafeStyleWrappedValue_="",this.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyle.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyle.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyle.EMPTY:(goog.html.SafeStyle.checkStyle_(e),goog.asserts.assert(goog.string.endsWith(e,";"),"Last character of style string is not ';': "+e),goog.asserts.assert(goog.string.contains(e,":"),"Style string must contain at least one ':', to specify a \"name: value\" pair: "+e),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyle.checkStyle_=function(e){goog.asserts.assert(!/[<>]/.test(e),"Forbidden characters in style string: "+e)},goog.html.SafeStyle.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_},goog.DEBUG&&(goog.html.SafeStyle.prototype.toString=function(){return"SafeStyle{"+this.privateDoNotAccessOrElseSafeStyleWrappedValue_+"}"}),goog.html.SafeStyle.unwrap=function(e){return e instanceof goog.html.SafeStyle&&e.constructor===goog.html.SafeStyle&&e.SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyle.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleWrappedValue_:(goog.asserts.fail("expected object of type SafeStyle, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyle")},goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyle).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyle.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleWrappedValue_=e,this},goog.html.SafeStyle.EMPTY=goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(""),goog.html.SafeStyle.INNOCUOUS_STRING="zClosurez",goog.html.SafeStyle.create=function(e){var t,o="";for(t in e){if(!/^[-_a-zA-Z0-9]+$/.test(t))throw Error("Name allows only [-_a-zA-Z0-9], got: "+t);var n=e[t];null!=n&&(n instanceof goog.string.Const?(n=goog.string.Const.unwrap(n),goog.asserts.assert(!/[{;}]/.test(n),"Value does not allow [{;}].")):goog.html.SafeStyle.VALUE_RE_.test(n)?goog.html.SafeStyle.hasBalancedQuotes_(n)||(goog.asserts.fail("String value requires balanced quotes, got: "+n),n=goog.html.SafeStyle.INNOCUOUS_STRING):(goog.asserts.fail("String value allows only [-,.\"'%_!# a-zA-Z0-9], rgb() and rgba(), got: "+n),n=goog.html.SafeStyle.INNOCUOUS_STRING),o+=t+":"+n+";")}return o?(goog.html.SafeStyle.checkStyle_(o),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(o)):goog.html.SafeStyle.EMPTY},goog.html.SafeStyle.hasBalancedQuotes_=function(e){for(var t=!0,o=!0,n=0;n<e.length;n++){var r=e.charAt(n);"'"==r&&o?t=!t:'"'==r&&t&&(o=!o)}return t&&o},goog.html.SafeStyle.VALUE_RE_=/^([-,."'%_!# a-zA-Z0-9]+|(?:rgb|hsl)a?\([0-9.%, ]+\))$/,goog.html.SafeStyle.concat=function(e){var t="",o=function(e){goog.isArray(e)?goog.array.forEach(e,o):t+=goog.html.SafeStyle.unwrap(e)};return goog.array.forEach(arguments,o),t?goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t):goog.html.SafeStyle.EMPTY},goog.html.SafeStyleSheet=function(){this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_="",this.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeStyleSheet.prototype.implementsGoogStringTypedString=!0,goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeStyleSheet.concat=function(e){var t="",o=function(e){goog.isArray(e)?goog.array.forEach(e,o):t+=goog.html.SafeStyleSheet.unwrap(e)};return goog.array.forEach(arguments,o),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.SafeStyleSheet.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeStyleSheet.EMPTY:(goog.asserts.assert(!goog.string.contains(e,"<"),"Forbidden '<' character in style sheet string: "+e),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeStyleSheet.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_},goog.DEBUG&&(goog.html.SafeStyleSheet.prototype.toString=function(){return"SafeStyleSheet{"+this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_+"}"}),goog.html.SafeStyleSheet.unwrap=function(e){return e instanceof goog.html.SafeStyleSheet&&e.constructor===goog.html.SafeStyleSheet&&e.SAFE_STYLE_SHEET_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeStyleSheet.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_:(goog.asserts.fail("expected object of type SafeStyleSheet, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeStyleSheet")},goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeStyleSheet).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeStyleSheet.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeStyleSheetWrappedValue_=e,this},goog.html.SafeStyleSheet.EMPTY=goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(""),goog.fs={},goog.fs.url={},goog.fs.url.createObjectUrl=function(e){return goog.fs.url.getUrlObject_().createObjectURL(e)},goog.fs.url.revokeObjectUrl=function(e){goog.fs.url.getUrlObject_().revokeObjectURL(e)},goog.fs.url.getUrlObject_=function(){var e=goog.fs.url.findUrlObject_();if(null!=e)return e;throw Error("This browser doesn't seem to support blob URLs")},goog.fs.url.findUrlObject_=function(){return goog.isDef(goog.global.URL)&&goog.isDef(goog.global.URL.createObjectURL)?goog.global.URL:goog.isDef(goog.global.webkitURL)&&goog.isDef(goog.global.webkitURL.createObjectURL)?goog.global.webkitURL:goog.isDef(goog.global.createObjectURL)?goog.global:null},goog.fs.url.browserSupportsObjectUrls=function(){return null!=goog.fs.url.findUrlObject_()},goog.i18n={},goog.i18n.bidi={},goog.i18n.bidi.FORCE_RTL=!1,goog.i18n.bidi.IS_RTL=goog.i18n.bidi.FORCE_RTL||("ar"==goog.LOCALE.substring(0,2).toLowerCase()||"fa"==goog.LOCALE.substring(0,2).toLowerCase()||"he"==goog.LOCALE.substring(0,2).toLowerCase()||"iw"==goog.LOCALE.substring(0,2).toLowerCase()||"ps"==goog.LOCALE.substring(0,2).toLowerCase()||"sd"==goog.LOCALE.substring(0,2).toLowerCase()||"ug"==goog.LOCALE.substring(0,2).toLowerCase()||"ur"==goog.LOCALE.substring(0,2).toLowerCase()||"yi"==goog.LOCALE.substring(0,2).toLowerCase())&&(2==goog.LOCALE.length||"-"==goog.LOCALE.substring(2,3)||"_"==goog.LOCALE.substring(2,3))||3<=goog.LOCALE.length&&"ckb"==goog.LOCALE.substring(0,3).toLowerCase()&&(3==goog.LOCALE.length||"-"==goog.LOCALE.substring(3,4)||"_"==goog.LOCALE.substring(3,4)),goog.i18n.bidi.Format={LRE:"‪",RLE:"‫",PDF:"‬",LRM:"‎",RLM:"‏"},goog.i18n.bidi.Dir={LTR:1,RTL:-1,NEUTRAL:0},goog.i18n.bidi.RIGHT="right",goog.i18n.bidi.LEFT="left",goog.i18n.bidi.I18N_RIGHT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.LEFT:goog.i18n.bidi.RIGHT,goog.i18n.bidi.I18N_LEFT=goog.i18n.bidi.IS_RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,goog.i18n.bidi.toDir=function(e,t){return"number"==typeof e?e>0?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:t?null:goog.i18n.bidi.Dir.NEUTRAL:null==e?null:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.ltrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿‎Ⰰ-﬜︀-﹯﻽-￿",goog.i18n.bidi.rtlChars_="֑-ۯۺ-߿‏יִ-﷿ﹰ-ﻼ",goog.i18n.bidi.htmlSkipReg_=/<[^>]*>|&[^;]+;/g,goog.i18n.bidi.stripHtmlIfNeeded_=function(e,t){return t?e.replace(goog.i18n.bidi.htmlSkipReg_,""):e},goog.i18n.bidi.rtlCharReg_=new RegExp("["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.ltrCharReg_=new RegExp("["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.hasAnyRtl=function(e,t){return goog.i18n.bidi.rtlCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.hasRtlChar=goog.i18n.bidi.hasAnyRtl,goog.i18n.bidi.hasAnyLtr=function(e,t){return goog.i18n.bidi.ltrCharReg_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.ltrRe_=new RegExp("^["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlRe_=new RegExp("^["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.isRtlChar=function(e){return goog.i18n.bidi.rtlRe_.test(e)},goog.i18n.bidi.isLtrChar=function(e){return goog.i18n.bidi.ltrRe_.test(e)},goog.i18n.bidi.isNeutralChar=function(e){return!goog.i18n.bidi.isLtrChar(e)&&!goog.i18n.bidi.isRtlChar(e)},goog.i18n.bidi.ltrDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.rtlChars_+"]*["+goog.i18n.bidi.ltrChars_+"]"),goog.i18n.bidi.rtlDirCheckRe_=new RegExp("^[^"+goog.i18n.bidi.ltrChars_+"]*["+goog.i18n.bidi.rtlChars_+"]"),goog.i18n.bidi.startsWithRtl=function(e,t){return goog.i18n.bidi.rtlDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlText=goog.i18n.bidi.startsWithRtl,goog.i18n.bidi.startsWithLtr=function(e,t){return goog.i18n.bidi.ltrDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrText=goog.i18n.bidi.startsWithLtr,goog.i18n.bidi.isRequiredLtrRe_=/^http:\/\/.*/,goog.i18n.bidi.isNeutralText=function(e,t){return e=goog.i18n.bidi.stripHtmlIfNeeded_(e,t),goog.i18n.bidi.isRequiredLtrRe_.test(e)||!goog.i18n.bidi.hasAnyLtr(e)&&!goog.i18n.bidi.hasAnyRtl(e)},goog.i18n.bidi.ltrExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.ltrChars_+"][^"+goog.i18n.bidi.rtlChars_+"]*$"),goog.i18n.bidi.rtlExitDirCheckRe_=new RegExp("["+goog.i18n.bidi.rtlChars_+"][^"+goog.i18n.bidi.ltrChars_+"]*$"),goog.i18n.bidi.endsWithLtr=function(e,t){return goog.i18n.bidi.ltrExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isLtrExitText=goog.i18n.bidi.endsWithLtr,goog.i18n.bidi.endsWithRtl=function(e,t){return goog.i18n.bidi.rtlExitDirCheckRe_.test(goog.i18n.bidi.stripHtmlIfNeeded_(e,t))},goog.i18n.bidi.isRtlExitText=goog.i18n.bidi.endsWithRtl,goog.i18n.bidi.rtlLocalesRe_=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Arab|Hebr|Thaa|Nkoo|Tfng))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i,goog.i18n.bidi.isRtlLanguage=function(e){return goog.i18n.bidi.rtlLocalesRe_.test(e)},goog.i18n.bidi.bracketGuardTextRe_=/(\(.*?\)+)|(\[.*?\]+)|(\{.*?\}+)|(<.*?>+)/g,goog.i18n.bidi.guardBracketInText=function(e,t){var o=(void 0===t?goog.i18n.bidi.hasAnyRtl(e):t)?goog.i18n.bidi.Format.RLM:goog.i18n.bidi.Format.LRM;return e.replace(goog.i18n.bidi.bracketGuardTextRe_,o+"$&"+o)},goog.i18n.bidi.enforceRtlInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=rtl"):"\n<span dir=rtl>"+e+"</span>"},goog.i18n.bidi.enforceRtlInText=function(e){return goog.i18n.bidi.Format.RLE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.enforceLtrInHtml=function(e){return"<"==e.charAt(0)?e.replace(/<\w+/,"$& dir=ltr"):"\n<span dir=ltr>"+e+"</span>"},goog.i18n.bidi.enforceLtrInText=function(e){return goog.i18n.bidi.Format.LRE+e+goog.i18n.bidi.Format.PDF},goog.i18n.bidi.dimensionsRe_=/:\s*([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)\s+([.\d][.\w]*)/g,goog.i18n.bidi.leftRe_=/left/gi,goog.i18n.bidi.rightRe_=/right/gi,goog.i18n.bidi.tempRe_=/%%%%/g,goog.i18n.bidi.mirrorCSS=function(e){return e.replace(goog.i18n.bidi.dimensionsRe_,":$1 $4 $3 $2").replace(goog.i18n.bidi.leftRe_,"%%%%").replace(goog.i18n.bidi.rightRe_,goog.i18n.bidi.LEFT).replace(goog.i18n.bidi.tempRe_,goog.i18n.bidi.RIGHT)},goog.i18n.bidi.doubleQuoteSubstituteRe_=/([\u0591-\u05f2])"/g,goog.i18n.bidi.singleQuoteSubstituteRe_=/([\u0591-\u05f2])'/g,goog.i18n.bidi.normalizeHebrewQuote=function(e){return e.replace(goog.i18n.bidi.doubleQuoteSubstituteRe_,"$1״").replace(goog.i18n.bidi.singleQuoteSubstituteRe_,"$1׳")},goog.i18n.bidi.wordSeparatorRe_=/\s+/,goog.i18n.bidi.hasNumeralsRe_=/[\d\u06f0-\u06f9]/,goog.i18n.bidi.rtlDetectionThreshold_=.4,goog.i18n.bidi.estimateDirection=function(e,t){for(var o=0,n=0,r=!1,i=goog.i18n.bidi.stripHtmlIfNeeded_(e,t).split(goog.i18n.bidi.wordSeparatorRe_),s=0;s<i.length;s++){var a=i[s];goog.i18n.bidi.startsWithRtl(a)?(o++,n++):goog.i18n.bidi.isRequiredLtrRe_.test(a)?r=!0:goog.i18n.bidi.hasAnyLtr(a)?n++:goog.i18n.bidi.hasNumeralsRe_.test(a)&&(r=!0)}return 0==n?r?goog.i18n.bidi.Dir.LTR:goog.i18n.bidi.Dir.NEUTRAL:o/n>goog.i18n.bidi.rtlDetectionThreshold_?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.bidi.detectRtlDirectionality=function(e,t){return goog.i18n.bidi.estimateDirection(e,t)==goog.i18n.bidi.Dir.RTL},goog.i18n.bidi.setElementDirAndAlign=function(e,t){e&&(t=goog.i18n.bidi.toDir(t))&&(e.style.textAlign=t==goog.i18n.bidi.Dir.RTL?goog.i18n.bidi.RIGHT:goog.i18n.bidi.LEFT,e.dir=t==goog.i18n.bidi.Dir.RTL?"rtl":"ltr")},goog.i18n.bidi.setElementDirByTextDirectionality=function(e,t){switch(goog.i18n.bidi.estimateDirection(t)){case goog.i18n.bidi.Dir.LTR:e.dir="ltr";break;case goog.i18n.bidi.Dir.RTL:e.dir="rtl";break;default:e.removeAttribute("dir")}},goog.i18n.bidi.DirectionalString=function(){},goog.html.SafeUrl=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeUrl.INNOCUOUS_STRING="about:invalid#zClosurez",goog.html.SafeUrl.prototype.implementsGoogStringTypedString=!0,goog.html.SafeUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.html.SafeUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.SafeUrl.prototype.toString=function(){return"SafeUrl{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeUrl.unwrap=function(e){return e instanceof goog.html.SafeUrl&&e.constructor===goog.html.SafeUrl&&e.SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeUrl")},goog.html.SafeUrl.fromConstant=function(e){return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.SAFE_MIME_TYPE_PATTERN_=/^(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm))$/i,goog.html.SafeUrl.fromBlob=function(e){return e=goog.html.SAFE_MIME_TYPE_PATTERN_.test(e.type)?goog.fs.url.createObjectUrl(e):goog.html.SafeUrl.INNOCUOUS_STRING,goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.DATA_URL_PATTERN_=/^data:([^;,]*);base64,[a-z0-9+\/]+=*$/i,goog.html.SafeUrl.fromDataUrl=function(e){var t=e.match(goog.html.DATA_URL_PATTERN_),t=t&&goog.html.SAFE_MIME_TYPE_PATTERN_.test(t[1]);return goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t?e:goog.html.SafeUrl.INNOCUOUS_STRING)},goog.html.SafeUrl.fromTelUrl=function(e){return goog.string.caseInsensitiveStartsWith(e,"tel:")||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.SAFE_URL_PATTERN_=/^(?:(?:https?|mailto|ftp):|[^&:\/?#]*(?:[\/?#]|$))/i,goog.html.SafeUrl.sanitize=function(e){return e instanceof goog.html.SafeUrl?e:(e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SAFE_URL_PATTERN_.test(e)||(e=goog.html.SafeUrl.INNOCUOUS_STRING),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e))},goog.html.SafeUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.SafeUrl;return t.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,t},goog.html.SafeUrl.ABOUT_BLANK=goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse("about:blank"),goog.html.TrustedResourceUrl=function(){this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_="",this.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.TrustedResourceUrl.prototype.implementsGoogStringTypedString=!0,goog.html.TrustedResourceUrl.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_},goog.html.TrustedResourceUrl.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.TrustedResourceUrl.prototype.getDirection=function(){return goog.i18n.bidi.Dir.LTR},goog.DEBUG&&(goog.html.TrustedResourceUrl.prototype.toString=function(){return"TrustedResourceUrl{"+this.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_+"}"}),goog.html.TrustedResourceUrl.unwrap=function(e){return e instanceof goog.html.TrustedResourceUrl&&e.constructor===goog.html.TrustedResourceUrl&&e.TRUSTED_RESOURCE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_:(goog.asserts.fail("expected object of type TrustedResourceUrl, got '"+e+"' of type "+goog.typeOf(e)),"type_error:TrustedResourceUrl")},goog.html.TrustedResourceUrl.fromConstant=function(e){return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(goog.string.Const.unwrap(e))},goog.html.TrustedResourceUrl.fromConstants=function(e){for(var t="",o=0;o<e.length;o++)t+=goog.string.Const.unwrap(e[o]);return goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.TrustedResourceUrl.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse=function(e){var t=new goog.html.TrustedResourceUrl;return t.privateDoNotAccessOrElseTrustedResourceUrlWrappedValue_=e,t},goog.html.SafeHtml=function(){this.privateDoNotAccessOrElseSafeHtmlWrappedValue_="",this.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_,this.dir_=null},goog.html.SafeHtml.prototype.implementsGoogI18nBidiDirectionalString=!0,goog.html.SafeHtml.prototype.getDirection=function(){return this.dir_},goog.html.SafeHtml.prototype.implementsGoogStringTypedString=!0,goog.html.SafeHtml.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_},goog.DEBUG&&(goog.html.SafeHtml.prototype.toString=function(){return"SafeHtml{"+this.privateDoNotAccessOrElseSafeHtmlWrappedValue_+"}"}),goog.html.SafeHtml.unwrap=function(e){return e instanceof goog.html.SafeHtml&&e.constructor===goog.html.SafeHtml&&e.SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeHtmlWrappedValue_:(goog.asserts.fail("expected object of type SafeHtml, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeHtml")},goog.html.SafeHtml.htmlEscape=function(e){if(e instanceof goog.html.SafeHtml)return e;var t=null;return e.implementsGoogI18nBidiDirectionalString&&(t=e.getDirection()),e=e.implementsGoogStringTypedString?e.getTypedStringValue():String(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.htmlEscape(e),t)},goog.html.SafeHtml.htmlEscapePreservingNewlines=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.newLineToBr(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces=function(e){return e instanceof goog.html.SafeHtml?e:(e=goog.html.SafeHtml.htmlEscape(e),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(goog.string.whitespaceEscape(goog.html.SafeHtml.unwrap(e)),e.getDirection()))},goog.html.SafeHtml.from=goog.html.SafeHtml.htmlEscape,goog.html.SafeHtml.VALID_NAMES_IN_TAG_=/^[a-zA-Z0-9-]+$/,goog.html.SafeHtml.URL_ATTRIBUTES_={action:!0,cite:!0,data:!0,formaction:!0,href:!0,manifest:!0,poster:!0,src:!0},goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_=goog.object.createSet(goog.dom.TagName.APPLET,goog.dom.TagName.BASE,goog.dom.TagName.EMBED,goog.dom.TagName.IFRAME,goog.dom.TagName.LINK,goog.dom.TagName.MATH,goog.dom.TagName.META,goog.dom.TagName.OBJECT,goog.dom.TagName.SCRIPT,goog.dom.TagName.STYLE,goog.dom.TagName.SVG,goog.dom.TagName.TEMPLATE),goog.html.SafeHtml.create=function(e,t,o){return goog.html.SafeHtml.verifyTagName(e),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse(e,t,o)},goog.html.SafeHtml.verifyTagName=function(e){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(e))throw Error("Invalid tag name <"+e+">.");if(e.toUpperCase()in goog.html.SafeHtml.NOT_ALLOWED_TAG_NAMES_)throw Error("Tag name <"+e+"> is not allowed for SafeHtml.")},goog.html.SafeHtml.createIframe=function(e,t,o,n){e&&goog.html.TrustedResourceUrl.unwrap(e);var r={};return r.src=e||null,r.srcdoc=t&&goog.html.SafeHtml.unwrap(t),e=goog.html.SafeHtml.combineAttributes(r,{sandbox:""},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.createSandboxIframe=function(e,t,o,n){if(!goog.html.SafeHtml.canUseSandboxIframe())throw Error("The browser does not support sandboxed iframes.");var r={};return r.src=e?goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e)):null,r.srcdoc=t||null,r.sandbox="",e=goog.html.SafeHtml.combineAttributes(r,{},o),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("iframe",e,n)},goog.html.SafeHtml.canUseSandboxIframe=function(){return goog.global.HTMLIFrameElement&&"sandbox"in goog.global.HTMLIFrameElement.prototype},goog.html.SafeHtml.createScriptSrc=function(e,t){goog.html.TrustedResourceUrl.unwrap(e);var o=goog.html.SafeHtml.combineAttributes({src:e},{},t);return goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("script",o)},goog.html.SafeHtml.createStyle=function(e,t){var o=goog.html.SafeHtml.combineAttributes({type:"text/css"},{},t),n="";e=goog.array.concat(e);for(var r=0;r<e.length;r++)n+=goog.html.SafeStyleSheet.unwrap(e[r]);return n=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("style",o,n)},goog.html.SafeHtml.createMetaRefresh=function(e,t){var o=goog.html.SafeUrl.unwrap(goog.html.SafeUrl.sanitize(e));return(goog.labs.userAgent.browser.isIE()||goog.labs.userAgent.browser.isEdge())&&goog.string.contains(o,";")&&(o="'"+o.replace(/'/g,"%27")+"'"),goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse("meta",{"http-equiv":"refresh",content:(t||0)+"; url="+o})},goog.html.SafeHtml.getAttrNameAndValue_=function(e,t,o){if(o instanceof goog.string.Const)o=goog.string.Const.unwrap(o);else if("style"==t.toLowerCase())o=goog.html.SafeHtml.getStyleValue_(o);else{if(/^on/i.test(t))throw Error('Attribute "'+t+'" requires goog.string.Const value, "'+o+'" given.');if(t.toLowerCase()in goog.html.SafeHtml.URL_ATTRIBUTES_)if(o instanceof goog.html.TrustedResourceUrl)o=goog.html.TrustedResourceUrl.unwrap(o);else if(o instanceof goog.html.SafeUrl)o=goog.html.SafeUrl.unwrap(o);else{if(!goog.isString(o))throw Error('Attribute "'+t+'" on tag "'+e+'" requires goog.html.SafeUrl, goog.string.Const, or string, value "'+o+'" given.');o=goog.html.SafeUrl.sanitize(o).getTypedStringValue()}}return o.implementsGoogStringTypedString&&(o=o.getTypedStringValue()),goog.asserts.assert(goog.isString(o)||goog.isNumber(o),"String or number value expected, got "+typeof o+" with value: "+o),t+'="'+goog.string.htmlEscape(String(o))+'"'},goog.html.SafeHtml.getStyleValue_=function(e){if(!goog.isObject(e))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+typeof e+" given: "+e);return e instanceof goog.html.SafeStyle||(e=goog.html.SafeStyle.create(e)),goog.html.SafeStyle.unwrap(e)},goog.html.SafeHtml.createWithDir=function(e,t,o,n){return t=goog.html.SafeHtml.create(t,o,n),t.dir_=e,t},goog.html.SafeHtml.concat=function(e){var t=goog.i18n.bidi.Dir.NEUTRAL,o="",n=function(e){goog.isArray(e)?goog.array.forEach(e,n):(e=goog.html.SafeHtml.htmlEscape(e),o+=goog.html.SafeHtml.unwrap(e),e=e.getDirection(),t==goog.i18n.bidi.Dir.NEUTRAL?t=e:e!=goog.i18n.bidi.Dir.NEUTRAL&&t!=e&&(t=null))};return goog.array.forEach(arguments,n),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(o,t)},goog.html.SafeHtml.concatWithDir=function(e,t){var o=goog.html.SafeHtml.concat(goog.array.slice(arguments,1));return o.dir_=e,o},goog.html.SafeHtml.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse=function(e,t){return(new goog.html.SafeHtml).initSecurityPrivateDoNotAccessOrElse_(e,t)},goog.html.SafeHtml.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e,t){return this.privateDoNotAccessOrElseSafeHtmlWrappedValue_=e,this.dir_=t,this},goog.html.SafeHtml.createSafeHtmlTagSecurityPrivateDoNotAccessOrElse=function(e,t,o){var n,r=null;return n="<"+e+goog.html.SafeHtml.stringifyAttributes(e,t),goog.isDefAndNotNull(o)?goog.isArray(o)||(o=[o]):o=[],goog.dom.tags.isVoidTag(e.toLowerCase())?(goog.asserts.assert(!o.length,"Void tag <"+e+"> does not allow content."),n+=">"):(r=goog.html.SafeHtml.concat(o),n+=">"+goog.html.SafeHtml.unwrap(r)+"</"+e+">",r=r.getDirection()),(e=t&&t.dir)&&(r=/^(ltr|rtl|auto)$/i.test(e)?goog.i18n.bidi.Dir.NEUTRAL:null),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(n,r)},goog.html.SafeHtml.stringifyAttributes=function(e,t){var o="";if(t)for(var n in t){if(!goog.html.SafeHtml.VALID_NAMES_IN_TAG_.test(n))throw Error('Invalid attribute name "'+n+'".');var r=t[n];goog.isDefAndNotNull(r)&&(o+=" "+goog.html.SafeHtml.getAttrNameAndValue_(e,n,r))}return o},goog.html.SafeHtml.combineAttributes=function(e,t,o){var n,r={};for(n in e)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),r[n]=e[n];for(n in t)goog.asserts.assert(n.toLowerCase()==n,"Must be lower case"),r[n]=t[n];for(n in o){var i=n.toLowerCase();if(i in e)throw Error('Cannot override "'+i+'" attribute, got "'+n+'" with value "'+o[n]+'"');i in t&&delete r[i],r[n]=o[n]}return r},goog.html.SafeHtml.DOCTYPE_HTML=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<!DOCTYPE html>",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.EMPTY=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("",goog.i18n.bidi.Dir.NEUTRAL),goog.html.SafeHtml.BR=goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse("<br>",goog.i18n.bidi.Dir.NEUTRAL),goog.dom.safe={},goog.dom.safe.InsertAdjacentHtmlPosition={AFTERBEGIN:"afterbegin",AFTEREND:"afterend",BEFOREBEGIN:"beforebegin",BEFOREEND:"beforeend"},goog.dom.safe.insertAdjacentHtml=function(e,t,o){e.insertAdjacentHTML(t,goog.html.SafeHtml.unwrap(o))},goog.dom.safe.setInnerHtml=function(e,t){e.innerHTML=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.setOuterHtml=function(e,t){e.outerHTML=goog.html.SafeHtml.unwrap(t)},goog.dom.safe.documentWrite=function(e,t){e.write(goog.html.SafeHtml.unwrap(t))},goog.dom.safe.setAnchorHref=function(e,t){var o;o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.href=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setImageSrc=function(e,t){var o;o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.src=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.setEmbedSrc=function(e,t){e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setFrameSrc=function(e,t){e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setIframeSrc=function(e,t){e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setLinkHrefAndRel=function(e,t,o){e.rel=o,goog.string.caseInsensitiveContains(o,"stylesheet")?(goog.asserts.assert(t instanceof goog.html.TrustedResourceUrl,'URL must be TrustedResourceUrl because "rel" contains "stylesheet"'),e.href=goog.html.TrustedResourceUrl.unwrap(t)):e.href=t instanceof goog.html.TrustedResourceUrl?goog.html.TrustedResourceUrl.unwrap(t):t instanceof goog.html.SafeUrl?goog.html.SafeUrl.unwrap(t):goog.html.SafeUrl.sanitize(t).getTypedStringValue()},goog.dom.safe.setObjectData=function(e,t){e.data=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setScriptSrc=function(e,t){e.src=goog.html.TrustedResourceUrl.unwrap(t)},goog.dom.safe.setLocationHref=function(e,t){var o;o=t instanceof goog.html.SafeUrl?t:goog.html.SafeUrl.sanitize(t),e.href=goog.html.SafeUrl.unwrap(o)},goog.dom.safe.openInWindow=function(e,t,o,n,r){return e=e instanceof goog.html.SafeUrl?e:goog.html.SafeUrl.sanitize(e),(t||window).open(goog.html.SafeUrl.unwrap(e),o?goog.string.Const.unwrap(o):"",n,r)},goog.html.legacyconversions={},goog.html.legacyconversions.safeHtmlFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(e,null)},goog.html.legacyconversions.safeStyleFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.safeStyleSheetFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.safeUrlFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.trustedResourceUrlFromString=function(e){return goog.html.legacyconversions.reportCallback_(),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(e)},goog.html.legacyconversions.reportCallback_=goog.nullFunction,goog.html.legacyconversions.setReportCallback=function(e){goog.html.legacyconversions.reportCallback_=e},goog.math.Coordinate=function(e,t){this.x=goog.isDef(e)?e:0,this.y=goog.isDef(t)?t:0},goog.math.Coordinate.prototype.clone=function(){return new goog.math.Coordinate(this.x,this.y)},goog.DEBUG&&(goog.math.Coordinate.prototype.toString=function(){return"("+this.x+", "+this.y+")"}),goog.math.Coordinate.equals=function(e,t){return e==t?!0:e&&t?e.x==t.x&&e.y==t.y:!1},goog.math.Coordinate.distance=function(e,t){var o=e.x-t.x,n=e.y-t.y;return Math.sqrt(o*o+n*n)},goog.math.Coordinate.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},goog.math.Coordinate.azimuth=function(e){return goog.math.angle(0,0,e.x,e.y)},goog.math.Coordinate.squaredDistance=function(e,t){var o=e.x-t.x,n=e.y-t.y;return o*o+n*n;
},goog.math.Coordinate.difference=function(e,t){return new goog.math.Coordinate(e.x-t.x,e.y-t.y)},goog.math.Coordinate.sum=function(e,t){return new goog.math.Coordinate(e.x+t.x,e.y+t.y)},goog.math.Coordinate.prototype.ceil=function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},goog.math.Coordinate.prototype.floor=function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},goog.math.Coordinate.prototype.round=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},goog.math.Coordinate.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.x+=e.x,this.y+=e.y):(this.x+=Number(e),goog.isNumber(t)&&(this.y+=t)),this},goog.math.Coordinate.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.x*=e,this.y*=o,this},goog.math.Coordinate.prototype.rotateRadians=function(e,t){var o=t||new goog.math.Coordinate(0,0),n=this.x,r=this.y,i=Math.cos(e),s=Math.sin(e);this.x=(n-o.x)*i-(r-o.y)*s+o.x,this.y=(n-o.x)*s+(r-o.y)*i+o.y},goog.math.Coordinate.prototype.rotateDegrees=function(e,t){this.rotateRadians(goog.math.toRadians(e),t)},goog.math.Size=function(e,t){this.width=e,this.height=t},goog.math.Size.equals=function(e,t){return e==t?!0:e&&t?e.width==t.width&&e.height==t.height:!1},goog.math.Size.prototype.clone=function(){return new goog.math.Size(this.width,this.height)},goog.DEBUG&&(goog.math.Size.prototype.toString=function(){return"("+this.width+" x "+this.height+")"}),goog.math.Size.prototype.getLongest=function(){return Math.max(this.width,this.height)},goog.math.Size.prototype.getShortest=function(){return Math.min(this.width,this.height)},goog.math.Size.prototype.area=function(){return this.width*this.height},goog.math.Size.prototype.perimeter=function(){return 2*(this.width+this.height)},goog.math.Size.prototype.aspectRatio=function(){return this.width/this.height},goog.math.Size.prototype.isEmpty=function(){return!this.area()},goog.math.Size.prototype.ceil=function(){return this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Size.prototype.fitsInside=function(e){return this.width<=e.width&&this.height<=e.height},goog.math.Size.prototype.floor=function(){return this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Size.prototype.round=function(){return this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Size.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.width*=e,this.height*=o,this},goog.math.Size.prototype.scaleToCover=function(e){return e=this.aspectRatio()<=e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.math.Size.prototype.scaleToFit=function(e){return e=this.aspectRatio()>e.aspectRatio()?e.width/this.width:e.height/this.height,this.scale(e)},goog.dom.ASSUME_QUIRKS_MODE=!1,goog.dom.ASSUME_STANDARDS_MODE=!1,goog.dom.COMPAT_MODE_KNOWN_=goog.dom.ASSUME_QUIRKS_MODE||goog.dom.ASSUME_STANDARDS_MODE,goog.dom.getDomHelper=function(e){return e?new goog.dom.DomHelper(goog.dom.getOwnerDocument(e)):goog.dom.defaultDomHelper_||(goog.dom.defaultDomHelper_=new goog.dom.DomHelper)},goog.dom.getDocument=function(){return document},goog.dom.getElement=function(e){return goog.dom.getElementHelper_(document,e)},goog.dom.getElementHelper_=function(e,t){return goog.isString(t)?e.getElementById(t):t},goog.dom.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(document,e)},goog.dom.getRequiredElementHelper_=function(e,t){goog.asserts.assertString(t);var o=goog.dom.getElementHelper_(e,t);return o=goog.asserts.assertElement(o,"No element found with id: "+t)},goog.dom.$=goog.dom.getElement,goog.dom.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(document,e,t,o)},goog.dom.getElementsByClass=function(e,t){var o=t||document;return goog.dom.canUseQuerySelector_(o)?o.querySelectorAll("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)},goog.dom.getElementByClass=function(e,t){var o=t||document,n=null;return(n=o.getElementsByClassName?o.getElementsByClassName(e)[0]:goog.dom.canUseQuerySelector_(o)?o.querySelector("."+e):goog.dom.getElementsByTagNameAndClass_(document,"*",e,t)[0])||null},goog.dom.getRequiredElementByClass=function(e,t){var o=goog.dom.getElementByClass(e,t);return goog.asserts.assert(o,"No element found with className: "+e)},goog.dom.canUseQuerySelector_=function(e){return!(!e.querySelectorAll||!e.querySelector)},goog.dom.getElementsByTagNameAndClass_=function(e,t,o,n){if(e=n||e,t=t&&"*"!=t?t.toUpperCase():"",goog.dom.canUseQuerySelector_(e)&&(t||o))return e.querySelectorAll(t+(o?"."+o:""));if(o&&e.getElementsByClassName){if(e=e.getElementsByClassName(o),t){n={};for(var r,i=0,s=0;r=e[s];s++)t==r.nodeName&&(n[i++]=r);return n.length=i,n}return e}if(e=e.getElementsByTagName(t||"*"),o){for(n={},s=i=0;r=e[s];s++)t=r.className,"function"==typeof t.split&&goog.array.contains(t.split(/\s+/),o)&&(n[i++]=r);return n.length=i,n}return e},goog.dom.$$=goog.dom.getElementsByTagNameAndClass,goog.dom.setProperties=function(e,t){goog.object.forEach(t,function(t,o){"style"==o?e.style.cssText=t:"class"==o?e.className=t:"for"==o?e.htmlFor=t:goog.dom.DIRECT_ATTRIBUTE_MAP_.hasOwnProperty(o)?e.setAttribute(goog.dom.DIRECT_ATTRIBUTE_MAP_[o],t):goog.string.startsWith(o,"aria-")||goog.string.startsWith(o,"data-")?e.setAttribute(o,t):e[o]=t})},goog.dom.DIRECT_ATTRIBUTE_MAP_={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},goog.dom.getViewportSize=function(e){return goog.dom.getViewportSize_(e||window)},goog.dom.getViewportSize_=function(e){return e=e.document,e=goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body,new goog.math.Size(e.clientWidth,e.clientHeight)},goog.dom.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(window)},goog.dom.getDocumentHeightForWindow=function(e){return goog.dom.getDocumentHeight_(e)},goog.dom.getDocumentHeight_=function(e){var t=e.document,o=0;if(t){var o=t.body,n=t.documentElement;if(!n||!o)return 0;if(e=goog.dom.getViewportSize_(e).height,goog.dom.isCss1CompatMode_(t)&&n.scrollHeight)o=n.scrollHeight!=e?n.scrollHeight:n.offsetHeight;else{var t=n.scrollHeight,r=n.offsetHeight;n.clientHeight!=r&&(t=o.scrollHeight,r=o.offsetHeight),o=t>e?t>r?t:r:r>t?t:r}}return o},goog.dom.getPageScroll=function(e){return goog.dom.getDomHelper((e||goog.global||window).document).getDocumentScroll()},goog.dom.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(document)},goog.dom.getDocumentScroll_=function(e){var t=goog.dom.getDocumentScrollElement_(e);return e=goog.dom.getWindow_(e),goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("10")&&e.pageYOffset!=t.scrollTop?new goog.math.Coordinate(t.scrollLeft,t.scrollTop):new goog.math.Coordinate(e.pageXOffset||t.scrollLeft,e.pageYOffset||t.scrollTop)},goog.dom.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(document)},goog.dom.getDocumentScrollElement_=function(e){return e.scrollingElement?e.scrollingElement:!goog.userAgent.WEBKIT&&goog.dom.isCss1CompatMode_(e)?e.documentElement:e.body||e.documentElement},goog.dom.getWindow=function(e){return e?goog.dom.getWindow_(e):window},goog.dom.getWindow_=function(e){return e.parentWindow||e.defaultView},goog.dom.createDom=function(e,t,o){return goog.dom.createDom_(document,arguments)},goog.dom.createDom_=function(e,t){var o=t[0],n=t[1];if(!goog.dom.BrowserFeature.CAN_ADD_NAME_OR_TYPE_ATTRIBUTES&&n&&(n.name||n.type)){if(o=["<",o],n.name&&o.push(' name="',goog.string.htmlEscape(n.name),'"'),n.type){o.push(' type="',goog.string.htmlEscape(n.type),'"');var r={};goog.object.extend(r,n),delete r.type,n=r}o.push(">"),o=o.join("")}return o=e.createElement(o),n&&(goog.isString(n)?o.className=n:goog.isArray(n)?o.className=n.join(" "):goog.dom.setProperties(o,n)),2<t.length&&goog.dom.append_(e,o,t,2),o},goog.dom.append_=function(e,t,o,n){function r(o){o&&t.appendChild(goog.isString(o)?e.createTextNode(o):o)}for(;n<o.length;n++){var i=o[n];goog.isArrayLike(i)&&!goog.dom.isNodeLike(i)?goog.array.forEach(goog.dom.isNodeList(i)?goog.array.toArray(i):i,r):r(i)}},goog.dom.$dom=goog.dom.createDom,goog.dom.createElement=function(e){return document.createElement(e)},goog.dom.createTextNode=function(e){return document.createTextNode(String(e))},goog.dom.createTable=function(e,t,o){return goog.dom.createTable_(document,e,t,!!o)},goog.dom.createTable_=function(e,t,o,n){for(var r=e.createElement(goog.dom.TagName.TABLE),i=r.appendChild(e.createElement(goog.dom.TagName.TBODY)),s=0;t>s;s++){for(var a=e.createElement(goog.dom.TagName.TR),l=0;o>l;l++){var g=e.createElement(goog.dom.TagName.TD);n&&goog.dom.setTextContent(g,goog.string.Unicode.NBSP),a.appendChild(g)}i.appendChild(a)}return r},goog.dom.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(document,e)},goog.dom.safeHtmlToNode_=function(e,t){var o=e.createElement(goog.dom.TagName.DIV);return goog.dom.BrowserFeature.INNER_HTML_NEEDS_SCOPED_ELEMENT?(goog.dom.safe.setInnerHtml(o,goog.html.SafeHtml.concat(goog.html.SafeHtml.BR,t)),o.removeChild(o.firstChild)):goog.dom.safe.setInnerHtml(o,t),goog.dom.childrenToNode_(e,o)},goog.dom.htmlToDocumentFragment=function(e){return goog.dom.safeHtmlToNode_(document,goog.html.legacyconversions.safeHtmlFromString(e))},goog.dom.childrenToNode_=function(e,t){if(1==t.childNodes.length)return t.removeChild(t.firstChild);for(var o=e.createDocumentFragment();t.firstChild;)o.appendChild(t.firstChild);return o},goog.dom.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(document)},goog.dom.isCss1CompatMode_=function(e){return goog.dom.COMPAT_MODE_KNOWN_?goog.dom.ASSUME_STANDARDS_MODE:"CSS1Compat"==e.compatMode},goog.dom.canHaveChildren=function(e){if(e.nodeType!=goog.dom.NodeType.ELEMENT)return!1;switch(e.tagName){case goog.dom.TagName.APPLET:case goog.dom.TagName.AREA:case goog.dom.TagName.BASE:case goog.dom.TagName.BR:case goog.dom.TagName.COL:case goog.dom.TagName.COMMAND:case goog.dom.TagName.EMBED:case goog.dom.TagName.FRAME:case goog.dom.TagName.HR:case goog.dom.TagName.IMG:case goog.dom.TagName.INPUT:case goog.dom.TagName.IFRAME:case goog.dom.TagName.ISINDEX:case goog.dom.TagName.KEYGEN:case goog.dom.TagName.LINK:case goog.dom.TagName.NOFRAMES:case goog.dom.TagName.NOSCRIPT:case goog.dom.TagName.META:case goog.dom.TagName.OBJECT:case goog.dom.TagName.PARAM:case goog.dom.TagName.SCRIPT:case goog.dom.TagName.SOURCE:case goog.dom.TagName.STYLE:case goog.dom.TagName.TRACK:case goog.dom.TagName.WBR:return!1}return!0},goog.dom.appendChild=function(e,t){e.appendChild(t)},goog.dom.append=function(e,t){goog.dom.append_(goog.dom.getOwnerDocument(e),e,arguments,1)},goog.dom.removeChildren=function(e){for(var t;t=e.firstChild;)e.removeChild(t)},goog.dom.insertSiblingBefore=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t)},goog.dom.insertSiblingAfter=function(e,t){t.parentNode&&t.parentNode.insertBefore(e,t.nextSibling)},goog.dom.insertChildAt=function(e,t,o){e.insertBefore(t,e.childNodes[o]||null)},goog.dom.removeNode=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},goog.dom.replaceNode=function(e,t){var o=t.parentNode;o&&o.replaceChild(e,t)},goog.dom.flattenElement=function(e){var t,o=e.parentNode;if(o&&o.nodeType!=goog.dom.NodeType.DOCUMENT_FRAGMENT){if(e.removeNode)return e.removeNode(!1);for(;t=e.firstChild;)o.insertBefore(t,e);return goog.dom.removeNode(e)}},goog.dom.getChildren=function(e){return goog.dom.BrowserFeature.CAN_USE_CHILDREN_ATTRIBUTE&&void 0!=e.children?e.children:goog.array.filter(e.childNodes,function(e){return e.nodeType==goog.dom.NodeType.ELEMENT})},goog.dom.getFirstElementChild=function(e){return goog.isDef(e.firstElementChild)?e.firstElementChild:goog.dom.getNextElementNode_(e.firstChild,!0)},goog.dom.getLastElementChild=function(e){return goog.isDef(e.lastElementChild)?e.lastElementChild:goog.dom.getNextElementNode_(e.lastChild,!1)},goog.dom.getNextElementSibling=function(e){return goog.isDef(e.nextElementSibling)?e.nextElementSibling:goog.dom.getNextElementNode_(e.nextSibling,!0)},goog.dom.getPreviousElementSibling=function(e){return goog.isDef(e.previousElementSibling)?e.previousElementSibling:goog.dom.getNextElementNode_(e.previousSibling,!1)},goog.dom.getNextElementNode_=function(e,t){for(;e&&e.nodeType!=goog.dom.NodeType.ELEMENT;)e=t?e.nextSibling:e.previousSibling;return e},goog.dom.getNextNode=function(e){if(!e)return null;if(e.firstChild)return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null},goog.dom.getPreviousNode=function(e){if(!e)return null;if(!e.previousSibling)return e.parentNode;for(e=e.previousSibling;e&&e.lastChild;)e=e.lastChild;return e},goog.dom.isNodeLike=function(e){return goog.isObject(e)&&0<e.nodeType},goog.dom.isElement=function(e){return goog.isObject(e)&&e.nodeType==goog.dom.NodeType.ELEMENT},goog.dom.isWindow=function(e){return goog.isObject(e)&&e.window==e},goog.dom.getParentElement=function(e){var t;return!goog.dom.BrowserFeature.CAN_USE_PARENT_ELEMENT_PROPERTY||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("9")&&!goog.userAgent.isVersionOrHigher("10")&&goog.global.SVGElement&&e instanceof goog.global.SVGElement||!(t=e.parentElement)?(t=e.parentNode,goog.dom.isElement(t)?t:null):t},goog.dom.contains=function(e,t){if(!e||!t)return!1;if(e.contains&&t.nodeType==goog.dom.NodeType.ELEMENT)return e==t||e.contains(t);if("undefined"!=typeof e.compareDocumentPosition)return e==t||!!(16&e.compareDocumentPosition(t));for(;t&&e!=t;)t=t.parentNode;return t==e},goog.dom.compareNodeOrder=function(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){if(e.nodeType==goog.dom.NodeType.DOCUMENT)return-1;if(t.nodeType==goog.dom.NodeType.DOCUMENT)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var o=e.nodeType==goog.dom.NodeType.ELEMENT,n=t.nodeType==goog.dom.NodeType.ELEMENT;if(o&&n)return e.sourceIndex-t.sourceIndex;var r=e.parentNode,i=t.parentNode;return r==i?goog.dom.compareSiblingOrder_(e,t):!o&&goog.dom.contains(r,t)?-1*goog.dom.compareParentsDescendantNodeIe_(e,t):!n&&goog.dom.contains(i,e)?goog.dom.compareParentsDescendantNodeIe_(t,e):(o?e.sourceIndex:r.sourceIndex)-(n?t.sourceIndex:i.sourceIndex)}return n=goog.dom.getOwnerDocument(e),o=n.createRange(),o.selectNode(e),o.collapse(!0),n=n.createRange(),n.selectNode(t),n.collapse(!0),o.compareBoundaryPoints(goog.global.Range.START_TO_END,n)},goog.dom.compareParentsDescendantNodeIe_=function(e,t){var o=e.parentNode;if(o==t)return-1;for(var n=t;n.parentNode!=o;)n=n.parentNode;return goog.dom.compareSiblingOrder_(n,e)},goog.dom.compareSiblingOrder_=function(e,t){for(var o=t;o=o.previousSibling;)if(o==e)return-1;return 1},goog.dom.findCommonAncestor=function(e){var t,o=arguments.length;if(!o)return null;if(1==o)return arguments[0];var n=[],r=1/0;for(t=0;o>t;t++){for(var i=[],s=arguments[t];s;)i.unshift(s),s=s.parentNode;n.push(i),r=Math.min(r,i.length)}for(i=null,t=0;r>t;t++){for(var s=n[0][t],a=1;o>a;a++)if(s!=n[a][t])return i;i=s}return i},goog.dom.getOwnerDocument=function(e){return goog.asserts.assert(e,"Node cannot be null or undefined."),e.nodeType==goog.dom.NodeType.DOCUMENT?e:e.ownerDocument||e.document},goog.dom.getFrameContentDocument=function(e){return e.contentDocument||e.contentWindow.document},goog.dom.getFrameContentWindow=function(e){try{return e.contentWindow||(e.contentDocument?goog.dom.getWindow(e.contentDocument):null)}catch(t){}return null},goog.dom.setTextContent=function(e,t){if(goog.asserts.assert(null!=e,"goog.dom.setTextContent expects a non-null value for node"),"textContent"in e)e.textContent=t;else if(e.nodeType==goog.dom.NodeType.TEXT)e.data=t;else if(e.firstChild&&e.firstChild.nodeType==goog.dom.NodeType.TEXT){for(;e.lastChild!=e.firstChild;)e.removeChild(e.lastChild);e.firstChild.data=t}else{goog.dom.removeChildren(e);var o=goog.dom.getOwnerDocument(e);e.appendChild(o.createTextNode(String(t)))}},goog.dom.getOuterHtml=function(e){if(goog.asserts.assert(null!==e,"goog.dom.getOuterHtml expects a non-null value for element"),"outerHTML"in e)return e.outerHTML;var t=goog.dom.getOwnerDocument(e).createElement(goog.dom.TagName.DIV);return t.appendChild(e.cloneNode(!0)),t.innerHTML},goog.dom.findNode=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!0)?o[0]:void 0},goog.dom.findNodes=function(e,t){var o=[];return goog.dom.findNodes_(e,t,o,!1),o},goog.dom.findNodes_=function(e,t,o,n){if(null!=e)for(e=e.firstChild;e;){if(t(e)&&(o.push(e),n)||goog.dom.findNodes_(e,t,o,n))return!0;e=e.nextSibling}return!1},goog.dom.TAGS_TO_IGNORE_={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},goog.dom.PREDEFINED_TAG_VALUES_={IMG:" ",BR:"\n"},goog.dom.isFocusableTabIndex=function(e){return goog.dom.hasSpecifiedTabIndex_(e)&&goog.dom.isTabIndexFocusable_(e)},goog.dom.setFocusableTabIndex=function(e,t){t?e.tabIndex=0:(e.tabIndex=-1,e.removeAttribute("tabIndex"))},goog.dom.isFocusable=function(e){var t;return(t=goog.dom.nativelySupportsFocus_(e)?!e.disabled&&(!goog.dom.hasSpecifiedTabIndex_(e)||goog.dom.isTabIndexFocusable_(e)):goog.dom.isFocusableTabIndex(e))&&goog.userAgent.IE?goog.dom.hasNonZeroBoundingRect_(e):t},goog.dom.hasSpecifiedTabIndex_=function(e){return e=e.getAttributeNode("tabindex"),goog.isDefAndNotNull(e)&&e.specified},goog.dom.isTabIndexFocusable_=function(e){return e=e.tabIndex,goog.isNumber(e)&&e>=0&&32768>e},goog.dom.nativelySupportsFocus_=function(e){return e.tagName==goog.dom.TagName.A||e.tagName==goog.dom.TagName.INPUT||e.tagName==goog.dom.TagName.TEXTAREA||e.tagName==goog.dom.TagName.SELECT||e.tagName==goog.dom.TagName.BUTTON},goog.dom.hasNonZeroBoundingRect_=function(e){return e=!goog.isFunction(e.getBoundingClientRect)||goog.userAgent.IE&&null==e.parentElement?{height:e.offsetHeight,width:e.offsetWidth}:e.getBoundingClientRect(),goog.isDefAndNotNull(e)&&0<e.height&&0<e.width},goog.dom.getTextContent=function(e){if(goog.dom.BrowserFeature.CAN_USE_INNER_TEXT&&null!==e&&"innerText"in e)e=goog.string.canonicalizeNewlines(e.innerText);else{var t=[];goog.dom.getTextContent_(e,t,!0),e=t.join("")}return e=e.replace(/ \xAD /g," ").replace(/\xAD/g,""),e=e.replace(/\u200B/g,""),goog.dom.BrowserFeature.CAN_USE_INNER_TEXT||(e=e.replace(/ +/g," "))," "!=e&&(e=e.replace(/^\s*/,"")),e},goog.dom.getRawTextContent=function(e){var t=[];return goog.dom.getTextContent_(e,t,!1),t.join("")},goog.dom.getTextContent_=function(e,t,o){if(!(e.nodeName in goog.dom.TAGS_TO_IGNORE_))if(e.nodeType==goog.dom.NodeType.TEXT)o?t.push(String(e.nodeValue).replace(/(\r\n|\r|\n)/g,"")):t.push(e.nodeValue);else if(e.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)t.push(goog.dom.PREDEFINED_TAG_VALUES_[e.nodeName]);else for(e=e.firstChild;e;)goog.dom.getTextContent_(e,t,o),e=e.nextSibling},goog.dom.getNodeTextLength=function(e){return goog.dom.getTextContent(e).length},goog.dom.getNodeTextOffset=function(e,t){for(var o=t||goog.dom.getOwnerDocument(e).body,n=[];e&&e!=o;){for(var r=e;r=r.previousSibling;)n.unshift(goog.dom.getTextContent(r));e=e.parentNode}return goog.string.trimLeft(n.join("")).replace(/ +/g," ").length},goog.dom.getNodeAtOffset=function(e,t,o){e=[e];for(var n=0,r=null;0<e.length&&t>n;)if(r=e.pop(),!(r.nodeName in goog.dom.TAGS_TO_IGNORE_))if(r.nodeType==goog.dom.NodeType.TEXT)var i=r.nodeValue.replace(/(\r\n|\r|\n)/g,"").replace(/ +/g," "),n=n+i.length;else if(r.nodeName in goog.dom.PREDEFINED_TAG_VALUES_)n+=goog.dom.PREDEFINED_TAG_VALUES_[r.nodeName].length;else for(i=r.childNodes.length-1;i>=0;i--)e.push(r.childNodes[i]);return goog.isObject(o)&&(o.remainder=r?r.nodeValue.length+t-n-1:0,o.node=r),r},goog.dom.isNodeList=function(e){if(e&&"number"==typeof e.length){if(goog.isObject(e))return"function"==typeof e.item||"string"==typeof e.item;if(goog.isFunction(e))return"function"==typeof e.item}return!1},goog.dom.getAncestorByTagNameAndClass=function(e,t,o,n){if(!t&&!o)return null;var r=t?t.toUpperCase():null;return goog.dom.getAncestor(e,function(e){return(!r||e.nodeName==r)&&(!o||goog.isString(e.className)&&goog.array.contains(e.className.split(/\s+/),o))},!0,n)},goog.dom.getAncestorByClass=function(e,t,o){return goog.dom.getAncestorByTagNameAndClass(e,null,t,o)},goog.dom.getAncestor=function(e,t,o,n){for(o||(e=e.parentNode),o=0;e&&(null==n||n>=o);){if(goog.asserts.assert("parentNode"!=e.name),t(e))return e;e=e.parentNode,o++}return null},goog.dom.getActiveElement=function(e){try{return e&&e.activeElement}catch(t){}return null},goog.dom.getPixelRatio=function(){var e=goog.dom.getWindow();return goog.isDef(e.devicePixelRatio)?e.devicePixelRatio:e.matchMedia?goog.dom.matchesPixelRatio_(.75)||goog.dom.matchesPixelRatio_(1.5)||goog.dom.matchesPixelRatio_(2)||goog.dom.matchesPixelRatio_(3)||1:1},goog.dom.matchesPixelRatio_=function(e){return goog.dom.getWindow().matchMedia("(-webkit-min-device-pixel-ratio: "+e+"),(min--moz-device-pixel-ratio: "+e+"),(min-resolution: "+e+"dppx)").matches?e:0},goog.dom.DomHelper=function(e){this.document_=e||goog.global.document||document},goog.dom.DomHelper.prototype.getDomHelper=goog.dom.getDomHelper,goog.dom.DomHelper.prototype.setDocument=function(e){this.document_=e},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.getElement=function(e){return goog.dom.getElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.getRequiredElement=function(e){return goog.dom.getRequiredElementHelper_(this.document_,e)},goog.dom.DomHelper.prototype.$=goog.dom.DomHelper.prototype.getElement,goog.dom.DomHelper.prototype.getElementsByTagNameAndClass=function(e,t,o){return goog.dom.getElementsByTagNameAndClass_(this.document_,e,t,o)},goog.dom.DomHelper.prototype.getElementsByClass=function(e,t){return goog.dom.getElementsByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getElementByClass=function(e,t){return goog.dom.getElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.getRequiredElementByClass=function(e,t){return goog.dom.getRequiredElementByClass(e,t||this.document_)},goog.dom.DomHelper.prototype.$$=goog.dom.DomHelper.prototype.getElementsByTagNameAndClass,goog.dom.DomHelper.prototype.setProperties=goog.dom.setProperties,goog.dom.DomHelper.prototype.getViewportSize=function(e){return goog.dom.getViewportSize(e||this.getWindow())},goog.dom.DomHelper.prototype.getDocumentHeight=function(){return goog.dom.getDocumentHeight_(this.getWindow())},goog.dom.DomHelper.prototype.createDom=function(e,t,o){return goog.dom.createDom_(this.document_,arguments)},goog.dom.DomHelper.prototype.$dom=goog.dom.DomHelper.prototype.createDom,goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createTextNode=function(e){return this.document_.createTextNode(String(e))},goog.dom.DomHelper.prototype.createTable=function(e,t,o){return goog.dom.createTable_(this.document_,e,t,!!o)},goog.dom.DomHelper.prototype.safeHtmlToNode=function(e){return goog.dom.safeHtmlToNode_(this.document_,e)},goog.dom.DomHelper.prototype.htmlToDocumentFragment=function(e){return goog.dom.safeHtmlToNode_(this.document_,goog.html.legacyconversions.safeHtmlFromString(e))},goog.dom.DomHelper.prototype.isCss1CompatMode=function(){return goog.dom.isCss1CompatMode_(this.document_)},goog.dom.DomHelper.prototype.getWindow=function(){return goog.dom.getWindow_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScrollElement=function(){return goog.dom.getDocumentScrollElement_(this.document_)},goog.dom.DomHelper.prototype.getDocumentScroll=function(){return goog.dom.getDocumentScroll_(this.document_)},goog.dom.DomHelper.prototype.getActiveElement=function(e){return goog.dom.getActiveElement(e||this.document_)},goog.dom.DomHelper.prototype.appendChild=goog.dom.appendChild,goog.dom.DomHelper.prototype.append=goog.dom.append,goog.dom.DomHelper.prototype.canHaveChildren=goog.dom.canHaveChildren,goog.dom.DomHelper.prototype.removeChildren=goog.dom.removeChildren,goog.dom.DomHelper.prototype.insertSiblingBefore=goog.dom.insertSiblingBefore,goog.dom.DomHelper.prototype.insertSiblingAfter=goog.dom.insertSiblingAfter,goog.dom.DomHelper.prototype.insertChildAt=goog.dom.insertChildAt,goog.dom.DomHelper.prototype.removeNode=goog.dom.removeNode,goog.dom.DomHelper.prototype.replaceNode=goog.dom.replaceNode,goog.dom.DomHelper.prototype.flattenElement=goog.dom.flattenElement,goog.dom.DomHelper.prototype.getChildren=goog.dom.getChildren,goog.dom.DomHelper.prototype.getFirstElementChild=goog.dom.getFirstElementChild,goog.dom.DomHelper.prototype.getLastElementChild=goog.dom.getLastElementChild,goog.dom.DomHelper.prototype.getNextElementSibling=goog.dom.getNextElementSibling,goog.dom.DomHelper.prototype.getPreviousElementSibling=goog.dom.getPreviousElementSibling,goog.dom.DomHelper.prototype.getNextNode=goog.dom.getNextNode,goog.dom.DomHelper.prototype.getPreviousNode=goog.dom.getPreviousNode,goog.dom.DomHelper.prototype.isNodeLike=goog.dom.isNodeLike,goog.dom.DomHelper.prototype.isElement=goog.dom.isElement,goog.dom.DomHelper.prototype.isWindow=goog.dom.isWindow,goog.dom.DomHelper.prototype.getParentElement=goog.dom.getParentElement,goog.dom.DomHelper.prototype.contains=goog.dom.contains,goog.dom.DomHelper.prototype.compareNodeOrder=goog.dom.compareNodeOrder,goog.dom.DomHelper.prototype.findCommonAncestor=goog.dom.findCommonAncestor,goog.dom.DomHelper.prototype.getOwnerDocument=goog.dom.getOwnerDocument,goog.dom.DomHelper.prototype.getFrameContentDocument=goog.dom.getFrameContentDocument,goog.dom.DomHelper.prototype.getFrameContentWindow=goog.dom.getFrameContentWindow,goog.dom.DomHelper.prototype.setTextContent=goog.dom.setTextContent,goog.dom.DomHelper.prototype.getOuterHtml=goog.dom.getOuterHtml,goog.dom.DomHelper.prototype.findNode=goog.dom.findNode,goog.dom.DomHelper.prototype.findNodes=goog.dom.findNodes,goog.dom.DomHelper.prototype.isFocusableTabIndex=goog.dom.isFocusableTabIndex,goog.dom.DomHelper.prototype.setFocusableTabIndex=goog.dom.setFocusableTabIndex,goog.dom.DomHelper.prototype.isFocusable=goog.dom.isFocusable,goog.dom.DomHelper.prototype.getTextContent=goog.dom.getTextContent,goog.dom.DomHelper.prototype.getNodeTextLength=goog.dom.getNodeTextLength,goog.dom.DomHelper.prototype.getNodeTextOffset=goog.dom.getNodeTextOffset,goog.dom.DomHelper.prototype.getNodeAtOffset=goog.dom.getNodeAtOffset,goog.dom.DomHelper.prototype.isNodeList=goog.dom.isNodeList,goog.dom.DomHelper.prototype.getAncestorByTagNameAndClass=goog.dom.getAncestorByTagNameAndClass,goog.dom.DomHelper.prototype.getAncestorByClass=goog.dom.getAncestorByClass,goog.dom.DomHelper.prototype.getAncestor=goog.dom.getAncestor,goog.dom.vendor={},goog.dom.vendor.getVendorJsPrefix=function(){return goog.userAgent.WEBKIT?"Webkit":goog.userAgent.GECKO?"Moz":goog.userAgent.IE?"ms":goog.userAgent.OPERA?"O":null},goog.dom.vendor.getVendorPrefix=function(){return goog.userAgent.WEBKIT?"-webkit":goog.userAgent.GECKO?"-moz":goog.userAgent.IE?"-ms":goog.userAgent.OPERA?"-o":null},goog.dom.vendor.getPrefixedPropertyName=function(e,t){if(t&&e in t)return e;var o=goog.dom.vendor.getVendorJsPrefix();return o?(o=o.toLowerCase(),o+=goog.string.toTitleCase(e),!goog.isDef(t)||o in t?o:null):null},goog.dom.vendor.getPrefixedEventType=function(e){return((goog.dom.vendor.getVendorJsPrefix()||"")+e).toLowerCase()},goog.math.Box=function(e,t,o,n){this.top=e,this.right=t,this.bottom=o,this.left=n},goog.math.Box.boundingBox=function(e){for(var t=new goog.math.Box(arguments[0].y,arguments[0].x,arguments[0].y,arguments[0].x),o=1;o<arguments.length;o++)t.expandToIncludeCoordinate(arguments[o]);return t},goog.math.Box.prototype.getWidth=function(){return this.right-this.left},goog.math.Box.prototype.getHeight=function(){return this.bottom-this.top},goog.math.Box.prototype.clone=function(){return new goog.math.Box(this.top,this.right,this.bottom,this.left)},goog.DEBUG&&(goog.math.Box.prototype.toString=function(){return"("+this.top+"t, "+this.right+"r, "+this.bottom+"b, "+this.left+"l)"}),goog.math.Box.prototype.contains=function(e){return goog.math.Box.contains(this,e)},goog.math.Box.prototype.expand=function(e,t,o,n){return goog.isObject(e)?(this.top-=e.top,this.right+=e.right,this.bottom+=e.bottom,this.left-=e.left):(this.top-=e,this.right+=Number(t),this.bottom+=Number(o),this.left-=Number(n)),this},goog.math.Box.prototype.expandToInclude=function(e){this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.right=Math.max(this.right,e.right),this.bottom=Math.max(this.bottom,e.bottom)},goog.math.Box.prototype.expandToIncludeCoordinate=function(e){this.top=Math.min(this.top,e.y),this.right=Math.max(this.right,e.x),this.bottom=Math.max(this.bottom,e.y),this.left=Math.min(this.left,e.x)},goog.math.Box.equals=function(e,t){return e==t?!0:e&&t?e.top==t.top&&e.right==t.right&&e.bottom==t.bottom&&e.left==t.left:!1},goog.math.Box.contains=function(e,t){return e&&t?t instanceof goog.math.Box?t.left>=e.left&&t.right<=e.right&&t.top>=e.top&&t.bottom<=e.bottom:t.x>=e.left&&t.x<=e.right&&t.y>=e.top&&t.y<=e.bottom:!1},goog.math.Box.relativePositionX=function(e,t){return t.x<e.left?t.x-e.left:t.x>e.right?t.x-e.right:0},goog.math.Box.relativePositionY=function(e,t){return t.y<e.top?t.y-e.top:t.y>e.bottom?t.y-e.bottom:0},goog.math.Box.distance=function(e,t){var o=goog.math.Box.relativePositionX(e,t),n=goog.math.Box.relativePositionY(e,t);return Math.sqrt(o*o+n*n)},goog.math.Box.intersects=function(e,t){return e.left<=t.right&&t.left<=e.right&&e.top<=t.bottom&&t.top<=e.bottom},goog.math.Box.intersectsWithPadding=function(e,t,o){return e.left<=t.right+o&&t.left<=e.right+o&&e.top<=t.bottom+o&&t.top<=e.bottom+o},goog.math.Box.prototype.ceil=function(){return this.top=Math.ceil(this.top),this.right=Math.ceil(this.right),this.bottom=Math.ceil(this.bottom),this.left=Math.ceil(this.left),this},goog.math.Box.prototype.floor=function(){return this.top=Math.floor(this.top),this.right=Math.floor(this.right),this.bottom=Math.floor(this.bottom),this.left=Math.floor(this.left),this},goog.math.Box.prototype.round=function(){return this.top=Math.round(this.top),this.right=Math.round(this.right),this.bottom=Math.round(this.bottom),this.left=Math.round(this.left),this},goog.math.Box.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.right+=e.x,this.top+=e.y,this.bottom+=e.y):(goog.asserts.assertNumber(e),this.left+=e,this.right+=e,goog.isNumber(t)&&(this.top+=t,this.bottom+=t)),this},goog.math.Box.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.left*=e,this.right*=e,this.top*=o,this.bottom*=o,this},goog.math.Rect=function(e,t,o,n){this.left=e,this.top=t,this.width=o,this.height=n},goog.math.Rect.prototype.clone=function(){return new goog.math.Rect(this.left,this.top,this.width,this.height)},goog.math.Rect.prototype.toBox=function(){return new goog.math.Box(this.top,this.left+this.width,this.top+this.height,this.left)},goog.math.Rect.createFromPositionAndSize=function(e,t){return new goog.math.Rect(e.x,e.y,t.width,t.height)},goog.math.Rect.createFromBox=function(e){return new goog.math.Rect(e.left,e.top,e.right-e.left,e.bottom-e.top)},goog.DEBUG&&(goog.math.Rect.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"}),goog.math.Rect.equals=function(e,t){return e==t?!0:e&&t?e.left==t.left&&e.width==t.width&&e.top==t.top&&e.height==t.height:!1},goog.math.Rect.prototype.intersection=function(e){var t=Math.max(this.left,e.left),o=Math.min(this.left+this.width,e.left+e.width);if(o>=t){var n=Math.max(this.top,e.top);if(e=Math.min(this.top+this.height,e.top+e.height),e>=n)return this.left=t,this.top=n,this.width=o-t,this.height=e-n,!0}return!1},goog.math.Rect.intersection=function(e,t){var o=Math.max(e.left,t.left),n=Math.min(e.left+e.width,t.left+t.width);
if(n>=o){var r=Math.max(e.top,t.top),i=Math.min(e.top+e.height,t.top+t.height);if(i>=r)return new goog.math.Rect(o,r,n-o,i-r)}return null},goog.math.Rect.intersects=function(e,t){return e.left<=t.left+t.width&&t.left<=e.left+e.width&&e.top<=t.top+t.height&&t.top<=e.top+e.height},goog.math.Rect.prototype.intersects=function(e){return goog.math.Rect.intersects(this,e)},goog.math.Rect.difference=function(e,t){var o=goog.math.Rect.intersection(e,t);if(!o||!o.height||!o.width)return[e.clone()];var o=[],n=e.top,r=e.height,i=e.left+e.width,s=e.top+e.height,a=t.left+t.width,l=t.top+t.height;return t.top>e.top&&(o.push(new goog.math.Rect(e.left,e.top,e.width,t.top-e.top)),n=t.top,r-=t.top-e.top),s>l&&(o.push(new goog.math.Rect(e.left,l,e.width,s-l)),r=l-n),t.left>e.left&&o.push(new goog.math.Rect(e.left,n,t.left-e.left,r)),i>a&&o.push(new goog.math.Rect(a,n,i-a,r)),o},goog.math.Rect.prototype.difference=function(e){return goog.math.Rect.difference(this,e)},goog.math.Rect.prototype.boundingRect=function(e){var t=Math.max(this.left+this.width,e.left+e.width),o=Math.max(this.top+this.height,e.top+e.height);this.left=Math.min(this.left,e.left),this.top=Math.min(this.top,e.top),this.width=t-this.left,this.height=o-this.top},goog.math.Rect.boundingRect=function(e,t){if(!e||!t)return null;var o=e.clone();return o.boundingRect(t),o},goog.math.Rect.prototype.contains=function(e){return e instanceof goog.math.Rect?this.left<=e.left&&this.left+this.width>=e.left+e.width&&this.top<=e.top&&this.top+this.height>=e.top+e.height:e.x>=this.left&&e.x<=this.left+this.width&&e.y>=this.top&&e.y<=this.top+this.height},goog.math.Rect.prototype.squaredDistance=function(e){var t=e.x<this.left?this.left-e.x:Math.max(e.x-(this.left+this.width),0);return e=e.y<this.top?this.top-e.y:Math.max(e.y-(this.top+this.height),0),t*t+e*e},goog.math.Rect.prototype.distance=function(e){return Math.sqrt(this.squaredDistance(e))},goog.math.Rect.prototype.getSize=function(){return new goog.math.Size(this.width,this.height)},goog.math.Rect.prototype.getTopLeft=function(){return new goog.math.Coordinate(this.left,this.top)},goog.math.Rect.prototype.getCenter=function(){return new goog.math.Coordinate(this.left+this.width/2,this.top+this.height/2)},goog.math.Rect.prototype.getBottomRight=function(){return new goog.math.Coordinate(this.left+this.width,this.top+this.height)},goog.math.Rect.prototype.ceil=function(){return this.left=Math.ceil(this.left),this.top=Math.ceil(this.top),this.width=Math.ceil(this.width),this.height=Math.ceil(this.height),this},goog.math.Rect.prototype.floor=function(){return this.left=Math.floor(this.left),this.top=Math.floor(this.top),this.width=Math.floor(this.width),this.height=Math.floor(this.height),this},goog.math.Rect.prototype.round=function(){return this.left=Math.round(this.left),this.top=Math.round(this.top),this.width=Math.round(this.width),this.height=Math.round(this.height),this},goog.math.Rect.prototype.translate=function(e,t){return e instanceof goog.math.Coordinate?(this.left+=e.x,this.top+=e.y):(this.left+=goog.asserts.assertNumber(e),goog.isNumber(t)&&(this.top+=t)),this},goog.math.Rect.prototype.scale=function(e,t){var o=goog.isNumber(t)?t:e;return this.left*=e,this.width*=e,this.top*=o,this.height*=o,this},goog.reflect={},goog.reflect.object=function(e,t){return t},goog.reflect.sinkValue=function(e){return goog.reflect.sinkValue[" "](e),e},goog.reflect.sinkValue[" "]=goog.nullFunction,goog.reflect.canAccessProperty=function(e,t){try{return goog.reflect.sinkValue(e[t]),!0}catch(o){}return!1},goog.reflect.cache=function(e,t,o,n){return n=n?n(t):t,Object.prototype.hasOwnProperty.call(e,n)?e[n]:e[n]=o(t)},goog.style={},goog.style.setStyle=function(e,t,o){if(goog.isString(t))goog.style.setStyle_(e,o,t);else for(var n in t)goog.style.setStyle_(e,t[n],n)},goog.style.setStyle_=function(e,t,o){(o=goog.style.getVendorJsStyleName_(e,o))&&(e.style[o]=t)},goog.style.styleNameCache_={},goog.style.getVendorJsStyleName_=function(e,t){var o=goog.style.styleNameCache_[t];if(!o){var n=goog.string.toCamelCase(t),o=n;void 0===e.style[n]&&(n=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(n),void 0!==e.style[n]&&(o=n)),goog.style.styleNameCache_[t]=o}return o},goog.style.getVendorStyleName_=function(e,t){var o=goog.string.toCamelCase(t);return void 0===e.style[o]&&(o=goog.dom.vendor.getVendorJsPrefix()+goog.string.toTitleCase(o),void 0!==e.style[o])?goog.dom.vendor.getVendorPrefix()+"-"+t:t},goog.style.getStyle=function(e,t){var o=e.style[goog.string.toCamelCase(t)];return"undefined"!=typeof o?o:e.style[goog.style.getVendorJsStyleName_(e,t)]||""},goog.style.getComputedStyle=function(e,t){var o=goog.dom.getOwnerDocument(e);return o.defaultView&&o.defaultView.getComputedStyle&&(o=o.defaultView.getComputedStyle(e,null))?o[t]||o.getPropertyValue(t)||"":""},goog.style.getCascadedStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:null},goog.style.getStyle_=function(e,t){return goog.style.getComputedStyle(e,t)||goog.style.getCascadedStyle(e,t)||e.style&&e.style[t]},goog.style.getComputedBoxSizing=function(e){return goog.style.getStyle_(e,"boxSizing")||goog.style.getStyle_(e,"MozBoxSizing")||goog.style.getStyle_(e,"WebkitBoxSizing")||null},goog.style.getComputedPosition=function(e){return goog.style.getStyle_(e,"position")},goog.style.getBackgroundColor=function(e){return goog.style.getStyle_(e,"backgroundColor")},goog.style.getComputedOverflowX=function(e){return goog.style.getStyle_(e,"overflowX")},goog.style.getComputedOverflowY=function(e){return goog.style.getStyle_(e,"overflowY")},goog.style.getComputedZIndex=function(e){return goog.style.getStyle_(e,"zIndex")},goog.style.getComputedTextAlign=function(e){return goog.style.getStyle_(e,"textAlign")},goog.style.getComputedCursor=function(e){return goog.style.getStyle_(e,"cursor")},goog.style.getComputedTransform=function(e){var t=goog.style.getVendorStyleName_(e,"transform");return goog.style.getStyle_(e,t)||goog.style.getStyle_(e,"transform")},goog.style.setPosition=function(e,t,o){var n;t instanceof goog.math.Coordinate?(n=t.x,t=t.y):(n=t,t=o),e.style.left=goog.style.getPixelStyleValue_(n,!1),e.style.top=goog.style.getPixelStyleValue_(t,!1)},goog.style.getPosition=function(e){return new goog.math.Coordinate(e.offsetLeft,e.offsetTop)},goog.style.getClientViewportElement=function(e){return e=e?goog.dom.getOwnerDocument(e):goog.dom.getDocument(),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||goog.dom.getDomHelper(e).isCss1CompatMode()?e.documentElement:e.body},goog.style.getViewportPageOffset=function(e){var t=e.body;return e=e.documentElement,new goog.math.Coordinate(t.scrollLeft||e.scrollLeft,t.scrollTop||e.scrollTop)},goog.style.getBoundingClientRect_=function(e){var t;try{t=e.getBoundingClientRect()}catch(o){return{left:0,top:0,right:0,bottom:0}}return goog.userAgent.IE&&e.ownerDocument.body&&(e=e.ownerDocument,t.left-=e.documentElement.clientLeft+e.body.clientLeft,t.top-=e.documentElement.clientTop+e.body.clientTop),t},goog.style.getOffsetParent=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(8))return goog.asserts.assert(e&&"offsetParent"in e),e.offsetParent;var t=goog.dom.getOwnerDocument(e),o=goog.style.getStyle_(e,"position"),n="fixed"==o||"absolute"==o;for(e=e.parentNode;e&&e!=t;e=e.parentNode)if(e.nodeType==goog.dom.NodeType.DOCUMENT_FRAGMENT&&e.host&&(e=e.host),o=goog.style.getStyle_(e,"position"),n=n&&"static"==o&&e!=t.documentElement&&e!=t.body,!n&&(e.scrollWidth>e.clientWidth||e.scrollHeight>e.clientHeight||"fixed"==o||"absolute"==o||"relative"==o))return e;return null},goog.style.getVisibleRectForElement=function(e){for(var t=new goog.math.Box(0,1/0,1/0,0),o=goog.dom.getDomHelper(e),n=o.getDocument().body,r=o.getDocument().documentElement,i=o.getDocumentScrollElement();e=goog.style.getOffsetParent(e);)if(!(goog.userAgent.IE&&0==e.clientWidth||goog.userAgent.WEBKIT&&0==e.clientHeight&&e==n)&&e!=n&&e!=r&&"visible"!=goog.style.getStyle_(e,"overflow")){var s=goog.style.getPageOffset(e),a=goog.style.getClientLeftTop(e);s.x+=a.x,s.y+=a.y,t.top=Math.max(t.top,s.y),t.right=Math.min(t.right,s.x+e.clientWidth),t.bottom=Math.min(t.bottom,s.y+e.clientHeight),t.left=Math.max(t.left,s.x)}return n=i.scrollLeft,i=i.scrollTop,t.left=Math.max(t.left,n),t.top=Math.max(t.top,i),o=o.getViewportSize(),t.right=Math.min(t.right,n+o.width),t.bottom=Math.min(t.bottom,i+o.height),0<=t.top&&0<=t.left&&t.bottom>t.top&&t.right>t.left?t:null},goog.style.getContainerOffsetToScrollInto=function(e,t,o){var n=t||goog.dom.getDocumentScrollElement(),r=goog.style.getPageOffset(e),i=goog.style.getPageOffset(n),s=goog.style.getBorderBox(n);return n==goog.dom.getDocumentScrollElement()?(t=r.x-n.scrollLeft,r=r.y-n.scrollTop,goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(10)&&(t+=s.left,r+=s.top)):(t=r.x-i.x-s.left,r=r.y-i.y-s.top),s=n.clientWidth-e.offsetWidth,e=n.clientHeight-e.offsetHeight,i=n.scrollLeft,n=n.scrollTop,o?(i+=t-s/2,n+=r-e/2):(i+=Math.min(t,Math.max(t-s,0)),n+=Math.min(r,Math.max(r-e,0))),new goog.math.Coordinate(i,n)},goog.style.scrollIntoContainerView=function(e,t,o){t=t||goog.dom.getDocumentScrollElement(),e=goog.style.getContainerOffsetToScrollInto(e,t,o),t.scrollLeft=e.x,t.scrollTop=e.y},goog.style.getClientLeftTop=function(e){return new goog.math.Coordinate(e.clientLeft,e.clientTop)},goog.style.getPageOffset=function(e){var t=goog.dom.getOwnerDocument(e);goog.asserts.assertObject(e,"Parameter is required");var o=new goog.math.Coordinate(0,0),n=goog.style.getClientViewportElement(t);return e==n?o:(e=goog.style.getBoundingClientRect_(e),t=goog.dom.getDomHelper(t).getDocumentScroll(),o.x=e.left+t.x,o.y=e.top+t.y,o)},goog.style.getPageOffsetLeft=function(e){return goog.style.getPageOffset(e).x},goog.style.getPageOffsetTop=function(e){return goog.style.getPageOffset(e).y},goog.style.getFramedPageOffset=function(e,t){var o=new goog.math.Coordinate(0,0),n=goog.dom.getWindow(goog.dom.getOwnerDocument(e));if(!goog.reflect.canAccessProperty(n,"parent"))return o;var r=e;do{var i=n==t?goog.style.getPageOffset(r):goog.style.getClientPositionForElement_(goog.asserts.assert(r));o.x+=i.x,o.y+=i.y}while(n&&n!=t&&n!=n.parent&&(r=n.frameElement)&&(n=n.parent));return o},goog.style.translateRectForAnotherFrame=function(e,t,o){if(t.getDocument()!=o.getDocument()){var n=t.getDocument().body;o=goog.style.getFramedPageOffset(n,o.getWindow()),o=goog.math.Coordinate.difference(o,goog.style.getPageOffset(n)),!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9)||t.isCss1CompatMode()||(o=goog.math.Coordinate.difference(o,t.getDocumentScroll())),e.left+=o.x,e.top+=o.y}},goog.style.getRelativePosition=function(e,t){var o=goog.style.getClientPosition(e),n=goog.style.getClientPosition(t);return new goog.math.Coordinate(o.x-n.x,o.y-n.y)},goog.style.getClientPositionForElement_=function(e){return e=goog.style.getBoundingClientRect_(e),new goog.math.Coordinate(e.left,e.top)},goog.style.getClientPosition=function(e){return goog.asserts.assert(e),e.nodeType==goog.dom.NodeType.ELEMENT?goog.style.getClientPositionForElement_(e):(e=e.changedTouches?e.changedTouches[0]:e,new goog.math.Coordinate(e.clientX,e.clientY))},goog.style.setPageOffset=function(e,t,o){var n=goog.style.getPageOffset(e);t instanceof goog.math.Coordinate&&(o=t.y,t=t.x),t=goog.asserts.assertNumber(t)-n.x,goog.style.setPosition(e,e.offsetLeft+t,e.offsetTop+(Number(o)-n.y))},goog.style.setSize=function(e,t,o){if(t instanceof goog.math.Size)o=t.height,t=t.width;else if(void 0==o)throw Error("missing height argument");goog.style.setWidth(e,t),goog.style.setHeight(e,o)},goog.style.getPixelStyleValue_=function(e,t){return"number"==typeof e&&(e=(t?Math.round(e):e)+"px"),e},goog.style.setHeight=function(e,t){e.style.height=goog.style.getPixelStyleValue_(t,!0)},goog.style.setWidth=function(e,t){e.style.width=goog.style.getPixelStyleValue_(t,!0)},goog.style.getSize=function(e){return goog.style.evaluateWithTemporaryDisplay_(goog.style.getSizeWithDisplay_,e)},goog.style.evaluateWithTemporaryDisplay_=function(e,t){if("none"!=goog.style.getStyle_(t,"display"))return e(t);var o=t.style,n=o.display,r=o.visibility,i=o.position;o.visibility="hidden",o.position="absolute",o.display="inline";var s=e(t);return o.display=n,o.position=i,o.visibility=r,s},goog.style.getSizeWithDisplay_=function(e){var t=e.offsetWidth,o=e.offsetHeight,n=goog.userAgent.WEBKIT&&!t&&!o;return goog.isDef(t)&&!n||!e.getBoundingClientRect?new goog.math.Size(t,o):(e=goog.style.getBoundingClientRect_(e),new goog.math.Size(e.right-e.left,e.bottom-e.top))},goog.style.getTransformedSize=function(e){return e.getBoundingClientRect?(e=goog.style.evaluateWithTemporaryDisplay_(goog.style.getBoundingClientRect_,e),new goog.math.Size(e.right-e.left,e.bottom-e.top)):null},goog.style.getBounds=function(e){var t=goog.style.getPageOffset(e);return e=goog.style.getSize(e),new goog.math.Rect(t.x,t.y,e.width,e.height)},goog.style.toCamelCase=function(e){return goog.string.toCamelCase(String(e))},goog.style.toSelectorCase=function(e){return goog.string.toSelectorCase(e)},goog.style.getOpacity=function(e){goog.asserts.assert(e);var t=e.style;return e="","opacity"in t?e=t.opacity:"MozOpacity"in t?e=t.MozOpacity:"filter"in t&&(t=t.filter.match(/alpha\(opacity=([\d.]+)\)/))&&(e=String(t[1]/100)),""==e?e:Number(e)},goog.style.setOpacity=function(e,t){goog.asserts.assert(e);var o=e.style;"opacity"in o?o.opacity=t:"MozOpacity"in o?o.MozOpacity=t:"filter"in o&&(o.filter=""===t?"":"alpha(opacity="+100*Number(t)+")")},goog.style.setTransparentBackgroundImage=function(e,t){var o=e.style;goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?o.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src="'+t+'", sizingMethod="crop")':(o.backgroundImage="url("+t+")",o.backgroundPosition="top left",o.backgroundRepeat="no-repeat")},goog.style.clearTransparentBackgroundImage=function(e){e=e.style,"filter"in e?e.filter="":e.backgroundImage="none"},goog.style.showElement=function(e,t){goog.style.setElementShown(e,t)},goog.style.setElementShown=function(e,t){e.style.display=t?"":"none"},goog.style.isElementShown=function(e){return"none"!=e.style.display},goog.style.installStyles=function(e,t){return goog.style.installSafeStyleSheet(goog.html.legacyconversions.safeStyleSheetFromString(e),t)},goog.style.installSafeStyleSheet=function(e,t){var o=goog.dom.getDomHelper(t),n=null,r=o.getDocument();return goog.userAgent.IE&&r.createStyleSheet?(n=r.createStyleSheet(),goog.style.setSafeStyleSheet(n,e)):(r=o.getElementsByTagNameAndClass(goog.dom.TagName.HEAD)[0],r||(n=o.getElementsByTagNameAndClass(goog.dom.TagName.BODY)[0],r=o.createDom(goog.dom.TagName.HEAD),n.parentNode.insertBefore(r,n)),n=o.createDom(goog.dom.TagName.STYLE),goog.style.setSafeStyleSheet(n,e),o.appendChild(r,n)),n},goog.style.uninstallStyles=function(e){goog.dom.removeNode(e.ownerNode||e.owningElement||e)},goog.style.setStyles=function(e,t){goog.style.setSafeStyleSheet(e,goog.html.legacyconversions.safeStyleSheetFromString(t))},goog.style.setSafeStyleSheet=function(e,t){var o=goog.html.SafeStyleSheet.unwrap(t);goog.userAgent.IE&&goog.isDef(e.cssText)?e.cssText=o:goog.dom.setTextContent(e,o)},goog.style.setPreWrap=function(e){e=e.style,goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(e.whiteSpace="pre",e.wordWrap="break-word"):e.whiteSpace=goog.userAgent.GECKO?"-moz-pre-wrap":"pre-wrap"},goog.style.setInlineBlock=function(e){e=e.style,e.position="relative",goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("8")?(e.zoom="1",e.display="inline"):e.display="inline-block"},goog.style.isRightToLeft=function(e){return"rtl"==goog.style.getStyle_(e,"direction")},goog.style.unselectableStyle_=goog.userAgent.GECKO?"MozUserSelect":goog.userAgent.WEBKIT||goog.userAgent.EDGE?"WebkitUserSelect":null,goog.style.isUnselectable=function(e){return goog.style.unselectableStyle_?"none"==e.style[goog.style.unselectableStyle_].toLowerCase():goog.userAgent.IE||goog.userAgent.OPERA?"on"==e.getAttribute("unselectable"):!1},goog.style.setUnselectable=function(e,t,o){o=o?null:e.getElementsByTagName("*");var n=goog.style.unselectableStyle_;if(n){if(t=t?"none":"",e.style&&(e.style[n]=t),o){e=0;for(var r;r=o[e];e++)r.style&&(r.style[n]=t)}}else if((goog.userAgent.IE||goog.userAgent.OPERA)&&(t=t?"on":"",e.setAttribute("unselectable",t),o))for(e=0;r=o[e];e++)r.setAttribute("unselectable",t)},goog.style.getBorderBoxSize=function(e){return new goog.math.Size(e.offsetWidth,e.offsetHeight)},goog.style.setBorderBoxSize=function(e,t){var o=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(o).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,t,"border-box");else if(o=e.style,n){var n=goog.style.getPaddingBox(e),r=goog.style.getBorderBox(e);o.pixelWidth=t.width-r.left-n.left-n.right-r.right,o.pixelHeight=t.height-r.top-n.top-n.bottom-r.bottom}else o.pixelWidth=t.width,o.pixelHeight=t.height},goog.style.getContentBoxSize=function(e){var t=goog.dom.getOwnerDocument(e),o=goog.userAgent.IE&&e.currentStyle;return o&&goog.dom.getDomHelper(t).isCss1CompatMode()&&"auto"!=o.width&&"auto"!=o.height&&!o.boxSizing?(t=goog.style.getIePixelValue_(e,o.width,"width","pixelWidth"),e=goog.style.getIePixelValue_(e,o.height,"height","pixelHeight"),new goog.math.Size(t,e)):(o=goog.style.getBorderBoxSize(e),t=goog.style.getPaddingBox(e),e=goog.style.getBorderBox(e),new goog.math.Size(o.width-e.left-t.left-t.right-e.right,o.height-e.top-t.top-t.bottom-e.bottom))},goog.style.setContentBoxSize=function(e,t){var o=goog.dom.getOwnerDocument(e),n=goog.dom.getDomHelper(o).isCss1CompatMode();if(!goog.userAgent.IE||goog.userAgent.isVersionOrHigher("10")||n&&goog.userAgent.isVersionOrHigher("8"))goog.style.setBoxSizingSize_(e,t,"content-box");else if(o=e.style,n)o.pixelWidth=t.width,o.pixelHeight=t.height;else{var n=goog.style.getPaddingBox(e),r=goog.style.getBorderBox(e);o.pixelWidth=t.width+r.left+n.left+n.right+r.right,o.pixelHeight=t.height+r.top+n.top+n.bottom+r.bottom}},goog.style.setBoxSizingSize_=function(e,t,o){e=e.style,goog.userAgent.GECKO?e.MozBoxSizing=o:goog.userAgent.WEBKIT?e.WebkitBoxSizing=o:e.boxSizing=o,e.width=Math.max(t.width,0)+"px",e.height=Math.max(t.height,0)+"px"},goog.style.getIePixelValue_=function(e,t,o,n){if(/^\d+px?$/.test(t))return parseInt(t,10);var r=e.style[o],i=e.runtimeStyle[o];return e.runtimeStyle[o]=e.currentStyle[o],e.style[o]=t,t=e.style[n],e.style[o]=r,e.runtimeStyle[o]=i,t},goog.style.getIePixelDistance_=function(e,t){var o=goog.style.getCascadedStyle(e,t);return o?goog.style.getIePixelValue_(e,o,"left","pixelLeft"):0},goog.style.getBox_=function(e,t){if(goog.userAgent.IE){var o=goog.style.getIePixelDistance_(e,t+"Left"),n=goog.style.getIePixelDistance_(e,t+"Right"),r=goog.style.getIePixelDistance_(e,t+"Top"),i=goog.style.getIePixelDistance_(e,t+"Bottom");return new goog.math.Box(r,n,i,o)}return o=goog.style.getComputedStyle(e,t+"Left"),n=goog.style.getComputedStyle(e,t+"Right"),r=goog.style.getComputedStyle(e,t+"Top"),i=goog.style.getComputedStyle(e,t+"Bottom"),new goog.math.Box(parseFloat(r),parseFloat(n),parseFloat(i),parseFloat(o))},goog.style.getPaddingBox=function(e){return goog.style.getBox_(e,"padding")},goog.style.getMarginBox=function(e){return goog.style.getBox_(e,"margin")},goog.style.ieBorderWidthKeywords_={thin:2,medium:4,thick:6},goog.style.getIePixelBorder_=function(e,t){if("none"==goog.style.getCascadedStyle(e,t+"Style"))return 0;var o=goog.style.getCascadedStyle(e,t+"Width");return o in goog.style.ieBorderWidthKeywords_?goog.style.ieBorderWidthKeywords_[o]:goog.style.getIePixelValue_(e,o,"left","pixelLeft")},goog.style.getBorderBox=function(e){if(goog.userAgent.IE&&!goog.userAgent.isDocumentModeOrHigher(9)){var t=goog.style.getIePixelBorder_(e,"borderLeft"),o=goog.style.getIePixelBorder_(e,"borderRight"),n=goog.style.getIePixelBorder_(e,"borderTop");return e=goog.style.getIePixelBorder_(e,"borderBottom"),new goog.math.Box(n,o,e,t)}return t=goog.style.getComputedStyle(e,"borderLeftWidth"),o=goog.style.getComputedStyle(e,"borderRightWidth"),n=goog.style.getComputedStyle(e,"borderTopWidth"),e=goog.style.getComputedStyle(e,"borderBottomWidth"),new goog.math.Box(parseFloat(n),parseFloat(o),parseFloat(e),parseFloat(t))},goog.style.getFontFamily=function(e){var t=goog.dom.getOwnerDocument(e),o="";if(t.body.createTextRange&&goog.dom.contains(t,e)){t=t.body.createTextRange(),t.moveToElementText(e);try{o=t.queryCommandValue("FontName")}catch(n){o=""}}return o||(o=goog.style.getStyle_(e,"fontFamily")),e=o.split(","),1<e.length&&(o=e[0]),goog.string.stripQuotes(o,"\"'")},goog.style.lengthUnitRegex_=/[^\d]+$/,goog.style.getLengthUnits=function(e){return(e=e.match(goog.style.lengthUnitRegex_))&&e[0]||null},goog.style.ABSOLUTE_CSS_LENGTH_UNITS_={cm:1,"in":1,mm:1,pc:1,pt:1},goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_={em:1,ex:1},goog.style.getFontSize=function(e){var t=goog.style.getStyle_(e,"fontSize"),o=goog.style.getLengthUnits(t);if(t&&"px"==o)return parseInt(t,10);if(goog.userAgent.IE){if(String(o)in goog.style.ABSOLUTE_CSS_LENGTH_UNITS_)return goog.style.getIePixelValue_(e,t,"left","pixelLeft");if(e.parentNode&&e.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&String(o)in goog.style.CONVERTIBLE_RELATIVE_CSS_UNITS_)return e=e.parentNode,o=goog.style.getStyle_(e,"fontSize"),goog.style.getIePixelValue_(e,t==o?"1em":t,"left","pixelLeft")}return o=goog.dom.createDom(goog.dom.TagName.SPAN,{style:"visibility:hidden;position:absolute;line-height:0;padding:0;margin:0;border:0;height:1em;"}),goog.dom.appendChild(e,o),t=o.offsetHeight,goog.dom.removeNode(o),t},goog.style.parseStyleAttribute=function(e){var t={};return goog.array.forEach(e.split(/\s*;\s*/),function(e){var o=e.match(/\s*([\w-]+)\s*\:(.+)/);o&&(e=o[1],o=goog.string.trim(o[2]),t[goog.string.toCamelCase(e.toLowerCase())]=o)}),t},goog.style.toStyleAttribute=function(e){var t=[];return goog.object.forEach(e,function(e,o){t.push(goog.string.toSelectorCase(o),":",e,";")}),t.join("")},goog.style.setFloat=function(e,t){e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]=t},goog.style.getFloat=function(e){return e.style[goog.userAgent.IE?"styleFloat":"cssFloat"]||""},goog.style.getScrollbarWidth=function(e){var t=goog.dom.createElement(goog.dom.TagName.DIV);return e&&(t.className=e),t.style.cssText="overflow:auto;position:absolute;top:0;width:100px;height:100px",e=goog.dom.createElement(goog.dom.TagName.DIV),goog.style.setSize(e,"200px","200px"),t.appendChild(e),goog.dom.appendChild(goog.dom.getDocument().body,t),e=t.offsetWidth-t.clientWidth,goog.dom.removeNode(t),e},goog.style.MATRIX_TRANSLATION_REGEX_=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,goog.style.getCssTranslation=function(e){return e=goog.style.getComputedTransform(e),e&&(e=e.match(goog.style.MATRIX_TRANSLATION_REGEX_))?new goog.math.Coordinate(parseFloat(e[1]),parseFloat(e[2])):new goog.math.Coordinate(0,0)},goog.debug.entryPointRegistry={},goog.debug.EntryPointMonitor=function(){},goog.debug.entryPointRegistry.refList_=[],goog.debug.entryPointRegistry.monitors_=[],goog.debug.entryPointRegistry.monitorsMayExist_=!1,goog.debug.entryPointRegistry.register=function(e){if(goog.debug.entryPointRegistry.refList_[goog.debug.entryPointRegistry.refList_.length]=e,goog.debug.entryPointRegistry.monitorsMayExist_)for(var t=goog.debug.entryPointRegistry.monitors_,o=0;o<t.length;o++)e(goog.bind(t[o].wrap,t[o]))},goog.debug.entryPointRegistry.monitorAll=function(e){goog.debug.entryPointRegistry.monitorsMayExist_=!0;for(var t=goog.bind(e.wrap,e),o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](t);goog.debug.entryPointRegistry.monitors_.push(e)},goog.debug.entryPointRegistry.unmonitorAllIfPossible=function(e){var t=goog.debug.entryPointRegistry.monitors_;goog.asserts.assert(e==t[t.length-1],"Only the most recent monitor can be unwrapped."),e=goog.bind(e.unwrap,e);for(var o=0;o<goog.debug.entryPointRegistry.refList_.length;o++)goog.debug.entryPointRegistry.refList_[o](e);t.length--},goog.events={},goog.events.BrowserFeature={HAS_W3C_BUTTON:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),HAS_W3C_EVENT_SUPPORT:!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),SET_KEY_CODE_TO_PREVENT_DEFAULT:goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),HAS_NAVIGATOR_ONLINE_PROPERTY:!goog.userAgent.WEBKIT||goog.userAgent.isVersionOrHigher("528"),HAS_HTML5_NETWORK_EVENT_SUPPORT:goog.userAgent.GECKO&&goog.userAgent.isVersionOrHigher("1.9b")||goog.userAgent.IE&&goog.userAgent.isVersionOrHigher("8")||goog.userAgent.OPERA&&goog.userAgent.isVersionOrHigher("9.5")||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("528"),HTML5_NETWORK_EVENTS_FIRE_ON_BODY:goog.userAgent.GECKO&&!goog.userAgent.isVersionOrHigher("8")||goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("9"),TOUCH_ENABLED:"ontouchstart"in goog.global||!!(goog.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!goog.global.navigator||!goog.global.navigator.msMaxTouchPoints)},goog.disposable={},goog.disposable.IDisposable=function(){},goog.Disposable=function(){goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF&&(goog.Disposable.INCLUDE_STACK_ON_CREATION&&(this.creationStack=Error().stack),goog.Disposable.instances_[goog.getUid(this)]=this),this.disposed_=this.disposed_,this.onDisposeCallbacks_=this.onDisposeCallbacks_},goog.Disposable.MonitoringMode={OFF:0,PERMANENT:1,INTERACTIVE:2},goog.Disposable.MONITORING_MODE=0,goog.Disposable.INCLUDE_STACK_ON_CREATION=!0,goog.Disposable.instances_={},goog.Disposable.getUndisposedObjects=function(){var e,t=[];for(e in goog.Disposable.instances_)goog.Disposable.instances_.hasOwnProperty(e)&&t.push(goog.Disposable.instances_[Number(e)]);return t},goog.Disposable.clearUndisposedObjects=function(){goog.Disposable.instances_={}},goog.Disposable.prototype.disposed_=!1,goog.Disposable.prototype.isDisposed=function(){return this.disposed_},goog.Disposable.prototype.getDisposed=goog.Disposable.prototype.isDisposed,goog.Disposable.prototype.dispose=function(){if(!this.disposed_&&(this.disposed_=!0,this.disposeInternal(),goog.Disposable.MONITORING_MODE!=goog.Disposable.MonitoringMode.OFF)){var e=goog.getUid(this);if(goog.Disposable.MONITORING_MODE==goog.Disposable.MonitoringMode.PERMANENT&&!goog.Disposable.instances_.hasOwnProperty(e))throw Error(this+" did not call the goog.Disposable base constructor or was disposed of after a clearUndisposedObjects call");delete goog.Disposable.instances_[e]}},goog.Disposable.prototype.registerDisposable=function(e){this.addOnDisposeCallback(goog.partial(goog.dispose,e))},goog.Disposable.prototype.addOnDisposeCallback=function(e,t){this.disposed_?e.call(t):(this.onDisposeCallbacks_||(this.onDisposeCallbacks_=[]),this.onDisposeCallbacks_.push(goog.isDef(t)?goog.bind(e,t):e))},goog.Disposable.prototype.disposeInternal=function(){if(this.onDisposeCallbacks_)for(;this.onDisposeCallbacks_.length;)this.onDisposeCallbacks_.shift()()},goog.Disposable.isDisposed=function(e){return e&&"function"==typeof e.isDisposed?e.isDisposed():!1},goog.dispose=function(e){e&&"function"==typeof e.dispose&&e.dispose()},goog.disposeAll=function(e){for(var t=0,o=arguments.length;o>t;++t){var n=arguments[t];goog.isArrayLike(n)?goog.disposeAll.apply(null,n):goog.dispose(n)}},goog.events.EventId=function(e){this.id=e},goog.events.EventId.prototype.toString=function(){return this.id},goog.events.Event=function(e,t){this.type=e instanceof goog.events.EventId?String(e):e,this.currentTarget=this.target=t,this.defaultPrevented=this.propagationStopped_=!1,this.returnValue_=!0},goog.events.Event.prototype.stopPropagation=function(){this.propagationStopped_=!0},goog.events.Event.prototype.preventDefault=function(){this.defaultPrevented=!0,this.returnValue_=!1},goog.events.Event.stopPropagation=function(e){e.stopPropagation()},goog.events.Event.preventDefault=function(e){e.preventDefault()},goog.events.getVendorPrefixedName_=function(e){return goog.userAgent.WEBKIT?"webkit"+e:goog.userAgent.OPERA?"o"+e.toLowerCase():e.toLowerCase()},goog.events.EventType={CLICK:"click",RIGHTCLICK:"rightclick",DBLCLICK:"dblclick",MOUSEDOWN:"mousedown",MOUSEUP:"mouseup",MOUSEOVER:"mouseover",MOUSEOUT:"mouseout",MOUSEMOVE:"mousemove",MOUSEENTER:"mouseenter",MOUSELEAVE:"mouseleave",SELECTSTART:"selectstart",WHEEL:"wheel",KEYPRESS:"keypress",KEYDOWN:"keydown",KEYUP:"keyup",BLUR:"blur",FOCUS:"focus",DEACTIVATE:"deactivate",FOCUSIN:goog.userAgent.IE?"focusin":"DOMFocusIn",FOCUSOUT:goog.userAgent.IE?"focusout":"DOMFocusOut",CHANGE:"change",RESET:"reset",SELECT:"select",SUBMIT:"submit",INPUT:"input",PROPERTYCHANGE:"propertychange",DRAGSTART:"dragstart",DRAG:"drag",DRAGENTER:"dragenter",DRAGOVER:"dragover",DRAGLEAVE:"dragleave",DROP:"drop",DRAGEND:"dragend",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",TOUCHCANCEL:"touchcancel",BEFOREUNLOAD:"beforeunload",CONSOLEMESSAGE:"consolemessage",CONTEXTMENU:"contextmenu",DOMCONTENTLOADED:"DOMContentLoaded",ERROR:"error",HELP:"help",LOAD:"load",LOSECAPTURE:"losecapture",ORIENTATIONCHANGE:"orientationchange",READYSTATECHANGE:"readystatechange",RESIZE:"resize",SCROLL:"scroll",UNLOAD:"unload",HASHCHANGE:"hashchange",PAGEHIDE:"pagehide",PAGESHOW:"pageshow",POPSTATE:"popstate",COPY:"copy",PASTE:"paste",CUT:"cut",BEFORECOPY:"beforecopy",BEFORECUT:"beforecut",BEFOREPASTE:"beforepaste",ONLINE:"online",OFFLINE:"offline",MESSAGE:"message",CONNECT:"connect",ANIMATIONSTART:goog.events.getVendorPrefixedName_("AnimationStart"),ANIMATIONEND:goog.events.getVendorPrefixedName_("AnimationEnd"),ANIMATIONITERATION:goog.events.getVendorPrefixedName_("AnimationIteration"),TRANSITIONEND:goog.events.getVendorPrefixedName_("TransitionEnd"),POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTERCANCEL:"pointercancel",POINTERMOVE:"pointermove",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",GOTPOINTERCAPTURE:"gotpointercapture",LOSTPOINTERCAPTURE:"lostpointercapture",MSGESTURECHANGE:"MSGestureChange",MSGESTUREEND:"MSGestureEnd",MSGESTUREHOLD:"MSGestureHold",MSGESTURESTART:"MSGestureStart",MSGESTURETAP:"MSGestureTap",MSGOTPOINTERCAPTURE:"MSGotPointerCapture",MSINERTIASTART:"MSInertiaStart",MSLOSTPOINTERCAPTURE:"MSLostPointerCapture",MSPOINTERCANCEL:"MSPointerCancel",MSPOINTERDOWN:"MSPointerDown",MSPOINTERENTER:"MSPointerEnter",MSPOINTERHOVER:"MSPointerHover",MSPOINTERLEAVE:"MSPointerLeave",MSPOINTERMOVE:"MSPointerMove",MSPOINTEROUT:"MSPointerOut",MSPOINTEROVER:"MSPointerOver",MSPOINTERUP:"MSPointerUp",TEXT:"text",TEXTINPUT:"textInput",COMPOSITIONSTART:"compositionstart",COMPOSITIONUPDATE:"compositionupdate",COMPOSITIONEND:"compositionend",EXIT:"exit",LOADABORT:"loadabort",LOADCOMMIT:"loadcommit",LOADREDIRECT:"loadredirect",LOADSTART:"loadstart",LOADSTOP:"loadstop",RESPONSIVE:"responsive",SIZECHANGED:"sizechanged",UNRESPONSIVE:"unresponsive",VISIBILITYCHANGE:"visibilitychange",STORAGE:"storage",DOMSUBTREEMODIFIED:"DOMSubtreeModified",DOMNODEINSERTED:"DOMNodeInserted",DOMNODEREMOVED:"DOMNodeRemoved",DOMNODEREMOVEDFROMDOCUMENT:"DOMNodeRemovedFromDocument",DOMNODEINSERTEDINTODOCUMENT:"DOMNodeInsertedIntoDocument",DOMATTRMODIFIED:"DOMAttrModified",DOMCHARACTERDATAMODIFIED:"DOMCharacterDataModified",BEFOREPRINT:"beforeprint",AFTERPRINT:"afterprint"},goog.events.BrowserEvent=function(e,t){goog.events.Event.call(this,e?e.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.platformModifierKey=!1,this.event_=null,e&&this.init(e,t)},goog.inherits(goog.events.BrowserEvent,goog.events.Event),goog.events.BrowserEvent.MouseButton={LEFT:0,MIDDLE:1,RIGHT:2},goog.events.BrowserEvent.IEButtonMap=[1,4,2],
goog.events.BrowserEvent.prototype.init=function(e,t){var o=this.type=e.type,n=e.changedTouches?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.currentTarget=t;var r=e.relatedTarget;r?goog.userAgent.GECKO&&(goog.reflect.canAccessProperty(r,"nodeName")||(r=null)):o==goog.events.EventType.MOUSEOVER?r=e.fromElement:o==goog.events.EventType.MOUSEOUT&&(r=e.toElement),this.relatedTarget=r,goog.isNull(n)?(this.offsetX=goog.userAgent.WEBKIT||void 0!==e.offsetX?e.offsetX:e.layerX,this.offsetY=goog.userAgent.WEBKIT||void 0!==e.offsetY?e.offsetY:e.layerY,this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=e.button,this.keyCode=e.keyCode||0,this.charCode=e.charCode||("keypress"==o?e.keyCode:0),this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.platformModifierKey=goog.userAgent.MAC?e.metaKey:e.ctrlKey,this.state=e.state,this.event_=e,e.defaultPrevented&&this.preventDefault()},goog.events.BrowserEvent.prototype.isButton=function(e){return goog.events.BrowserFeature.HAS_W3C_BUTTON?this.event_.button==e:"click"==this.type?e==goog.events.BrowserEvent.MouseButton.LEFT:!!(this.event_.button&goog.events.BrowserEvent.IEButtonMap[e])},goog.events.BrowserEvent.prototype.isMouseActionButton=function(){return this.isButton(goog.events.BrowserEvent.MouseButton.LEFT)&&!(goog.userAgent.WEBKIT&&goog.userAgent.MAC&&this.ctrlKey)},goog.events.BrowserEvent.prototype.stopPropagation=function(){goog.events.BrowserEvent.superClass_.stopPropagation.call(this),this.event_.stopPropagation?this.event_.stopPropagation():this.event_.cancelBubble=!0},goog.events.BrowserEvent.prototype.preventDefault=function(){goog.events.BrowserEvent.superClass_.preventDefault.call(this);var e=this.event_;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,goog.events.BrowserFeature.SET_KEY_CODE_TO_PREVENT_DEFAULT)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},goog.events.BrowserEvent.prototype.getBrowserEvent=function(){return this.event_},goog.events.Listenable=function(){},goog.events.Listenable.IMPLEMENTED_BY_PROP="closure_listenable_"+(1e6*Math.random()|0),goog.events.Listenable.addImplementation=function(e){e.prototype[goog.events.Listenable.IMPLEMENTED_BY_PROP]=!0},goog.events.Listenable.isImplementedBy=function(e){return!(!e||!e[goog.events.Listenable.IMPLEMENTED_BY_PROP])},goog.events.ListenableKey=function(){},goog.events.ListenableKey.counter_=0,goog.events.ListenableKey.reserveKey=function(){return++goog.events.ListenableKey.counter_},goog.events.Listener=function(e,t,o,n,r,i){goog.events.Listener.ENABLE_MONITORING&&(this.creationStack=Error().stack),this.listener=e,this.proxy=t,this.src=o,this.type=n,this.capture=!!r,this.handler=i,this.key=goog.events.ListenableKey.reserveKey(),this.removed=this.callOnce=!1},goog.events.Listener.ENABLE_MONITORING=!1,goog.events.Listener.prototype.markAsRemoved=function(){this.removed=!0,this.handler=this.src=this.proxy=this.listener=null},goog.events.ListenerMap=function(e){this.src=e,this.listeners={},this.typeCount_=0},goog.events.ListenerMap.prototype.getTypeCount=function(){return this.typeCount_},goog.events.ListenerMap.prototype.getListenerCount=function(){var e,t=0;for(e in this.listeners)t+=this.listeners[e].length;return t},goog.events.ListenerMap.prototype.add=function(e,t,o,n,r){var i=e.toString();e=this.listeners[i],e||(e=this.listeners[i]=[],this.typeCount_++);var s=goog.events.ListenerMap.findListenerIndex_(e,t,n,r);return s>-1?(t=e[s],o||(t.callOnce=!1)):(t=new goog.events.Listener(t,null,this.src,i,!!n,r),t.callOnce=o,e.push(t)),t},goog.events.ListenerMap.prototype.remove=function(e,t,o,n){if(e=e.toString(),!(e in this.listeners))return!1;var r=this.listeners[e];return t=goog.events.ListenerMap.findListenerIndex_(r,t,o,n),t>-1?(r[t].markAsRemoved(),goog.array.removeAt(r,t),0==r.length&&(delete this.listeners[e],this.typeCount_--),!0):!1},goog.events.ListenerMap.prototype.removeByKey=function(e){var t=e.type;if(!(t in this.listeners))return!1;var o=goog.array.remove(this.listeners[t],e);return o&&(e.markAsRemoved(),0==this.listeners[t].length&&(delete this.listeners[t],this.typeCount_--)),o},goog.events.ListenerMap.prototype.removeAll=function(e){e=e&&e.toString();var t,o=0;for(t in this.listeners)if(!e||t==e){for(var n=this.listeners[t],r=0;r<n.length;r++)++o,n[r].markAsRemoved();delete this.listeners[t],this.typeCount_--}return o},goog.events.ListenerMap.prototype.getListeners=function(e,t){var o=this.listeners[e.toString()],n=[];if(o)for(var r=0;r<o.length;++r){var i=o[r];i.capture==t&&n.push(i)}return n},goog.events.ListenerMap.prototype.getListener=function(e,t,o,n){e=this.listeners[e.toString()];var r=-1;return e&&(r=goog.events.ListenerMap.findListenerIndex_(e,t,o,n)),r>-1?e[r]:null},goog.events.ListenerMap.prototype.hasListener=function(e,t){var o=goog.isDef(e),n=o?e.toString():"",r=goog.isDef(t);return goog.object.some(this.listeners,function(e,i){for(var s=0;s<e.length;++s)if(!(o&&e[s].type!=n||r&&e[s].capture!=t))return!0;return!1})},goog.events.ListenerMap.findListenerIndex_=function(e,t,o,n){for(var r=0;r<e.length;++r){var i=e[r];if(!i.removed&&i.listener==t&&i.capture==!!o&&i.handler==n)return r}return-1},goog.events.LISTENER_MAP_PROP_="closure_lm_"+(1e6*Math.random()|0),goog.events.onString_="on",goog.events.onStringMap_={},goog.events.CaptureSimulationMode={OFF_AND_FAIL:0,OFF_AND_SILENT:1,ON:2},goog.events.CAPTURE_SIMULATION_MODE=2,goog.events.listenerCountEstimate_=0,goog.events.listen=function(e,t,o,n,r){if(goog.isArray(t)){for(var i=0;i<t.length;i++)goog.events.listen(e,t[i],o,n,r);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?e.listen(t,o,n,r):goog.events.listen_(e,t,o,!1,n,r)},goog.events.listen_=function(e,t,o,n,r,i){if(!t)throw Error("Invalid event type");var s=!!r;if(s&&!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_FAIL)return goog.asserts.fail("Can not register capture listener in IE8-."),null;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.OFF_AND_SILENT)return null}var a=goog.events.getListenerMap_(e);if(a||(e[goog.events.LISTENER_MAP_PROP_]=a=new goog.events.ListenerMap(e)),o=a.add(t,o,n,r,i),o.proxy)return o;if(n=goog.events.getProxy(),o.proxy=n,n.src=e,n.listener=o,e.addEventListener)e.addEventListener(t.toString(),n,s);else{if(!e.attachEvent)throw Error("addEventListener and attachEvent are unavailable.");e.attachEvent(goog.events.getOnString_(t.toString()),n)}return goog.events.listenerCountEstimate_++,o},goog.events.getProxy=function(){var e=goog.events.handleBrowserEvent_,t=goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT?function(o){return e.call(t.src,t.listener,o)}:function(o){return o=e.call(t.src,t.listener,o),o?void 0:o};return t},goog.events.listenOnce=function(e,t,o,n,r){if(goog.isArray(t)){for(var i=0;i<t.length;i++)goog.events.listenOnce(e,t[i],o,n,r);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?e.listenOnce(t,o,n,r):goog.events.listen_(e,t,o,!0,n,r)},goog.events.listenWithWrapper=function(e,t,o,n,r){t.listen(e,o,n,r)},goog.events.unlisten=function(e,t,o,n,r){if(goog.isArray(t)){for(var i=0;i<t.length;i++)goog.events.unlisten(e,t[i],o,n,r);return null}return o=goog.events.wrapListener(o),goog.events.Listenable.isImplementedBy(e)?e.unlisten(t,o,n,r):e?(n=!!n,(e=goog.events.getListenerMap_(e))&&(t=e.getListener(t,o,n,r))?goog.events.unlistenByKey(t):!1):!1},goog.events.unlistenByKey=function(e){if(goog.isNumber(e)||!e||e.removed)return!1;var t=e.src;if(goog.events.Listenable.isImplementedBy(t))return t.unlistenByKey(e);var o=e.type,n=e.proxy;return t.removeEventListener?t.removeEventListener(o,n,e.capture):t.detachEvent&&t.detachEvent(goog.events.getOnString_(o),n),goog.events.listenerCountEstimate_--,(o=goog.events.getListenerMap_(t))?(o.removeByKey(e),0==o.getTypeCount()&&(o.src=null,t[goog.events.LISTENER_MAP_PROP_]=null)):e.markAsRemoved(),!0},goog.events.unlistenWithWrapper=function(e,t,o,n,r){t.unlisten(e,o,n,r)},goog.events.removeAll=function(e,t){if(!e)return 0;if(goog.events.Listenable.isImplementedBy(e))return e.removeAllListeners(t);var o=goog.events.getListenerMap_(e);if(!o)return 0;var n,r=0,i=t&&t.toString();for(n in o.listeners)if(!i||n==i)for(var s=o.listeners[n].concat(),a=0;a<s.length;++a)goog.events.unlistenByKey(s[a])&&++r;return r},goog.events.getListeners=function(e,t,o){return goog.events.Listenable.isImplementedBy(e)?e.getListeners(t,o):e&&(e=goog.events.getListenerMap_(e))?e.getListeners(t,o):[]},goog.events.getListener=function(e,t,o,n,r){return o=goog.events.wrapListener(o),n=!!n,goog.events.Listenable.isImplementedBy(e)?e.getListener(t,o,n,r):e&&(e=goog.events.getListenerMap_(e))?e.getListener(t,o,n,r):null},goog.events.hasListener=function(e,t,o){return goog.events.Listenable.isImplementedBy(e)?e.hasListener(t,o):(e=goog.events.getListenerMap_(e),!!e&&e.hasListener(t,o))},goog.events.expose=function(e){var t,o=[];for(t in e)e[t]&&e[t].id?o.push(t+" = "+e[t]+" ("+e[t].id+")"):o.push(t+" = "+e[t]);return o.join("\n")},goog.events.getOnString_=function(e){return e in goog.events.onStringMap_?goog.events.onStringMap_[e]:goog.events.onStringMap_[e]=goog.events.onString_+e},goog.events.fireListeners=function(e,t,o,n){return goog.events.Listenable.isImplementedBy(e)?e.fireListeners(t,o,n):goog.events.fireListeners_(e,t,o,n)},goog.events.fireListeners_=function(e,t,o,n){var r=!0;if((e=goog.events.getListenerMap_(e))&&(t=e.listeners[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var i=t[e];i&&i.capture==o&&!i.removed&&(i=goog.events.fireListener(i,n),r=r&&!1!==i)}return r},goog.events.fireListener=function(e,t){var o=e.listener,n=e.handler||e.src;return e.callOnce&&goog.events.unlistenByKey(e),o.call(n,t)},goog.events.getTotalListenerCount=function(){return goog.events.listenerCountEstimate_},goog.events.dispatchEvent=function(e,t){return goog.asserts.assert(goog.events.Listenable.isImplementedBy(e),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance."),e.dispatchEvent(t)},goog.events.protectBrowserEventEntryPoint=function(e){goog.events.handleBrowserEvent_=e.protectEntryPoint(goog.events.handleBrowserEvent_)},goog.events.handleBrowserEvent_=function(e,t){if(e.removed)return!0;if(!goog.events.BrowserFeature.HAS_W3C_EVENT_SUPPORT){var o=t||goog.getObjectByName("window.event"),n=new goog.events.BrowserEvent(o,this),r=!0;if(goog.events.CAPTURE_SIMULATION_MODE==goog.events.CaptureSimulationMode.ON){if(!goog.events.isMarkedIeEvent_(o)){goog.events.markIeEvent_(o);for(var o=[],i=n.currentTarget;i;i=i.parentNode)o.push(i);for(var i=e.type,s=o.length-1;!n.propagationStopped_&&s>=0;s--){n.currentTarget=o[s];var a=goog.events.fireListeners_(o[s],i,!0,n),r=r&&a}for(s=0;!n.propagationStopped_&&s<o.length;s++)n.currentTarget=o[s],a=goog.events.fireListeners_(o[s],i,!1,n),r=r&&a}}else r=goog.events.fireListener(e,n);return r}return goog.events.fireListener(e,new goog.events.BrowserEvent(t,this))},goog.events.markIeEvent_=function(e){var t=!1;if(0==e.keyCode)try{return void(e.keyCode=-1)}catch(o){t=!0}(t||void 0==e.returnValue)&&(e.returnValue=!0)},goog.events.isMarkedIeEvent_=function(e){return 0>e.keyCode||void 0!=e.returnValue},goog.events.uniqueIdCounter_=0,goog.events.getUniqueId=function(e){return e+"_"+goog.events.uniqueIdCounter_++},goog.events.getListenerMap_=function(e){return e=e[goog.events.LISTENER_MAP_PROP_],e instanceof goog.events.ListenerMap?e:null},goog.events.LISTENER_WRAPPER_PROP_="__closure_events_fn_"+(1e9*Math.random()>>>0),goog.events.wrapListener=function(e){return goog.asserts.assert(e,"Listener can not be null."),goog.isFunction(e)?e:(goog.asserts.assert(e.handleEvent,"An object listener must have handleEvent method."),e[goog.events.LISTENER_WRAPPER_PROP_]||(e[goog.events.LISTENER_WRAPPER_PROP_]=function(t){return e.handleEvent(t)}),e[goog.events.LISTENER_WRAPPER_PROP_])},goog.debug.entryPointRegistry.register(function(e){goog.events.handleBrowserEvent_=e(goog.events.handleBrowserEvent_)}),goog.Thenable=function(){},goog.Thenable.prototype.then=function(e,t,o){},goog.Thenable.IMPLEMENTED_BY_PROP="$goog_Thenable",goog.Thenable.addImplementation=function(e){goog.exportProperty(e.prototype,"then",e.prototype.then),COMPILED?e.prototype[goog.Thenable.IMPLEMENTED_BY_PROP]=!0:e.prototype.$goog_Thenable=!0},goog.Thenable.isImplementedBy=function(e){if(!e)return!1;try{return COMPILED?!!e[goog.Thenable.IMPLEMENTED_BY_PROP]:!!e.$goog_Thenable}catch(t){return!1}},goog.async={},goog.async.FreeList=function(e,t,o){this.limit_=o,this.create_=e,this.reset_=t,this.occupants_=0,this.head_=null},goog.async.FreeList.prototype.get=function(){var e;return 0<this.occupants_?(this.occupants_--,e=this.head_,this.head_=e.next,e.next=null):e=this.create_(),e},goog.async.FreeList.prototype.put=function(e){this.reset_(e),this.occupants_<this.limit_&&(this.occupants_++,e.next=this.head_,this.head_=e)},goog.async.FreeList.prototype.occupants=function(){return this.occupants_},goog.async.WorkQueue=function(){this.workTail_=this.workHead_=null},goog.async.WorkQueue.DEFAULT_MAX_UNUSED=100,goog.async.WorkQueue.freelist_=new goog.async.FreeList(function(){return new goog.async.WorkItem},function(e){e.reset()},goog.async.WorkQueue.DEFAULT_MAX_UNUSED),goog.async.WorkQueue.prototype.add=function(e,t){var o=this.getUnusedItem_();o.set(e,t),this.workTail_?this.workTail_.next=o:(goog.asserts.assert(!this.workHead_),this.workHead_=o),this.workTail_=o},goog.async.WorkQueue.prototype.remove=function(){var e=null;return this.workHead_&&(e=this.workHead_,this.workHead_=this.workHead_.next,this.workHead_||(this.workTail_=null),e.next=null),e},goog.async.WorkQueue.prototype.returnUnused=function(e){goog.async.WorkQueue.freelist_.put(e)},goog.async.WorkQueue.prototype.getUnusedItem_=function(){return goog.async.WorkQueue.freelist_.get()},goog.async.WorkItem=function(){this.next=this.scope=this.fn=null},goog.async.WorkItem.prototype.set=function(e,t){this.fn=e,this.scope=t,this.next=null},goog.async.WorkItem.prototype.reset=function(){this.next=this.scope=this.fn=null},goog.functions={},goog.functions.constant=function(e){return function(){return e}},goog.functions.FALSE=goog.functions.constant(!1),goog.functions.TRUE=goog.functions.constant(!0),goog.functions.NULL=goog.functions.constant(null),goog.functions.identity=function(e,t){return e},goog.functions.error=function(e){return function(){throw Error(e)}},goog.functions.fail=function(e){return function(){throw e}},goog.functions.lock=function(e,t){return t=t||0,function(){return e.apply(this,Array.prototype.slice.call(arguments,0,t))}},goog.functions.nth=function(e){return function(){return arguments[e]}},goog.functions.partialRight=function(e,t){var o=Array.prototype.slice.call(arguments,1);return function(){var t=Array.prototype.slice.call(arguments);return t.push.apply(t,o),e.apply(this,t)}},goog.functions.withReturnValue=function(e,t){return goog.functions.sequence(e,goog.functions.constant(t))},goog.functions.equalTo=function(e,t){return function(o){return t?e==o:e===o}},goog.functions.compose=function(e,t){var o=arguments,n=o.length;return function(){var e;n&&(e=o[n-1].apply(this,arguments));for(var t=n-2;t>=0;t--)e=o[t].call(this,e);return e}},goog.functions.sequence=function(e){var t=arguments,o=t.length;return function(){for(var e,n=0;o>n;n++)e=t[n].apply(this,arguments);return e}},goog.functions.and=function(e){var t=arguments,o=t.length;return function(){for(var e=0;o>e;e++)if(!t[e].apply(this,arguments))return!1;return!0}},goog.functions.or=function(e){var t=arguments,o=t.length;return function(){for(var e=0;o>e;e++)if(t[e].apply(this,arguments))return!0;return!1}},goog.functions.not=function(e){return function(){return!e.apply(this,arguments)}},goog.functions.create=function(e,t){var o=function(){};return o.prototype=e.prototype,o=new o,e.apply(o,Array.prototype.slice.call(arguments,1)),o},goog.functions.CACHE_RETURN_VALUE=!0,goog.functions.cacheReturnValue=function(e){var t,o=!1;return function(){return goog.functions.CACHE_RETURN_VALUE?(o||(t=e(),o=!0),t):e()}},goog.functions.once=function(e){var t=e;return function(){if(t){var e=t;t=null,e()}}},goog.functions.debounce=function(e,t,o){o&&(e=goog.bind(e,o));var n=null;return function(o){goog.global.clearTimeout(n);var r=arguments;n=goog.global.setTimeout(function(){e.apply(null,r)},t)}},goog.functions.throttle=function(e,t,o){o&&(e=goog.bind(e,o));var n=null,r=!1,i=[],s=function(){n=null,r&&(r=!1,a())},a=function(){n=goog.global.setTimeout(s,t),e.apply(null,i)};return function(e){i=arguments,n?r=!0:a()}},goog.async.throwException=function(e){goog.global.setTimeout(function(){throw e},0)},goog.async.nextTick=function(e,t,o){var n=e;t&&(n=goog.bind(e,t)),n=goog.async.nextTick.wrapCallback_(n),goog.isFunction(goog.global.setImmediate)&&(o||goog.async.nextTick.useSetImmediate_())?goog.global.setImmediate(n):(goog.async.nextTick.setImmediate_||(goog.async.nextTick.setImmediate_=goog.async.nextTick.getSetImmediateEmulator_()),goog.async.nextTick.setImmediate_(n))},goog.async.nextTick.useSetImmediate_=function(){return!goog.global.Window||!goog.global.Window.prototype||goog.labs.userAgent.browser.isEdge()||goog.global.Window.prototype.setImmediate!=goog.global.setImmediate},goog.async.nextTick.getSetImmediateEmulator_=function(){var e=goog.global.MessageChannel;if("undefined"==typeof e&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!goog.labs.userAgent.engine.isPresto()&&(e=function(){var e=document.createElement(goog.dom.TagName.IFRAME);e.style.display="none",e.src="",document.documentElement.appendChild(e);var t=e.contentWindow,e=t.document;e.open(),e.write(""),e.close();var o="callImmediate"+Math.random(),n="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host,e=goog.bind(function(e){"*"!=n&&e.origin!=n||e.data!=o||this.port1.onmessage()},this);t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(o,n)}}}),"undefined"!=typeof e&&!goog.labs.userAgent.browser.isIE()){var t=new e,o={},n=o;return t.port1.onmessage=function(){if(goog.isDef(o.next)){o=o.next;var e=o.cb;o.cb=null,e()}},function(e){n.next={cb:e},n=n.next,t.port2.postMessage(0)}}return"undefined"!=typeof document&&"onreadystatechange"in document.createElement(goog.dom.TagName.SCRIPT)?function(e){var t=document.createElement(goog.dom.TagName.SCRIPT);t.onreadystatechange=function(){t.onreadystatechange=null,t.parentNode.removeChild(t),t=null,e(),e=null},document.documentElement.appendChild(t)}:function(e){goog.global.setTimeout(e,0)}},goog.async.nextTick.wrapCallback_=goog.functions.identity,goog.debug.entryPointRegistry.register(function(e){goog.async.nextTick.wrapCallback_=e}),goog.async.run=function(e,t){goog.async.run.schedule_||goog.async.run.initializeRunner_(),goog.async.run.workQueueScheduled_||(goog.async.run.schedule_(),goog.async.run.workQueueScheduled_=!0),goog.async.run.workQueue_.add(e,t)},goog.async.run.initializeRunner_=function(){if(goog.global.Promise&&goog.global.Promise.resolve){var e=goog.global.Promise.resolve(void 0);goog.async.run.schedule_=function(){e.then(goog.async.run.processWorkQueue)}}else goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue)}},goog.async.run.forceNextTick=function(e){goog.async.run.schedule_=function(){goog.async.nextTick(goog.async.run.processWorkQueue),e&&e(goog.async.run.processWorkQueue)}},goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue,goog.DEBUG&&(goog.async.run.resetQueue=function(){goog.async.run.workQueueScheduled_=!1,goog.async.run.workQueue_=new goog.async.WorkQueue}),goog.async.run.processWorkQueue=function(){for(var e=null;e=goog.async.run.workQueue_.remove();){try{e.fn.call(e.scope)}catch(t){goog.async.throwException(t)}goog.async.run.workQueue_.returnUnused(e)}goog.async.run.workQueueScheduled_=!1},goog.promise={},goog.promise.Resolver=function(){},goog.Promise=function(e,t){if(this.state_=goog.Promise.State_.PENDING,this.result_=void 0,this.callbackEntriesTail_=this.callbackEntries_=this.parent_=null,this.executing_=!1,0<goog.Promise.UNHANDLED_REJECTION_DELAY?this.unhandledRejectionId_=0:0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(this.hadUnhandledRejection_=!1),goog.Promise.LONG_STACK_TRACES&&(this.stack_=[],this.addStackTrace_(Error("created")),this.currentStep_=0),e!=goog.nullFunction)try{var o=this;e.call(t,function(e){o.resolve_(goog.Promise.State_.FULFILLED,e)},function(e){if(goog.DEBUG&&!(e instanceof goog.Promise.CancellationError))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(t){}o.resolve_(goog.Promise.State_.REJECTED,e)})}catch(n){this.resolve_(goog.Promise.State_.REJECTED,n)}},goog.Promise.LONG_STACK_TRACES=!1,goog.Promise.UNHANDLED_REJECTION_DELAY=0,goog.Promise.State_={PENDING:0,BLOCKED:1,FULFILLED:2,REJECTED:3},goog.Promise.CallbackEntry_=function(){this.next=this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.CallbackEntry_.prototype.reset=function(){this.context=this.onRejected=this.onFulfilled=this.child=null,this.always=!1},goog.Promise.DEFAULT_MAX_UNUSED=100,goog.Promise.freelist_=new goog.async.FreeList(function(){return new goog.Promise.CallbackEntry_},function(e){e.reset()},goog.Promise.DEFAULT_MAX_UNUSED),goog.Promise.getCallbackEntry_=function(e,t,o){var n=goog.Promise.freelist_.get();return n.onFulfilled=e,n.onRejected=t,n.context=o,n},goog.Promise.returnEntry_=function(e){goog.Promise.freelist_.put(e)},goog.Promise.resolve=function(e){if(e instanceof goog.Promise)return e;var t=new goog.Promise(goog.nullFunction);return t.resolve_(goog.Promise.State_.FULFILLED,e),t},goog.Promise.reject=function(e){return new goog.Promise(function(t,o){o(e)})},goog.Promise.resolveThen_=function(e,t,o){goog.Promise.maybeThen_(e,t,o,null)||goog.async.run(goog.partial(t,e))},goog.Promise.race=function(e){return new goog.Promise(function(t,o){e.length||t(void 0);for(var n,r=0;r<e.length;r++)n=e[r],goog.Promise.resolveThen_(n,t,o)})},goog.Promise.all=function(e){return new goog.Promise(function(t,o){var n=e.length,r=[];if(n)for(var i,s=function(e,o){n--,r[e]=o,0==n&&t(r)},a=function(e){o(e)},l=0;l<e.length;l++)i=e[l],goog.Promise.resolveThen_(i,goog.partial(s,l),a);else t(r)})},goog.Promise.allSettled=function(e){return new goog.Promise(function(t,o){var n=e.length,r=[];if(n)for(var i,s=function(e,o,i){n--,r[e]=o?{fulfilled:!0,value:i}:{fulfilled:!1,reason:i},0==n&&t(r)},a=0;a<e.length;a++)i=e[a],goog.Promise.resolveThen_(i,goog.partial(s,a,!0),goog.partial(s,a,!1));else t(r)})},goog.Promise.firstFulfilled=function(e){return new goog.Promise(function(t,o){var n=e.length,r=[];if(n)for(var i,s=function(e){t(e)},a=function(e,t){n--,r[e]=t,0==n&&o(r)},l=0;l<e.length;l++)i=e[l],goog.Promise.resolveThen_(i,s,goog.partial(a,l));else t(void 0)})},goog.Promise.withResolver=function(){var e,t,o=new goog.Promise(function(o,n){e=o,t=n});return new goog.Promise.Resolver_(o,e,t)},goog.Promise.prototype.then=function(e,t,o){return null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=t&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addChildPromise_(goog.isFunction(e)?e:null,goog.isFunction(t)?t:null,o)},goog.Thenable.addImplementation(goog.Promise),goog.Promise.prototype.thenVoid=function(e,t,o){null!=e&&goog.asserts.assertFunction(e,"opt_onFulfilled should be a function."),null!=t&&goog.asserts.assertFunction(t,"opt_onRejected should be a function. Did you pass opt_context as the second argument instead of the third?"),goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("then")),this.addCallbackEntry_(goog.Promise.getCallbackEntry_(e||goog.nullFunction,t||null,o))},goog.Promise.prototype.thenAlways=function(e,t){goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenAlways"));var o=goog.Promise.getCallbackEntry_(e,e,t);return o.always=!0,this.addCallbackEntry_(o),this},goog.Promise.prototype.thenCatch=function(e,t){return goog.Promise.LONG_STACK_TRACES&&this.addStackTrace_(Error("thenCatch")),this.addChildPromise_(null,e,t)},goog.Promise.prototype.cancel=function(e){this.state_==goog.Promise.State_.PENDING&&goog.async.run(function(){var t=new goog.Promise.CancellationError(e);this.cancelInternal_(t)},this)},goog.Promise.prototype.cancelInternal_=function(e){this.state_==goog.Promise.State_.PENDING&&(this.parent_?(this.parent_.cancelChild_(this,e),this.parent_=null):this.resolve_(goog.Promise.State_.REJECTED,e))},goog.Promise.prototype.cancelChild_=function(e,t){if(this.callbackEntries_){for(var o=0,n=null,r=null,i=this.callbackEntries_;i&&(i.always||(o++,i.child==e&&(n=i),!(n&&o>1)));i=i.next)n||(r=i);n&&(this.state_==goog.Promise.State_.PENDING&&1==o?this.cancelInternal_(t):(r?this.removeEntryAfter_(r):this.popEntry_(),this.executeCallback_(n,goog.Promise.State_.REJECTED,t)))}},goog.Promise.prototype.addCallbackEntry_=function(e){this.hasEntry_()||this.state_!=goog.Promise.State_.FULFILLED&&this.state_!=goog.Promise.State_.REJECTED||this.scheduleCallbacks_(),this.queueEntry_(e)},goog.Promise.prototype.addChildPromise_=function(e,t,o){var n=goog.Promise.getCallbackEntry_(null,null,null);return n.child=new goog.Promise(function(r,i){n.onFulfilled=e?function(t){try{var n=e.call(o,t);r(n)}catch(s){i(s)}}:r,n.onRejected=t?function(e){try{var n=t.call(o,e);!goog.isDef(n)&&e instanceof goog.Promise.CancellationError?i(e):r(n)}catch(s){i(s)}}:i}),n.child.parent_=this,this.addCallbackEntry_(n),n.child},goog.Promise.prototype.unblockAndFulfill_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.FULFILLED,e)},goog.Promise.prototype.unblockAndReject_=function(e){goog.asserts.assert(this.state_==goog.Promise.State_.BLOCKED),this.state_=goog.Promise.State_.PENDING,this.resolve_(goog.Promise.State_.REJECTED,e)},goog.Promise.prototype.resolve_=function(e,t){this.state_==goog.Promise.State_.PENDING&&(this==t&&(e=goog.Promise.State_.REJECTED,t=new TypeError("Promise cannot resolve to itself")),this.state_=goog.Promise.State_.BLOCKED,goog.Promise.maybeThen_(t,this.unblockAndFulfill_,this.unblockAndReject_,this)||(this.result_=t,this.state_=e,this.parent_=null,this.scheduleCallbacks_(),e!=goog.Promise.State_.REJECTED||t instanceof goog.Promise.CancellationError||goog.Promise.addUnhandledRejection_(this,t)))},goog.Promise.maybeThen_=function(e,t,o,n){if(e instanceof goog.Promise)return e.thenVoid(t,o,n),!0;if(goog.Thenable.isImplementedBy(e))return e.then(t,o,n),!0;if(goog.isObject(e))try{var r=e.then;if(goog.isFunction(r))return goog.Promise.tryThen_(e,r,t,o,n),!0}catch(i){return o.call(n,i),!0}return!1},goog.Promise.tryThen_=function(e,t,o,n,r){var i=!1,s=function(e){i||(i=!0,o.call(r,e))},a=function(e){i||(i=!0,n.call(r,e))};try{t.call(e,s,a)}catch(l){a(l)}},goog.Promise.prototype.scheduleCallbacks_=function(){this.executing_||(this.executing_=!0,goog.async.run(this.executeCallbacks_,this))},goog.Promise.prototype.hasEntry_=function(){return!!this.callbackEntries_},goog.Promise.prototype.queueEntry_=function(e){goog.asserts.assert(null!=e.onFulfilled),this.callbackEntriesTail_?this.callbackEntriesTail_.next=e:this.callbackEntries_=e,this.callbackEntriesTail_=e},goog.Promise.prototype.popEntry_=function(){var e=null;return this.callbackEntries_&&(e=this.callbackEntries_,this.callbackEntries_=e.next,e.next=null),this.callbackEntries_||(this.callbackEntriesTail_=null),null!=e&&goog.asserts.assert(null!=e.onFulfilled),e},goog.Promise.prototype.removeEntryAfter_=function(e){goog.asserts.assert(this.callbackEntries_),goog.asserts.assert(null!=e),e.next==this.callbackEntriesTail_&&(this.callbackEntriesTail_=e),e.next=e.next.next},goog.Promise.prototype.executeCallbacks_=function(){for(var e=null;e=this.popEntry_();)goog.Promise.LONG_STACK_TRACES&&this.currentStep_++,this.executeCallback_(e,this.state_,this.result_);this.executing_=!1},goog.Promise.prototype.executeCallback_=function(e,t,o){if(t==goog.Promise.State_.REJECTED&&e.onRejected&&!e.always&&this.removeUnhandledRejection_(),e.child)e.child.parent_=null,goog.Promise.invokeCallback_(e,t,o);else try{e.always?e.onFulfilled.call(e.context):goog.Promise.invokeCallback_(e,t,o)}catch(n){goog.Promise.handleRejection_.call(null,n)}goog.Promise.returnEntry_(e)},goog.Promise.invokeCallback_=function(e,t,o){t==goog.Promise.State_.FULFILLED?e.onFulfilled.call(e.context,o):e.onRejected&&e.onRejected.call(e.context,o)},goog.Promise.prototype.addStackTrace_=function(e){if(goog.Promise.LONG_STACK_TRACES&&goog.isString(e.stack)){var t=e.stack.split("\n",4)[3];e=e.message,e+=Array(11-e.length).join(" "),this.stack_.push(e+t)}},goog.Promise.prototype.appendLongStack_=function(e){if(goog.Promise.LONG_STACK_TRACES&&e&&goog.isString(e.stack)&&this.stack_.length){for(var t=["Promise trace:"],o=this;o;o=o.parent_){for(var n=this.currentStep_;n>=0;n--)t.push(o.stack_[n]);t.push("Value: ["+(o.state_==goog.Promise.State_.REJECTED?"REJECTED":"FULFILLED")+"] <"+String(o.result_)+">")}e.stack+="\n\n"+t.join("\n")}},goog.Promise.prototype.removeUnhandledRejection_=function(){if(0<goog.Promise.UNHANDLED_REJECTION_DELAY)for(var e=this;e&&e.unhandledRejectionId_;e=e.parent_)goog.global.clearTimeout(e.unhandledRejectionId_),e.unhandledRejectionId_=0;else if(0==goog.Promise.UNHANDLED_REJECTION_DELAY)for(e=this;e&&e.hadUnhandledRejection_;e=e.parent_)e.hadUnhandledRejection_=!1},goog.Promise.addUnhandledRejection_=function(e,t){0<goog.Promise.UNHANDLED_REJECTION_DELAY?e.unhandledRejectionId_=goog.global.setTimeout(function(){e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t)},goog.Promise.UNHANDLED_REJECTION_DELAY):0==goog.Promise.UNHANDLED_REJECTION_DELAY&&(e.hadUnhandledRejection_=!0,goog.async.run(function(){e.hadUnhandledRejection_&&(e.appendLongStack_(t),goog.Promise.handleRejection_.call(null,t))}))},goog.Promise.handleRejection_=goog.async.throwException,goog.Promise.setUnhandledRejectionHandler=function(e){goog.Promise.handleRejection_=e},goog.Promise.CancellationError=function(e){goog.debug.Error.call(this,e)},goog.inherits(goog.Promise.CancellationError,goog.debug.Error),goog.Promise.CancellationError.prototype.name="cancel",goog.Promise.Resolver_=function(e,t,o){this.promise=e,this.resolve=t,this.reject=o},goog.events.EventTarget=function(){goog.Disposable.call(this),this.eventTargetListeners_=new goog.events.ListenerMap(this),this.actualEventTarget_=this,this.parentEventTarget_=null},goog.inherits(goog.events.EventTarget,goog.Disposable),goog.events.Listenable.addImplementation(goog.events.EventTarget),goog.events.EventTarget.MAX_ANCESTORS_=1e3,goog.events.EventTarget.prototype.getParentEventTarget=function(){return this.parentEventTarget_},goog.events.EventTarget.prototype.setParentEventTarget=function(e){this.parentEventTarget_=e},goog.events.EventTarget.prototype.addEventListener=function(e,t,o,n){goog.events.listen(this,e,t,o,n)},goog.events.EventTarget.prototype.removeEventListener=function(e,t,o,n){goog.events.unlisten(this,e,t,o,n)},goog.events.EventTarget.prototype.dispatchEvent=function(e){this.assertInitialized_();var t,o=this.getParentEventTarget();if(o){t=[];for(var n=1;o;o=o.getParentEventTarget())t.push(o),goog.asserts.assert(++n<goog.events.EventTarget.MAX_ANCESTORS_,"infinite loop")}return goog.events.EventTarget.dispatchEventInternal_(this.actualEventTarget_,e,t);
},goog.events.EventTarget.prototype.disposeInternal=function(){goog.events.EventTarget.superClass_.disposeInternal.call(this),this.removeAllListeners(),this.parentEventTarget_=null},goog.events.EventTarget.prototype.listen=function(e,t,o,n){return this.assertInitialized_(),this.eventTargetListeners_.add(String(e),t,!1,o,n)},goog.events.EventTarget.prototype.listenOnce=function(e,t,o,n){return this.eventTargetListeners_.add(String(e),t,!0,o,n)},goog.events.EventTarget.prototype.unlisten=function(e,t,o,n){return this.eventTargetListeners_.remove(String(e),t,o,n)},goog.events.EventTarget.prototype.unlistenByKey=function(e){return this.eventTargetListeners_.removeByKey(e)},goog.events.EventTarget.prototype.removeAllListeners=function(e){return this.eventTargetListeners_?this.eventTargetListeners_.removeAll(e):0},goog.events.EventTarget.prototype.fireListeners=function(e,t,o){if(e=this.eventTargetListeners_.listeners[String(e)],!e)return!0;e=e.concat();for(var n=!0,r=0;r<e.length;++r){var i=e[r];if(i&&!i.removed&&i.capture==t){var s=i.listener,a=i.handler||i.src;i.callOnce&&this.unlistenByKey(i),n=!1!==s.call(a,o)&&n}}return n&&0!=o.returnValue_},goog.events.EventTarget.prototype.getListeners=function(e,t){return this.eventTargetListeners_.getListeners(String(e),t)},goog.events.EventTarget.prototype.getListener=function(e,t,o,n){return this.eventTargetListeners_.getListener(String(e),t,o,n)},goog.events.EventTarget.prototype.hasListener=function(e,t){var o=goog.isDef(e)?String(e):void 0;return this.eventTargetListeners_.hasListener(o,t)},goog.events.EventTarget.prototype.setTargetForTesting=function(e){this.actualEventTarget_=e},goog.events.EventTarget.prototype.assertInitialized_=function(){goog.asserts.assert(this.eventTargetListeners_,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")},goog.events.EventTarget.dispatchEventInternal_=function(e,t,o){var n=t.type||t;if(goog.isString(t))t=new goog.events.Event(t,e);else if(t instanceof goog.events.Event)t.target=t.target||e;else{var r=t;t=new goog.events.Event(n,e),goog.object.extend(t,r)}var i,r=!0;if(o)for(var s=o.length-1;!t.propagationStopped_&&s>=0;s--)i=t.currentTarget=o[s],r=i.fireListeners(n,!0,t)&&r;if(t.propagationStopped_||(i=t.currentTarget=e,r=i.fireListeners(n,!0,t)&&r,t.propagationStopped_||(r=i.fireListeners(n,!1,t)&&r)),o)for(s=0;!t.propagationStopped_&&s<o.length;s++)i=t.currentTarget=o[s],r=i.fireListeners(n,!1,t)&&r;return r},goog.Timer=function(e,t){goog.events.EventTarget.call(this),this.interval_=e||1,this.timerObject_=t||goog.Timer.defaultTimerObject,this.boundTick_=goog.bind(this.tick_,this),this.last_=goog.now()},goog.inherits(goog.Timer,goog.events.EventTarget),goog.Timer.MAX_TIMEOUT_=2147483647,goog.Timer.INVALID_TIMEOUT_ID_=-1,goog.Timer.prototype.enabled=!1,goog.Timer.defaultTimerObject=goog.global,goog.Timer.intervalScale=.8,goog.Timer.prototype.timer_=null,goog.Timer.prototype.getInterval=function(){return this.interval_},goog.Timer.prototype.setInterval=function(e){this.interval_=e,this.timer_&&this.enabled?(this.stop(),this.start()):this.timer_&&this.stop()},goog.Timer.prototype.tick_=function(){if(this.enabled){var e=goog.now()-this.last_;e>0&&e<this.interval_*goog.Timer.intervalScale?this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_-e):(this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null),this.dispatchTick(),this.enabled&&(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now()))}},goog.Timer.prototype.dispatchTick=function(){this.dispatchEvent(goog.Timer.TICK)},goog.Timer.prototype.start=function(){this.enabled=!0,this.timer_||(this.timer_=this.timerObject_.setTimeout(this.boundTick_,this.interval_),this.last_=goog.now())},goog.Timer.prototype.stop=function(){this.enabled=!1,this.timer_&&(this.timerObject_.clearTimeout(this.timer_),this.timer_=null)},goog.Timer.prototype.disposeInternal=function(){goog.Timer.superClass_.disposeInternal.call(this),this.stop(),delete this.timerObject_},goog.Timer.TICK="tick",goog.Timer.callOnce=function(e,t,o){if(goog.isFunction(e))o&&(e=goog.bind(e,o));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=goog.bind(e.handleEvent,e)}return Number(t)>goog.Timer.MAX_TIMEOUT_?goog.Timer.INVALID_TIMEOUT_ID_:goog.Timer.defaultTimerObject.setTimeout(e,t||0)},goog.Timer.clear=function(e){goog.Timer.defaultTimerObject.clearTimeout(e)},goog.Timer.promise=function(e,t){var o=null;return new goog.Promise(function(n,r){o=goog.Timer.callOnce(function(){n(t)},e),o==goog.Timer.INVALID_TIMEOUT_ID_&&r(Error("Failed to schedule timer."))}).thenCatch(function(e){throw goog.Timer.clear(o),e})},goog.events.EventHandler=function(e){goog.Disposable.call(this),this.handler_=e,this.keys_={}},goog.inherits(goog.events.EventHandler,goog.Disposable),goog.events.EventHandler.typeArray_=[],goog.events.EventHandler.prototype.listen=function(e,t,o,n){return this.listen_(e,t,o,n)},goog.events.EventHandler.prototype.listenWithScope=function(e,t,o,n,r){return this.listen_(e,t,o,n,r)},goog.events.EventHandler.prototype.listen_=function(e,t,o,n,r){goog.isArray(t)||(t&&(goog.events.EventHandler.typeArray_[0]=t.toString()),t=goog.events.EventHandler.typeArray_);for(var i=0;i<t.length;i++){var s=goog.events.listen(e,t[i],o||this.handleEvent,n||!1,r||this.handler_||this);if(!s)break;this.keys_[s.key]=s}return this},goog.events.EventHandler.prototype.listenOnce=function(e,t,o,n){return this.listenOnce_(e,t,o,n)},goog.events.EventHandler.prototype.listenOnceWithScope=function(e,t,o,n,r){return this.listenOnce_(e,t,o,n,r)},goog.events.EventHandler.prototype.listenOnce_=function(e,t,o,n,r){if(goog.isArray(t))for(var i=0;i<t.length;i++)this.listenOnce_(e,t[i],o,n,r);else{if(e=goog.events.listenOnce(e,t,o||this.handleEvent,n,r||this.handler_||this),!e)return this;this.keys_[e.key]=e}return this},goog.events.EventHandler.prototype.listenWithWrapper=function(e,t,o,n){return this.listenWithWrapper_(e,t,o,n)},goog.events.EventHandler.prototype.listenWithWrapperAndScope=function(e,t,o,n,r){return this.listenWithWrapper_(e,t,o,n,r)},goog.events.EventHandler.prototype.listenWithWrapper_=function(e,t,o,n,r){return t.listen(e,o,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.getListenerCount=function(){var e,t=0;for(e in this.keys_)Object.prototype.hasOwnProperty.call(this.keys_,e)&&t++;return t},goog.events.EventHandler.prototype.unlisten=function(e,t,o,n,r){if(goog.isArray(t))for(var i=0;i<t.length;i++)this.unlisten(e,t[i],o,n,r);else(e=goog.events.getListener(e,t,o||this.handleEvent,n,r||this.handler_||this))&&(goog.events.unlistenByKey(e),delete this.keys_[e.key]);return this},goog.events.EventHandler.prototype.unlistenWithWrapper=function(e,t,o,n,r){return t.unlisten(e,o,n,r||this.handler_||this,this),this},goog.events.EventHandler.prototype.removeAll=function(){goog.object.forEach(this.keys_,function(e,t){this.keys_.hasOwnProperty(t)&&goog.events.unlistenByKey(e)},this),this.keys_={}},goog.events.EventHandler.prototype.disposeInternal=function(){goog.events.EventHandler.superClass_.disposeInternal.call(this),this.removeAll()},goog.events.EventHandler.prototype.handleEvent=function(e){throw Error("EventHandler.handleEvent not implemented")},goog.ui={},goog.ui.IdGenerator=function(){},goog.addSingletonGetter(goog.ui.IdGenerator),goog.ui.IdGenerator.prototype.nextId_=0,goog.ui.IdGenerator.prototype.getNextUniqueId=function(){return":"+(this.nextId_++).toString(36)},goog.ui.Component=function(e){goog.events.EventTarget.call(this),this.dom_=e||goog.dom.getDomHelper(),this.rightToLeft_=goog.ui.Component.defaultRightToLeft_,this.id_=null,this.inDocument_=!1,this.element_=null,this.googUiComponentHandler_=void 0,this.childIndex_=this.children_=this.parent_=this.model_=null,this.wasDecorated_=!1},goog.inherits(goog.ui.Component,goog.events.EventTarget),goog.ui.Component.ALLOW_DETACHED_DECORATION=!1,goog.ui.Component.prototype.idGenerator_=goog.ui.IdGenerator.getInstance(),goog.ui.Component.DEFAULT_BIDI_DIR=0,goog.ui.Component.defaultRightToLeft_=1==goog.ui.Component.DEFAULT_BIDI_DIR?!1:-1==goog.ui.Component.DEFAULT_BIDI_DIR?!0:null,goog.ui.Component.EventType={BEFORE_SHOW:"beforeshow",SHOW:"show",HIDE:"hide",DISABLE:"disable",ENABLE:"enable",HIGHLIGHT:"highlight",UNHIGHLIGHT:"unhighlight",ACTIVATE:"activate",DEACTIVATE:"deactivate",SELECT:"select",UNSELECT:"unselect",CHECK:"check",UNCHECK:"uncheck",FOCUS:"focus",BLUR:"blur",OPEN:"open",CLOSE:"close",ENTER:"enter",LEAVE:"leave",ACTION:"action",CHANGE:"change"},goog.ui.Component.Error={NOT_SUPPORTED:"Method not supported",DECORATE_INVALID:"Invalid element to decorate",ALREADY_RENDERED:"Component already rendered",PARENT_UNABLE_TO_BE_SET:"Unable to set parent component",CHILD_INDEX_OUT_OF_BOUNDS:"Child component index out of bounds",NOT_OUR_CHILD:"Child is not in parent component",NOT_IN_DOCUMENT:"Operation not supported while component is not in document",STATE_INVALID:"Invalid component state"},goog.ui.Component.State={ALL:255,DISABLED:1,HOVER:2,ACTIVE:4,SELECTED:8,CHECKED:16,FOCUSED:32,OPENED:64},goog.ui.Component.getStateTransitionEvent=function(e,t){switch(e){case goog.ui.Component.State.DISABLED:return t?goog.ui.Component.EventType.DISABLE:goog.ui.Component.EventType.ENABLE;case goog.ui.Component.State.HOVER:return t?goog.ui.Component.EventType.HIGHLIGHT:goog.ui.Component.EventType.UNHIGHLIGHT;case goog.ui.Component.State.ACTIVE:return t?goog.ui.Component.EventType.ACTIVATE:goog.ui.Component.EventType.DEACTIVATE;case goog.ui.Component.State.SELECTED:return t?goog.ui.Component.EventType.SELECT:goog.ui.Component.EventType.UNSELECT;case goog.ui.Component.State.CHECKED:return t?goog.ui.Component.EventType.CHECK:goog.ui.Component.EventType.UNCHECK;case goog.ui.Component.State.FOCUSED:return t?goog.ui.Component.EventType.FOCUS:goog.ui.Component.EventType.BLUR;case goog.ui.Component.State.OPENED:return t?goog.ui.Component.EventType.OPEN:goog.ui.Component.EventType.CLOSE}throw Error(goog.ui.Component.Error.STATE_INVALID)},goog.ui.Component.setDefaultRightToLeft=function(e){goog.ui.Component.defaultRightToLeft_=e},goog.ui.Component.prototype.getId=function(){return this.id_||(this.id_=this.idGenerator_.getNextUniqueId())},goog.ui.Component.prototype.setId=function(e){this.parent_&&this.parent_.childIndex_&&(goog.object.remove(this.parent_.childIndex_,this.id_),goog.object.add(this.parent_.childIndex_,e,this)),this.id_=e},goog.ui.Component.prototype.getElement=function(){return this.element_},goog.ui.Component.prototype.getElementStrict=function(){var e=this.element_;return goog.asserts.assert(e,"Can not call getElementStrict before rendering/decorating."),e},goog.ui.Component.prototype.setElementInternal=function(e){this.element_=e},goog.ui.Component.prototype.getElementsByClass=function(e){return this.element_?this.dom_.getElementsByClass(e,this.element_):[]},goog.ui.Component.prototype.getElementByClass=function(e){return this.element_?this.dom_.getElementByClass(e,this.element_):null},goog.ui.Component.prototype.getRequiredElementByClass=function(e){var t=this.getElementByClass(e);return goog.asserts.assert(t,"Expected element in component with class: %s",e),t},goog.ui.Component.prototype.getHandler=function(){return this.googUiComponentHandler_||(this.googUiComponentHandler_=new goog.events.EventHandler(this)),this.googUiComponentHandler_},goog.ui.Component.prototype.setParent=function(e){if(this==e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);if(e&&this.parent_&&this.id_&&this.parent_.getChild(this.id_)&&this.parent_!=e)throw Error(goog.ui.Component.Error.PARENT_UNABLE_TO_BE_SET);this.parent_=e,goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getParent=function(){return this.parent_},goog.ui.Component.prototype.setParentEventTarget=function(e){if(this.parent_&&this.parent_!=e)throw Error(goog.ui.Component.Error.NOT_SUPPORTED);goog.ui.Component.superClass_.setParentEventTarget.call(this,e)},goog.ui.Component.prototype.getDomHelper=function(){return this.dom_},goog.ui.Component.prototype.isInDocument=function(){return this.inDocument_},goog.ui.Component.prototype.createDom=function(){this.element_=this.dom_.createElement(goog.dom.TagName.DIV)},goog.ui.Component.prototype.render=function(e){this.render_(e)},goog.ui.Component.prototype.renderBefore=function(e){this.render_(e.parentNode,e)},goog.ui.Component.prototype.render_=function(e,t){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.element_||this.createDom(),e?e.insertBefore(this.element_,t||null):this.dom_.getDocument().body.appendChild(this.element_),this.parent_&&!this.parent_.isInDocument()||this.enterDocument()},goog.ui.Component.prototype.decorate=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(!e||!this.canDecorate(e))throw Error(goog.ui.Component.Error.DECORATE_INVALID);this.wasDecorated_=!0;var t=goog.dom.getOwnerDocument(e);this.dom_&&this.dom_.getDocument()==t||(this.dom_=goog.dom.getDomHelper(e)),this.decorateInternal(e),goog.ui.Component.ALLOW_DETACHED_DECORATION&&!goog.dom.contains(t,e)||this.enterDocument()},goog.ui.Component.prototype.canDecorate=function(e){return!0},goog.ui.Component.prototype.wasDecorated=function(){return this.wasDecorated_},goog.ui.Component.prototype.decorateInternal=function(e){this.element_=e},goog.ui.Component.prototype.enterDocument=function(){this.inDocument_=!0,this.forEachChild(function(e){!e.isInDocument()&&e.getElement()&&e.enterDocument()})},goog.ui.Component.prototype.exitDocument=function(){this.forEachChild(function(e){e.isInDocument()&&e.exitDocument()}),this.googUiComponentHandler_&&this.googUiComponentHandler_.removeAll(),this.inDocument_=!1},goog.ui.Component.prototype.disposeInternal=function(){this.inDocument_&&this.exitDocument(),this.googUiComponentHandler_&&(this.googUiComponentHandler_.dispose(),delete this.googUiComponentHandler_),this.forEachChild(function(e){e.dispose()}),!this.wasDecorated_&&this.element_&&goog.dom.removeNode(this.element_),this.parent_=this.model_=this.element_=this.childIndex_=this.children_=null,goog.ui.Component.superClass_.disposeInternal.call(this)},goog.ui.Component.prototype.makeId=function(e){return this.getId()+"."+e},goog.ui.Component.prototype.makeIds=function(e){var t,o={};for(t in e)o[t]=this.makeId(e[t]);return o},goog.ui.Component.prototype.getModel=function(){return this.model_},goog.ui.Component.prototype.setModel=function(e){this.model_=e},goog.ui.Component.prototype.getFragmentFromId=function(e){return e.substring(this.getId().length+1)},goog.ui.Component.prototype.getElementByFragment=function(e){if(!this.inDocument_)throw Error(goog.ui.Component.Error.NOT_IN_DOCUMENT);return this.dom_.getElement(this.makeId(e))},goog.ui.Component.prototype.addChild=function(e,t){this.addChildAt(e,this.getChildCount(),t)},goog.ui.Component.prototype.addChildAt=function(e,t,o){if(goog.asserts.assert(!!e,"Provided element must not be null."),e.inDocument_&&(o||!this.inDocument_))throw Error(goog.ui.Component.Error.ALREADY_RENDERED);if(0>t||t>this.getChildCount())throw Error(goog.ui.Component.Error.CHILD_INDEX_OUT_OF_BOUNDS);this.childIndex_&&this.children_||(this.childIndex_={},this.children_=[]),e.getParent()==this?(goog.object.set(this.childIndex_,e.getId(),e),goog.array.remove(this.children_,e)):goog.object.add(this.childIndex_,e.getId(),e),e.setParent(this),goog.array.insertAt(this.children_,e,t),e.inDocument_&&this.inDocument_&&e.getParent()==this?(o=this.getContentElement(),t=o.childNodes[t]||null,t!=e.getElement()&&o.insertBefore(e.getElement(),t)):o?(this.element_||this.createDom(),t=this.getChildAt(t+1),e.render_(this.getContentElement(),t?t.element_:null)):this.inDocument_&&!e.inDocument_&&e.element_&&e.element_.parentNode&&e.element_.parentNode.nodeType==goog.dom.NodeType.ELEMENT&&e.enterDocument()},goog.ui.Component.prototype.getContentElement=function(){return this.element_},goog.ui.Component.prototype.isRightToLeft=function(){return null==this.rightToLeft_&&(this.rightToLeft_=goog.style.isRightToLeft(this.inDocument_?this.element_:this.dom_.getDocument().body)),this.rightToLeft_},goog.ui.Component.prototype.setRightToLeft=function(e){if(this.inDocument_)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.rightToLeft_=e},goog.ui.Component.prototype.hasChildren=function(){return!!this.children_&&0!=this.children_.length},goog.ui.Component.prototype.getChildCount=function(){return this.children_?this.children_.length:0},goog.ui.Component.prototype.getChildIds=function(){var e=[];return this.forEachChild(function(t){e.push(t.getId())}),e},goog.ui.Component.prototype.getChild=function(e){return this.childIndex_&&e?goog.object.get(this.childIndex_,e)||null:null},goog.ui.Component.prototype.getChildAt=function(e){return this.children_?this.children_[e]||null:null},goog.ui.Component.prototype.forEachChild=function(e,t){this.children_&&goog.array.forEach(this.children_,e,t)},goog.ui.Component.prototype.indexOfChild=function(e){return this.children_&&e?goog.array.indexOf(this.children_,e):-1},goog.ui.Component.prototype.removeChild=function(e,t){if(e){var o=goog.isString(e)?e:e.getId();e=this.getChild(o),o&&e&&(goog.object.remove(this.childIndex_,o),goog.array.remove(this.children_,e),t&&(e.exitDocument(),e.element_&&goog.dom.removeNode(e.element_)),e.setParent(null))}if(!e)throw Error(goog.ui.Component.Error.NOT_OUR_CHILD);return e},goog.ui.Component.prototype.removeChildAt=function(e,t){return this.removeChild(this.getChildAt(e),t)},goog.ui.Component.prototype.removeChildren=function(e){for(var t=[];this.hasChildren();)t.push(this.removeChildAt(0,e));return t},goog.a11y={},goog.a11y.aria={},goog.a11y.aria.Role={ALERT:"alert",ALERTDIALOG:"alertdialog",APPLICATION:"application",ARTICLE:"article",BANNER:"banner",BUTTON:"button",CHECKBOX:"checkbox",COLUMNHEADER:"columnheader",COMBOBOX:"combobox",COMPLEMENTARY:"complementary",CONTENTINFO:"contentinfo",DEFINITION:"definition",DIALOG:"dialog",DIRECTORY:"directory",DOCUMENT:"document",FORM:"form",GRID:"grid",GRIDCELL:"gridcell",GROUP:"group",HEADING:"heading",IMG:"img",LINK:"link",LIST:"list",LISTBOX:"listbox",LISTITEM:"listitem",LOG:"log",MAIN:"main",MARQUEE:"marquee",MATH:"math",MENU:"menu",MENUBAR:"menubar",MENU_ITEM:"menuitem",MENU_ITEM_CHECKBOX:"menuitemcheckbox",MENU_ITEM_RADIO:"menuitemradio",NAVIGATION:"navigation",NOTE:"note",OPTION:"option",PRESENTATION:"presentation",PROGRESSBAR:"progressbar",RADIO:"radio",RADIOGROUP:"radiogroup",REGION:"region",ROW:"row",ROWGROUP:"rowgroup",ROWHEADER:"rowheader",SCROLLBAR:"scrollbar",SEARCH:"search",SEPARATOR:"separator",SLIDER:"slider",SPINBUTTON:"spinbutton",STATUS:"status",TAB:"tab",TAB_LIST:"tablist",TAB_PANEL:"tabpanel",TEXTBOX:"textbox",TEXTINFO:"textinfo",TIMER:"timer",TOOLBAR:"toolbar",TOOLTIP:"tooltip",TREE:"tree",TREEGRID:"treegrid",TREEITEM:"treeitem"},goog.a11y.aria.State={ACTIVEDESCENDANT:"activedescendant",ATOMIC:"atomic",AUTOCOMPLETE:"autocomplete",BUSY:"busy",CHECKED:"checked",CONTROLS:"controls",DESCRIBEDBY:"describedby",DISABLED:"disabled",DROPEFFECT:"dropeffect",EXPANDED:"expanded",FLOWTO:"flowto",GRABBED:"grabbed",HASPOPUP:"haspopup",HIDDEN:"hidden",INVALID:"invalid",LABEL:"label",LABELLEDBY:"labelledby",LEVEL:"level",LIVE:"live",MULTILINE:"multiline",MULTISELECTABLE:"multiselectable",ORIENTATION:"orientation",OWNS:"owns",POSINSET:"posinset",PRESSED:"pressed",READONLY:"readonly",RELEVANT:"relevant",REQUIRED:"required",SELECTED:"selected",SETSIZE:"setsize",SORT:"sort",VALUEMAX:"valuemax",VALUEMIN:"valuemin",VALUENOW:"valuenow",VALUETEXT:"valuetext"},goog.a11y.aria.AutoCompleteValues={INLINE:"inline",LIST:"list",BOTH:"both",NONE:"none"},goog.a11y.aria.DropEffectValues={COPY:"copy",MOVE:"move",LINK:"link",EXECUTE:"execute",POPUP:"popup",NONE:"none"},goog.a11y.aria.LivePriority={OFF:"off",POLITE:"polite",ASSERTIVE:"assertive"},goog.a11y.aria.OrientationValues={VERTICAL:"vertical",HORIZONTAL:"horizontal"},goog.a11y.aria.RelevantValues={ADDITIONS:"additions",REMOVALS:"removals",TEXT:"text",ALL:"all"},goog.a11y.aria.SortValues={ASCENDING:"ascending",DESCENDING:"descending",NONE:"none",OTHER:"other"},goog.a11y.aria.CheckedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.ExpandedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.GrabbedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.InvalidValues={FALSE:"false",TRUE:"true",GRAMMAR:"grammar",SPELLING:"spelling"},goog.a11y.aria.PressedValues={TRUE:"true",FALSE:"false",MIXED:"mixed",UNDEFINED:"undefined"},goog.a11y.aria.SelectedValues={TRUE:"true",FALSE:"false",UNDEFINED:"undefined"},goog.a11y.aria.datatables={},goog.a11y.aria.datatables.getDefaultValuesMap=function(){return goog.a11y.aria.DefaultStateValueMap_||(goog.a11y.aria.DefaultStateValueMap_=goog.object.create(goog.a11y.aria.State.ATOMIC,!1,goog.a11y.aria.State.AUTOCOMPLETE,"none",goog.a11y.aria.State.DROPEFFECT,"none",goog.a11y.aria.State.HASPOPUP,!1,goog.a11y.aria.State.LIVE,"off",goog.a11y.aria.State.MULTILINE,!1,goog.a11y.aria.State.MULTISELECTABLE,!1,goog.a11y.aria.State.ORIENTATION,"vertical",goog.a11y.aria.State.READONLY,!1,goog.a11y.aria.State.RELEVANT,"additions text",goog.a11y.aria.State.REQUIRED,!1,goog.a11y.aria.State.SORT,"none",goog.a11y.aria.State.BUSY,!1,goog.a11y.aria.State.DISABLED,!1,goog.a11y.aria.State.HIDDEN,!1,goog.a11y.aria.State.INVALID,"false")),goog.a11y.aria.DefaultStateValueMap_},goog.a11y.aria.ARIA_PREFIX_="aria-",goog.a11y.aria.ROLE_ATTRIBUTE_="role",goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_=[goog.dom.TagName.A,goog.dom.TagName.AREA,goog.dom.TagName.BUTTON,goog.dom.TagName.HEAD,goog.dom.TagName.INPUT,goog.dom.TagName.LINK,goog.dom.TagName.MENU,goog.dom.TagName.META,goog.dom.TagName.OPTGROUP,goog.dom.TagName.OPTION,goog.dom.TagName.PROGRESS,goog.dom.TagName.STYLE,goog.dom.TagName.SELECT,goog.dom.TagName.SOURCE,goog.dom.TagName.TEXTAREA,goog.dom.TagName.TITLE,goog.dom.TagName.TRACK],goog.a11y.aria.CONTAINER_ROLES_=[goog.a11y.aria.Role.COMBOBOX,goog.a11y.aria.Role.GRID,goog.a11y.aria.Role.GROUP,goog.a11y.aria.Role.LISTBOX,goog.a11y.aria.Role.MENU,goog.a11y.aria.Role.MENUBAR,goog.a11y.aria.Role.RADIOGROUP,goog.a11y.aria.Role.ROW,goog.a11y.aria.Role.ROWGROUP,goog.a11y.aria.Role.TAB_LIST,goog.a11y.aria.Role.TEXTBOX,goog.a11y.aria.Role.TOOLBAR,goog.a11y.aria.Role.TREE,goog.a11y.aria.Role.TREEGRID],goog.a11y.aria.setRole=function(e,t){t?(goog.asserts.ENABLE_ASSERTS&&goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.Role,t),"No such ARIA role "+t),e.setAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_,t)):goog.a11y.aria.removeRole(e)},goog.a11y.aria.getRole=function(e){return e.getAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)||null},goog.a11y.aria.removeRole=function(e){e.removeAttribute(goog.a11y.aria.ROLE_ATTRIBUTE_)},goog.a11y.aria.setState=function(e,t,o){goog.isArray(o)&&(o=o.join(" "));var n=goog.a11y.aria.getAriaAttributeName_(t);""===o||void 0==o?(o=goog.a11y.aria.datatables.getDefaultValuesMap(),t in o?e.setAttribute(n,o[t]):e.removeAttribute(n)):e.setAttribute(n,o)},goog.a11y.aria.toggleState=function(e,t){var o=goog.a11y.aria.getState(e,t);goog.string.isEmptyOrWhitespace(goog.string.makeSafe(o))||"true"==o||"false"==o?goog.a11y.aria.setState(e,t,"true"==o?"false":"true"):goog.a11y.aria.removeState(e,t)},goog.a11y.aria.removeState=function(e,t){e.removeAttribute(goog.a11y.aria.getAriaAttributeName_(t))},goog.a11y.aria.getState=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return null==o||void 0==o?"":String(o)},goog.a11y.aria.getActiveDescendant=function(e){var t=goog.a11y.aria.getState(e,goog.a11y.aria.State.ACTIVEDESCENDANT);return goog.dom.getOwnerDocument(e).getElementById(t)},goog.a11y.aria.setActiveDescendant=function(e,t){var o="";t&&(o=t.id,goog.asserts.assert(o,"The active element should have an id.")),goog.a11y.aria.setState(e,goog.a11y.aria.State.ACTIVEDESCENDANT,o)},goog.a11y.aria.getLabel=function(e){return goog.a11y.aria.getState(e,goog.a11y.aria.State.LABEL)},goog.a11y.aria.setLabel=function(e,t){goog.a11y.aria.setState(e,goog.a11y.aria.State.LABEL,t)},goog.a11y.aria.assertRoleIsSetInternalUtil=function(e,t){if(!goog.array.contains(goog.a11y.aria.TAGS_WITH_ASSUMED_ROLES_,e.tagName)){var o=goog.a11y.aria.getRole(e);goog.asserts.assert(null!=o,"The element ARIA role cannot be null."),goog.asserts.assert(goog.array.contains(t,o),'Non existing or incorrect role set for element.The role set is "'+o+'". The role should be any of "'+t+'". Check the ARIA specification for more details http://www.w3.org/TR/wai-aria/roles.')}},goog.a11y.aria.getStateBoolean=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return goog.asserts.assert(goog.isBoolean(o)||null==o||"true"==o||"false"==o),null==o?o:goog.isBoolean(o)?o:"true"==o},goog.a11y.aria.getStateNumber=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return goog.asserts.assert(!(null!=o&&isNaN(Number(o))||goog.isBoolean(o))),null==o?null:Number(o)},goog.a11y.aria.getStateString=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return goog.asserts.assert((null==o||goog.isString(o))&&(""==o||isNaN(Number(o)))&&"true"!=o&&"false"!=o),null==o||""==o?null:o},goog.a11y.aria.getStringArrayStateInternalUtil=function(e,t){var o=e.getAttribute(goog.a11y.aria.getAriaAttributeName_(t));return goog.a11y.aria.splitStringOnWhitespace_(o)},goog.a11y.aria.hasState=function(e,t){return e.hasAttribute(goog.a11y.aria.getAriaAttributeName_(t))},goog.a11y.aria.isContainerRole=function(e){return e=goog.a11y.aria.getRole(e),goog.array.contains(goog.a11y.aria.CONTAINER_ROLES_,e)},goog.a11y.aria.splitStringOnWhitespace_=function(e){return e?e.split(/\s+/):[]},goog.a11y.aria.getAriaAttributeName_=function(e){return goog.asserts.ENABLE_ASSERTS&&(goog.asserts.assert(e,"ARIA attribute cannot be empty."),goog.asserts.assert(goog.object.containsValue(goog.a11y.aria.State,e),"No such ARIA attribute "+e)),goog.a11y.aria.ARIA_PREFIX_+e},goog.events.KeyCodes={WIN_KEY_FF_LINUX:0,MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PLUS_SIGN:43,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,FF_SEMICOLON:59,FF_EQUALS:61,FF_DASH:173,QUESTION_MARK:63,AT_SIGN:64,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SCROLL_LOCK:145,FIRST_MEDIA_KEY:166,LAST_MEDIA_KEY:183,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,TILDE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,MAC_WK_CMD_LEFT:91,MAC_WK_CMD_RIGHT:93,WIN_IME:229,VK_NONAME:252,PHANTOM:255},goog.events.KeyCodes.isTextModifyingKeyEvent=function(e){if(e.altKey&&!e.ctrlKey||e.metaKey||e.keyCode>=goog.events.KeyCodes.F1&&e.keyCode<=goog.events.KeyCodes.F12)return!1;switch(e.keyCode){case goog.events.KeyCodes.ALT:case goog.events.KeyCodes.CAPS_LOCK:case goog.events.KeyCodes.CONTEXT_MENU:case goog.events.KeyCodes.CTRL:case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.END:case goog.events.KeyCodes.ESC:case goog.events.KeyCodes.HOME:case goog.events.KeyCodes.INSERT:case goog.events.KeyCodes.LEFT:case goog.events.KeyCodes.MAC_FF_META:case goog.events.KeyCodes.META:case goog.events.KeyCodes.NUMLOCK:case goog.events.KeyCodes.NUM_CENTER:case goog.events.KeyCodes.PAGE_DOWN:case goog.events.KeyCodes.PAGE_UP:case goog.events.KeyCodes.PAUSE:case goog.events.KeyCodes.PHANTOM:case goog.events.KeyCodes.PRINT_SCREEN:case goog.events.KeyCodes.RIGHT:case goog.events.KeyCodes.SCROLL_LOCK:case goog.events.KeyCodes.SHIFT:case goog.events.KeyCodes.UP:case goog.events.KeyCodes.VK_NONAME:case goog.events.KeyCodes.WIN_KEY:case goog.events.KeyCodes.WIN_KEY_RIGHT:return!1;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return!goog.userAgent.GECKO;default:return e.keyCode<goog.events.KeyCodes.FIRST_MEDIA_KEY||e.keyCode>goog.events.KeyCodes.LAST_MEDIA_KEY}},goog.events.KeyCodes.firesKeyPressEvent=function(e,t,o,n,r){if(!(goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525")))return!0;if(goog.userAgent.MAC&&r)return goog.events.KeyCodes.isCharacterKey(e);if(r&&!n)return!1;if(goog.isNumber(t)&&(t=goog.events.KeyCodes.normalizeKeyCode(t)),!o&&(t==goog.events.KeyCodes.CTRL||t==goog.events.KeyCodes.ALT||goog.userAgent.MAC&&t==goog.events.KeyCodes.META))return!1;if((goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&n&&o)switch(e){case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:case goog.events.KeyCodes.TILDE:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:return!1}if(goog.userAgent.IE&&n&&t==e)return!1;switch(e){case goog.events.KeyCodes.ENTER:return!0;case goog.events.KeyCodes.ESC:return!(goog.userAgent.WEBKIT||goog.userAgent.EDGE)}return goog.events.KeyCodes.isCharacterKey(e)},goog.events.KeyCodes.isCharacterKey=function(e){if(e>=goog.events.KeyCodes.ZERO&&e<=goog.events.KeyCodes.NINE||e>=goog.events.KeyCodes.NUM_ZERO&&e<=goog.events.KeyCodes.NUM_MULTIPLY||e>=goog.events.KeyCodes.A&&e<=goog.events.KeyCodes.Z||(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&0==e)return!0;switch(e){case goog.events.KeyCodes.SPACE:case goog.events.KeyCodes.PLUS_SIGN:case goog.events.KeyCodes.QUESTION_MARK:case goog.events.KeyCodes.AT_SIGN:case goog.events.KeyCodes.NUM_PLUS:case goog.events.KeyCodes.NUM_MINUS:case goog.events.KeyCodes.NUM_PERIOD:case goog.events.KeyCodes.NUM_DIVISION:case goog.events.KeyCodes.SEMICOLON:case goog.events.KeyCodes.FF_SEMICOLON:case goog.events.KeyCodes.DASH:case goog.events.KeyCodes.EQUALS:case goog.events.KeyCodes.FF_EQUALS:case goog.events.KeyCodes.COMMA:case goog.events.KeyCodes.PERIOD:case goog.events.KeyCodes.SLASH:case goog.events.KeyCodes.APOSTROPHE:case goog.events.KeyCodes.SINGLE_QUOTE:case goog.events.KeyCodes.OPEN_SQUARE_BRACKET:case goog.events.KeyCodes.BACKSLASH:case goog.events.KeyCodes.CLOSE_SQUARE_BRACKET:return!0;default:return!1}},goog.events.KeyCodes.normalizeKeyCode=function(e){return goog.userAgent.GECKO?goog.events.KeyCodes.normalizeGeckoKeyCode(e):goog.userAgent.MAC&&goog.userAgent.WEBKIT?goog.events.KeyCodes.normalizeMacWebKitKeyCode(e):e},goog.events.KeyCodes.normalizeGeckoKeyCode=function(e){switch(e){case goog.events.KeyCodes.FF_EQUALS:return goog.events.KeyCodes.EQUALS;case goog.events.KeyCodes.FF_SEMICOLON:return goog.events.KeyCodes.SEMICOLON;case goog.events.KeyCodes.FF_DASH:return goog.events.KeyCodes.DASH;case goog.events.KeyCodes.MAC_FF_META:return goog.events.KeyCodes.META;case goog.events.KeyCodes.WIN_KEY_FF_LINUX:return goog.events.KeyCodes.WIN_KEY;default:return e}},goog.events.KeyCodes.normalizeMacWebKitKeyCode=function(e){switch(e){case goog.events.KeyCodes.MAC_WK_CMD_RIGHT:return goog.events.KeyCodes.META;default:return e}},goog.events.KeyHandler=function(e,t){goog.events.EventTarget.call(this),e&&this.attach(e,t)},goog.inherits(goog.events.KeyHandler,goog.events.EventTarget),goog.events.KeyHandler.prototype.element_=null,goog.events.KeyHandler.prototype.keyPressKey_=null,
goog.events.KeyHandler.prototype.keyDownKey_=null,goog.events.KeyHandler.prototype.keyUpKey_=null,goog.events.KeyHandler.prototype.lastKey_=-1,goog.events.KeyHandler.prototype.keyCode_=-1,goog.events.KeyHandler.prototype.altKey_=!1,goog.events.KeyHandler.EventType={KEY:"key"},goog.events.KeyHandler.safariKey_={3:goog.events.KeyCodes.ENTER,12:goog.events.KeyCodes.NUMLOCK,63232:goog.events.KeyCodes.UP,63233:goog.events.KeyCodes.DOWN,63234:goog.events.KeyCodes.LEFT,63235:goog.events.KeyCodes.RIGHT,63236:goog.events.KeyCodes.F1,63237:goog.events.KeyCodes.F2,63238:goog.events.KeyCodes.F3,63239:goog.events.KeyCodes.F4,63240:goog.events.KeyCodes.F5,63241:goog.events.KeyCodes.F6,63242:goog.events.KeyCodes.F7,63243:goog.events.KeyCodes.F8,63244:goog.events.KeyCodes.F9,63245:goog.events.KeyCodes.F10,63246:goog.events.KeyCodes.F11,63247:goog.events.KeyCodes.F12,63248:goog.events.KeyCodes.PRINT_SCREEN,63272:goog.events.KeyCodes.DELETE,63273:goog.events.KeyCodes.HOME,63275:goog.events.KeyCodes.END,63276:goog.events.KeyCodes.PAGE_UP,63277:goog.events.KeyCodes.PAGE_DOWN,63289:goog.events.KeyCodes.NUMLOCK,63302:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.keyIdentifier_={Up:goog.events.KeyCodes.UP,Down:goog.events.KeyCodes.DOWN,Left:goog.events.KeyCodes.LEFT,Right:goog.events.KeyCodes.RIGHT,Enter:goog.events.KeyCodes.ENTER,F1:goog.events.KeyCodes.F1,F2:goog.events.KeyCodes.F2,F3:goog.events.KeyCodes.F3,F4:goog.events.KeyCodes.F4,F5:goog.events.KeyCodes.F5,F6:goog.events.KeyCodes.F6,F7:goog.events.KeyCodes.F7,F8:goog.events.KeyCodes.F8,F9:goog.events.KeyCodes.F9,F10:goog.events.KeyCodes.F10,F11:goog.events.KeyCodes.F11,F12:goog.events.KeyCodes.F12,"U+007F":goog.events.KeyCodes.DELETE,Home:goog.events.KeyCodes.HOME,End:goog.events.KeyCodes.END,PageUp:goog.events.KeyCodes.PAGE_UP,PageDown:goog.events.KeyCodes.PAGE_DOWN,Insert:goog.events.KeyCodes.INSERT},goog.events.KeyHandler.USES_KEYDOWN_=goog.userAgent.IE||goog.userAgent.EDGE||goog.userAgent.WEBKIT&&goog.userAgent.isVersionOrHigher("525"),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_=goog.userAgent.MAC&&goog.userAgent.GECKO,goog.events.KeyHandler.prototype.handleKeyDown_=function(e){(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&(this.lastKey_==goog.events.KeyCodes.CTRL&&!e.ctrlKey||this.lastKey_==goog.events.KeyCodes.ALT&&!e.altKey||goog.userAgent.MAC&&this.lastKey_==goog.events.KeyCodes.META&&!e.metaKey)&&this.resetState(),-1==this.lastKey_&&(e.ctrlKey&&e.keyCode!=goog.events.KeyCodes.CTRL?this.lastKey_=goog.events.KeyCodes.CTRL:e.altKey&&e.keyCode!=goog.events.KeyCodes.ALT?this.lastKey_=goog.events.KeyCodes.ALT:e.metaKey&&e.keyCode!=goog.events.KeyCodes.META&&(this.lastKey_=goog.events.KeyCodes.META)),goog.events.KeyHandler.USES_KEYDOWN_&&!goog.events.KeyCodes.firesKeyPressEvent(e.keyCode,this.lastKey_,e.shiftKey,e.ctrlKey,e.altKey)?this.handleEvent(e):(this.keyCode_=goog.events.KeyCodes.normalizeKeyCode(e.keyCode),goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(this.altKey_=e.altKey))},goog.events.KeyHandler.prototype.resetState=function(){this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.handleKeyup_=function(e){this.resetState(),this.altKey_=e.altKey},goog.events.KeyHandler.prototype.handleEvent=function(e){var t,o,n=e.getBrowserEvent(),r=n.altKey;goog.userAgent.IE&&e.type==goog.events.EventType.KEYPRESS?(t=this.keyCode_,o=t!=goog.events.KeyCodes.ENTER&&t!=goog.events.KeyCodes.ESC?n.keyCode:0):(goog.userAgent.WEBKIT||goog.userAgent.EDGE)&&e.type==goog.events.EventType.KEYPRESS?(t=this.keyCode_,o=0<=n.charCode&&63232>n.charCode&&goog.events.KeyCodes.isCharacterKey(t)?n.charCode:0):goog.userAgent.OPERA&&!goog.userAgent.WEBKIT?(t=this.keyCode_,o=goog.events.KeyCodes.isCharacterKey(t)?n.keyCode:0):(t=n.keyCode||this.keyCode_,o=n.charCode||0,goog.events.KeyHandler.SAVE_ALT_FOR_KEYPRESS_&&(r=this.altKey_),goog.userAgent.MAC&&o==goog.events.KeyCodes.QUESTION_MARK&&t==goog.events.KeyCodes.WIN_KEY&&(t=goog.events.KeyCodes.SLASH));var i=t=goog.events.KeyCodes.normalizeKeyCode(t),s=n.keyIdentifier;t?t>=63232&&t in goog.events.KeyHandler.safariKey_?i=goog.events.KeyHandler.safariKey_[t]:25==t&&e.shiftKey&&(i=9):s&&s in goog.events.KeyHandler.keyIdentifier_&&(i=goog.events.KeyHandler.keyIdentifier_[s]),e=i==this.lastKey_,this.lastKey_=i,n=new goog.events.KeyEvent(i,o,e,n),n.altKey=r,this.dispatchEvent(n)},goog.events.KeyHandler.prototype.getElement=function(){return this.element_},goog.events.KeyHandler.prototype.attach=function(e,t){this.keyUpKey_&&this.detach(),this.element_=e,this.keyPressKey_=goog.events.listen(this.element_,goog.events.EventType.KEYPRESS,this,t),this.keyDownKey_=goog.events.listen(this.element_,goog.events.EventType.KEYDOWN,this.handleKeyDown_,t,this),this.keyUpKey_=goog.events.listen(this.element_,goog.events.EventType.KEYUP,this.handleKeyup_,t,this)},goog.events.KeyHandler.prototype.detach=function(){this.keyPressKey_&&(goog.events.unlistenByKey(this.keyPressKey_),goog.events.unlistenByKey(this.keyDownKey_),goog.events.unlistenByKey(this.keyUpKey_),this.keyUpKey_=this.keyDownKey_=this.keyPressKey_=null),this.element_=null,this.keyCode_=this.lastKey_=-1},goog.events.KeyHandler.prototype.disposeInternal=function(){goog.events.KeyHandler.superClass_.disposeInternal.call(this),this.detach()},goog.events.KeyEvent=function(e,t,o,n){goog.events.BrowserEvent.call(this,n),this.type=goog.events.KeyHandler.EventType.KEY,this.keyCode=e,this.charCode=t,this.repeat=o},goog.inherits(goog.events.KeyEvent,goog.events.BrowserEvent),goog.dom.classlist={},goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST=!1,goog.dom.classlist.get=function(e){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList:(e=e.className,goog.isString(e)&&e.match(/\S+/g)||[])},goog.dom.classlist.set=function(e,t){e.className=t},goog.dom.classlist.contains=function(e,t){return goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.contains(t):goog.array.contains(goog.dom.classlist.get(e),t)},goog.dom.classlist.add=function(e,t){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.add(t):goog.dom.classlist.contains(e,t)||(e.className+=0<e.className.length?" "+t:t)},goog.dom.classlist.addAll=function(e,t){if(goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList)goog.array.forEach(t,function(t){goog.dom.classlist.add(e,t)});else{var o={};goog.array.forEach(goog.dom.classlist.get(e),function(e){o[e]=!0}),goog.array.forEach(t,function(e){o[e]=!0}),e.className="";for(var n in o)e.className+=0<e.className.length?" "+n:n}},goog.dom.classlist.remove=function(e,t){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?e.classList.remove(t):goog.dom.classlist.contains(e,t)&&(e.className=goog.array.filter(goog.dom.classlist.get(e),function(e){return e!=t}).join(" "))},goog.dom.classlist.removeAll=function(e,t){goog.dom.classlist.ALWAYS_USE_DOM_TOKEN_LIST||e.classList?goog.array.forEach(t,function(t){goog.dom.classlist.remove(e,t)}):e.className=goog.array.filter(goog.dom.classlist.get(e),function(e){return!goog.array.contains(t,e)}).join(" ")},goog.dom.classlist.enable=function(e,t,o){o?goog.dom.classlist.add(e,t):goog.dom.classlist.remove(e,t)},goog.dom.classlist.enableAll=function(e,t,o){(o?goog.dom.classlist.addAll:goog.dom.classlist.removeAll)(e,t)},goog.dom.classlist.swap=function(e,t,o){return goog.dom.classlist.contains(e,t)?(goog.dom.classlist.remove(e,t),goog.dom.classlist.add(e,o),!0):!1},goog.dom.classlist.toggle=function(e,t){var o=!goog.dom.classlist.contains(e,t);return goog.dom.classlist.enable(e,t,o),o},goog.dom.classlist.addRemove=function(e,t,o){goog.dom.classlist.remove(e,t),goog.dom.classlist.add(e,o)},goog.ui.registry={},goog.ui.registry.getDefaultRenderer=function(e){for(var t;e&&(t=goog.getUid(e),!(t=goog.ui.registry.defaultRenderers_[t]));)e=e.superClass_?e.superClass_.constructor:null;return t?goog.isFunction(t.getInstance)?t.getInstance():new t:null},goog.ui.registry.setDefaultRenderer=function(e,t){if(!goog.isFunction(e))throw Error("Invalid component class "+e);if(!goog.isFunction(t))throw Error("Invalid renderer class "+t);var o=goog.getUid(e);goog.ui.registry.defaultRenderers_[o]=t},goog.ui.registry.getDecoratorByClassName=function(e){return e in goog.ui.registry.decoratorFunctions_?goog.ui.registry.decoratorFunctions_[e]():null},goog.ui.registry.setDecoratorByClassName=function(e,t){if(!e)throw Error("Invalid class name "+e);if(!goog.isFunction(t))throw Error("Invalid decorator function "+t);goog.ui.registry.decoratorFunctions_[e]=t},goog.ui.registry.getDecorator=function(e){goog.asserts.assert(e);for(var t=goog.dom.classlist.get(e),o=0,n=t.length;n>o;o++)if(e=goog.ui.registry.getDecoratorByClassName(t[o]))return e;return null},goog.ui.registry.reset=function(){goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={}},goog.ui.registry.defaultRenderers_={},goog.ui.registry.decoratorFunctions_={},goog.ui.ContainerRenderer=function(e){this.ariaRole_=e},goog.addSingletonGetter(goog.ui.ContainerRenderer),goog.ui.ContainerRenderer.getCustomRenderer=function(e,t){var o=new e;return o.getCssClass=function(){return t},o},goog.ui.ContainerRenderer.CSS_CLASS="goog-container",goog.ui.ContainerRenderer.prototype.getAriaRole=function(){return this.ariaRole_},goog.ui.ContainerRenderer.prototype.enableTabIndex=function(e,t){e&&(e.tabIndex=t?0:-1)},goog.ui.ContainerRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom(goog.dom.TagName.DIV,this.getClassNames(e).join(" "))},goog.ui.ContainerRenderer.prototype.getContentElement=function(e){return e},goog.ui.ContainerRenderer.prototype.canDecorate=function(e){return"DIV"==e.tagName},goog.ui.ContainerRenderer.prototype.decorate=function(e,t){t.id&&e.setId(t.id);var o=this.getCssClass(),n=!1,r=goog.dom.classlist.get(t);return r&&goog.array.forEach(r,function(t){t==o?n=!0:t&&this.setStateFromClassName(e,t,o)},this),n||goog.dom.classlist.add(t,o),this.decorateChildren(e,this.getContentElement(t)),t},goog.ui.ContainerRenderer.prototype.setStateFromClassName=function(e,t,o){t==o+"-disabled"?e.setEnabled(!1):t==o+"-horizontal"?e.setOrientation(goog.ui.Container.Orientation.HORIZONTAL):t==o+"-vertical"&&e.setOrientation(goog.ui.Container.Orientation.VERTICAL)},goog.ui.ContainerRenderer.prototype.decorateChildren=function(e,t,o){if(t){o=o||t.firstChild;for(var n;o&&o.parentNode==t;){if(n=o.nextSibling,o.nodeType==goog.dom.NodeType.ELEMENT){var r=this.getDecoratorForChild(o);r&&(r.setElementInternal(o),e.isEnabled()||r.setEnabled(!1),e.addChild(r),r.decorate(o))}else o.nodeValue&&""!=goog.string.trim(o.nodeValue)||t.removeChild(o);o=n}}},goog.ui.ContainerRenderer.prototype.getDecoratorForChild=function(e){return goog.ui.registry.getDecorator(e)},goog.ui.ContainerRenderer.prototype.initializeDom=function(e){e=e.getElement(),goog.asserts.assert(e,"The container DOM element cannot be null."),goog.style.setUnselectable(e,!0,goog.userAgent.GECKO),goog.userAgent.IE&&(e.hideFocus=!0);var t=this.getAriaRole();t&&goog.a11y.aria.setRole(e,t)},goog.ui.ContainerRenderer.prototype.getKeyEventTarget=function(e){return e.getElement()},goog.ui.ContainerRenderer.prototype.getCssClass=function(){return goog.ui.ContainerRenderer.CSS_CLASS},goog.ui.ContainerRenderer.prototype.getClassNames=function(e){var t=this.getCssClass(),o=e.getOrientation()==goog.ui.Container.Orientation.HORIZONTAL,o=[t,o?t+"-horizontal":t+"-vertical"];return e.isEnabled()||o.push(t+"-disabled"),o},goog.ui.ContainerRenderer.prototype.getDefaultOrientation=function(){return goog.ui.Container.Orientation.VERTICAL},goog.ui.ControlRenderer=function(){},goog.addSingletonGetter(goog.ui.ControlRenderer),goog.tagUnsealableClass(goog.ui.ControlRenderer),goog.ui.ControlRenderer.getCustomRenderer=function(e,t){var o=new e;return o.getCssClass=function(){return t},o},goog.ui.ControlRenderer.CSS_CLASS="goog-control",goog.ui.ControlRenderer.IE6_CLASS_COMBINATIONS=[],goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_=goog.object.create(goog.a11y.aria.Role.BUTTON,goog.a11y.aria.State.PRESSED,goog.a11y.aria.Role.CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.MENU_ITEM_CHECKBOX,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.MENU_ITEM_RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.RADIO,goog.a11y.aria.State.CHECKED,goog.a11y.aria.Role.TAB,goog.a11y.aria.State.SELECTED,goog.a11y.aria.Role.TREEITEM,goog.a11y.aria.State.SELECTED),goog.ui.ControlRenderer.prototype.getAriaRole=function(){},goog.ui.ControlRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom(goog.dom.TagName.DIV,this.getClassNames(e).join(" "),e.getContent())},goog.ui.ControlRenderer.prototype.getContentElement=function(e){return e},goog.ui.ControlRenderer.prototype.enableClassName=function(e,t,o){if(e=e.getElement?e.getElement():e){var n=[t];goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&(n=this.getAppliedCombinedClassNames_(goog.dom.classlist.get(e),t),n.push(t)),goog.dom.classlist.enableAll(e,n,o)}},goog.ui.ControlRenderer.prototype.enableExtraClassName=function(e,t,o){this.enableClassName(e,t,o)},goog.ui.ControlRenderer.prototype.canDecorate=function(e){return!0},goog.ui.ControlRenderer.prototype.decorate=function(e,t){t.id&&e.setId(t.id);var o=this.getContentElement(t);o&&o.firstChild?e.setContentInternal(o.firstChild.nextSibling?goog.array.clone(o.childNodes):o.firstChild):e.setContentInternal(null);var n=0,r=this.getCssClass(),i=this.getStructuralCssClass(),s=!1,a=!1,l=!1,g=goog.array.toArray(goog.dom.classlist.get(t));goog.array.forEach(g,function(e){s||e!=r?a||e!=i?n|=this.getStateFromClass(e):a=!0:(s=!0,i==r&&(a=!0)),this.getStateFromClass(e)==goog.ui.Component.State.DISABLED&&(goog.asserts.assertElement(o),goog.dom.isFocusableTabIndex(o)&&goog.dom.setFocusableTabIndex(o,!1))},this),e.setStateInternal(n),s||(g.push(r),i==r&&(a=!0)),a||g.push(i);var c=e.getExtraClassNames();if(c&&g.push.apply(g,c),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")){var u=this.getAppliedCombinedClassNames_(g);0<u.length&&(g.push.apply(g,u),l=!0)}return s&&a&&!c&&!l||goog.dom.classlist.set(t,g.join(" ")),t},goog.ui.ControlRenderer.prototype.initializeDom=function(e){e.isRightToLeft()&&this.setRightToLeft(e.getElement(),!0),e.isEnabled()&&this.setFocusable(e,e.isVisible())},goog.ui.ControlRenderer.prototype.setAriaRole=function(e,t){var o=t||this.getAriaRole();if(o){goog.asserts.assert(e,"The element passed as a first parameter cannot be null.");var n=goog.a11y.aria.getRole(e);o!=n&&goog.a11y.aria.setRole(e,o)}},goog.ui.ControlRenderer.prototype.setAriaStates=function(e,t){goog.asserts.assert(e),goog.asserts.assert(t);var o=e.getAriaLabel();goog.isDefAndNotNull(o)&&this.setAriaLabel(t,o),e.isVisible()||goog.a11y.aria.setState(t,goog.a11y.aria.State.HIDDEN,!e.isVisible()),e.isEnabled()||this.updateAriaState(t,goog.ui.Component.State.DISABLED,!e.isEnabled()),e.isSupportedState(goog.ui.Component.State.SELECTED)&&this.updateAriaState(t,goog.ui.Component.State.SELECTED,e.isSelected()),e.isSupportedState(goog.ui.Component.State.CHECKED)&&this.updateAriaState(t,goog.ui.Component.State.CHECKED,e.isChecked()),e.isSupportedState(goog.ui.Component.State.OPENED)&&this.updateAriaState(t,goog.ui.Component.State.OPENED,e.isOpen())},goog.ui.ControlRenderer.prototype.setAriaLabel=function(e,t){goog.a11y.aria.setLabel(e,t)},goog.ui.ControlRenderer.prototype.setAllowTextSelection=function(e,t){goog.style.setUnselectable(e,!t,!goog.userAgent.IE&&!goog.userAgent.OPERA)},goog.ui.ControlRenderer.prototype.setRightToLeft=function(e,t){this.enableClassName(e,this.getStructuralCssClass()+"-rtl",t)},goog.ui.ControlRenderer.prototype.isFocusable=function(e){var t;return e.isSupportedState(goog.ui.Component.State.FOCUSED)&&(t=e.getKeyEventTarget())?goog.dom.isFocusableTabIndex(t):!1},goog.ui.ControlRenderer.prototype.setFocusable=function(e,t){var o;if(e.isSupportedState(goog.ui.Component.State.FOCUSED)&&(o=e.getKeyEventTarget())){if(!t&&e.isFocused()){try{o.blur()}catch(n){}e.isFocused()&&e.handleBlur(null)}goog.dom.isFocusableTabIndex(o)!=t&&goog.dom.setFocusableTabIndex(o,t)}},goog.ui.ControlRenderer.prototype.setVisible=function(e,t){goog.style.setElementShown(e,t),e&&goog.a11y.aria.setState(e,goog.a11y.aria.State.HIDDEN,!t)},goog.ui.ControlRenderer.prototype.setState=function(e,t,o){var n=e.getElement();if(n){var r=this.getClassForState(t);r&&this.enableClassName(e,r,o),this.updateAriaState(n,t,o)}},goog.ui.ControlRenderer.prototype.updateAriaState=function(e,t,o){goog.ui.ControlRenderer.ariaAttributeMap_||(goog.ui.ControlRenderer.ariaAttributeMap_=goog.object.create(goog.ui.Component.State.DISABLED,goog.a11y.aria.State.DISABLED,goog.ui.Component.State.SELECTED,goog.a11y.aria.State.SELECTED,goog.ui.Component.State.CHECKED,goog.a11y.aria.State.CHECKED,goog.ui.Component.State.OPENED,goog.a11y.aria.State.EXPANDED)),goog.asserts.assert(e,"The element passed as a first parameter cannot be null."),(t=goog.ui.ControlRenderer.getAriaStateForAriaRole_(e,goog.ui.ControlRenderer.ariaAttributeMap_[t]))&&goog.a11y.aria.setState(e,t,o)},goog.ui.ControlRenderer.getAriaStateForAriaRole_=function(e,t){var o=goog.a11y.aria.getRole(e);return o?(o=goog.ui.ControlRenderer.TOGGLE_ARIA_STATE_MAP_[o]||t,goog.ui.ControlRenderer.isAriaState_(t)?o:t):t},goog.ui.ControlRenderer.isAriaState_=function(e){return e==goog.a11y.aria.State.CHECKED||e==goog.a11y.aria.State.SELECTED},goog.ui.ControlRenderer.prototype.setContent=function(e,t){var o=this.getContentElement(e);if(o&&(goog.dom.removeChildren(o),t))if(goog.isString(t))goog.dom.setTextContent(o,t);else{var n=function(e){if(e){var t=goog.dom.getOwnerDocument(o);o.appendChild(goog.isString(e)?t.createTextNode(e):e)}};goog.isArray(t)?goog.array.forEach(t,n):!goog.isArrayLike(t)||"nodeType"in t?n(t):goog.array.forEach(goog.array.clone(t),n)}},goog.ui.ControlRenderer.prototype.getKeyEventTarget=function(e){return e.getElement()},goog.ui.ControlRenderer.prototype.getCssClass=function(){return goog.ui.ControlRenderer.CSS_CLASS},goog.ui.ControlRenderer.prototype.getIe6ClassCombinations=function(){return[]},goog.ui.ControlRenderer.prototype.getStructuralCssClass=function(){return this.getCssClass()},goog.ui.ControlRenderer.prototype.getClassNames=function(e){var t=this.getCssClass(),o=[t],n=this.getStructuralCssClass();return n!=t&&o.push(n),t=this.getClassNamesForState(e.getState()),o.push.apply(o,t),(e=e.getExtraClassNames())&&o.push.apply(o,e),goog.userAgent.IE&&!goog.userAgent.isVersionOrHigher("7")&&o.push.apply(o,this.getAppliedCombinedClassNames_(o)),o},goog.ui.ControlRenderer.prototype.getAppliedCombinedClassNames_=function(e,t){var o=[];return t&&(e=goog.array.concat(e,[t])),goog.array.forEach(this.getIe6ClassCombinations(),function(n){!goog.array.every(n,goog.partial(goog.array.contains,e))||t&&!goog.array.contains(n,t)||o.push(n.join("_"))}),o},goog.ui.ControlRenderer.prototype.getClassNamesForState=function(e){for(var t=[];e;){var o=e&-e;t.push(this.getClassForState(o)),e&=~o}return t},goog.ui.ControlRenderer.prototype.getClassForState=function(e){return this.classByState_||this.createClassByStateMap_(),this.classByState_[e]},goog.ui.ControlRenderer.prototype.getStateFromClass=function(e){return this.stateByClass_||this.createStateByClassMap_(),e=parseInt(this.stateByClass_[e],10),isNaN(e)?0:e},goog.ui.ControlRenderer.prototype.createClassByStateMap_=function(){var e=this.getStructuralCssClass(),t=!goog.string.contains(goog.string.normalizeWhitespace(e)," ");goog.asserts.assert(t,"ControlRenderer has an invalid css class: '"+e+"'"),this.classByState_=goog.object.create(goog.ui.Component.State.DISABLED,e+"-disabled",goog.ui.Component.State.HOVER,e+"-hover",goog.ui.Component.State.ACTIVE,e+"-active",goog.ui.Component.State.SELECTED,e+"-selected",goog.ui.Component.State.CHECKED,e+"-checked",goog.ui.Component.State.FOCUSED,e+"-focused",goog.ui.Component.State.OPENED,e+"-open")},goog.ui.ControlRenderer.prototype.createStateByClassMap_=function(){this.classByState_||this.createClassByStateMap_(),this.stateByClass_=goog.object.transpose(this.classByState_)},goog.ui.Control=function(e,t,o){goog.ui.Component.call(this,o),this.renderer_=t||goog.ui.registry.getDefaultRenderer(this.constructor),this.setContentInternal(goog.isDef(e)?e:null),this.ariaLabel_=null},goog.inherits(goog.ui.Control,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Control),goog.ui.Control.registerDecorator=goog.ui.registry.setDecoratorByClassName,goog.ui.Control.getDecorator=goog.ui.registry.getDecorator,goog.ui.Control.prototype.content_=null,goog.ui.Control.prototype.state_=0,goog.ui.Control.prototype.supportedStates_=goog.ui.Component.State.DISABLED|goog.ui.Component.State.HOVER|goog.ui.Component.State.ACTIVE|goog.ui.Component.State.FOCUSED,goog.ui.Control.prototype.autoStates_=goog.ui.Component.State.ALL,goog.ui.Control.prototype.statesWithTransitionEvents_=0,goog.ui.Control.prototype.visible_=!0,goog.ui.Control.prototype.extraClassNames_=null,goog.ui.Control.prototype.handleMouseEvents_=!0,goog.ui.Control.prototype.allowTextSelection_=!1,goog.ui.Control.prototype.preferredAriaRole_=null,goog.ui.Control.prototype.isHandleMouseEvents=function(){return this.handleMouseEvents_},goog.ui.Control.prototype.setHandleMouseEvents=function(e){this.isInDocument()&&e!=this.handleMouseEvents_&&this.enableMouseEventHandling_(e),this.handleMouseEvents_=e},goog.ui.Control.prototype.getKeyEventTarget=function(){return this.renderer_.getKeyEventTarget(this)},goog.ui.Control.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler)},goog.ui.Control.prototype.getRenderer=function(){return this.renderer_},goog.ui.Control.prototype.setRenderer=function(e){if(this.isInDocument())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.getElement()&&this.setElementInternal(null),this.renderer_=e},goog.ui.Control.prototype.getExtraClassNames=function(){return this.extraClassNames_},goog.ui.Control.prototype.addClassName=function(e){e&&(this.extraClassNames_?goog.array.contains(this.extraClassNames_,e)||this.extraClassNames_.push(e):this.extraClassNames_=[e],this.renderer_.enableExtraClassName(this,e,!0))},goog.ui.Control.prototype.removeClassName=function(e){e&&this.extraClassNames_&&goog.array.remove(this.extraClassNames_,e)&&(0==this.extraClassNames_.length&&(this.extraClassNames_=null),this.renderer_.enableExtraClassName(this,e,!1))},goog.ui.Control.prototype.enableClassName=function(e,t){t?this.addClassName(e):this.removeClassName(e)},goog.ui.Control.prototype.createDom=function(){var e=this.renderer_.createDom(this);this.setElementInternal(e),this.renderer_.setAriaRole(e,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(e,!1),this.isVisible()||this.renderer_.setVisible(e,!1)},goog.ui.Control.prototype.getPreferredAriaRole=function(){return this.preferredAriaRole_},goog.ui.Control.prototype.setPreferredAriaRole=function(e){this.preferredAriaRole_=e},goog.ui.Control.prototype.getAriaLabel=function(){return this.ariaLabel_},goog.ui.Control.prototype.setAriaLabel=function(e){this.ariaLabel_=e;var t=this.getElement();t&&this.renderer_.setAriaLabel(t,e)},goog.ui.Control.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Control.prototype.canDecorate=function(e){return this.renderer_.canDecorate(e)},goog.ui.Control.prototype.decorateInternal=function(e){e=this.renderer_.decorate(this,e),this.setElementInternal(e),this.renderer_.setAriaRole(e,this.getPreferredAriaRole()),this.isAllowTextSelection()||this.renderer_.setAllowTextSelection(e,!1),this.visible_="none"!=e.style.display},goog.ui.Control.prototype.enterDocument=function(){if(goog.ui.Control.superClass_.enterDocument.call(this),this.renderer_.setAriaStates(this,this.getElementStrict()),this.renderer_.initializeDom(this),this.supportedStates_&~goog.ui.Component.State.DISABLED&&(this.isHandleMouseEvents()&&this.enableMouseEventHandling_(!0),this.isSupportedState(goog.ui.Component.State.FOCUSED))){var e=this.getKeyEventTarget();if(e){var t=this.getKeyHandler();t.attach(e),this.getHandler().listen(t,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(e,goog.events.EventType.FOCUS,this.handleFocus).listen(e,goog.events.EventType.BLUR,this.handleBlur)}}},goog.ui.Control.prototype.enableMouseEventHandling_=function(e){var t=this.getHandler(),o=this.getElement();e?(t.listen(o,goog.events.EventType.MOUSEOVER,this.handleMouseOver).listen(o,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(o,goog.events.EventType.MOUSEUP,this.handleMouseUp).listen(o,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.handleContextMenu!=goog.nullFunction&&t.listen(o,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||t.listen(o,goog.events.EventType.DBLCLICK,this.handleDblClick),this.ieMouseEventSequenceSimulator_||(this.ieMouseEventSequenceSimulator_=new goog.ui.Control.IeMouseEventSequenceSimulator_(this),this.registerDisposable(this.ieMouseEventSequenceSimulator_)))):(t.unlisten(o,goog.events.EventType.MOUSEOVER,this.handleMouseOver).unlisten(o,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).unlisten(o,goog.events.EventType.MOUSEUP,this.handleMouseUp).unlisten(o,goog.events.EventType.MOUSEOUT,this.handleMouseOut),this.handleContextMenu!=goog.nullFunction&&t.unlisten(o,goog.events.EventType.CONTEXTMENU,this.handleContextMenu),goog.userAgent.IE&&(goog.userAgent.isVersionOrHigher(9)||t.unlisten(o,goog.events.EventType.DBLCLICK,this.handleDblClick),goog.dispose(this.ieMouseEventSequenceSimulator_),this.ieMouseEventSequenceSimulator_=null))},goog.ui.Control.prototype.exitDocument=function(){goog.ui.Control.superClass_.exitDocument.call(this),this.keyHandler_&&this.keyHandler_.detach(),this.isVisible()&&this.isEnabled()&&this.renderer_.setFocusable(this,!1)},goog.ui.Control.prototype.disposeInternal=function(){goog.ui.Control.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),delete this.keyHandler_),delete this.renderer_,this.ieMouseEventSequenceSimulator_=this.extraClassNames_=this.content_=null},goog.ui.Control.prototype.getContent=function(){return this.content_},goog.ui.Control.prototype.setContent=function(e){this.renderer_.setContent(this.getElement(),e),this.setContentInternal(e)},goog.ui.Control.prototype.setContentInternal=function(e){this.content_=e},goog.ui.Control.prototype.getCaption=function(){var e=this.getContent();return e?(e=goog.isString(e)?e:goog.isArray(e)?goog.array.map(e,goog.dom.getRawTextContent).join(""):goog.dom.getTextContent(e),goog.string.collapseBreakingSpaces(e)):""},goog.ui.Control.prototype.setCaption=function(e){this.setContent(e)},goog.ui.Control.prototype.setRightToLeft=function(e){goog.ui.Control.superClass_.setRightToLeft.call(this,e);var t=this.getElement();t&&this.renderer_.setRightToLeft(t,e)},goog.ui.Control.prototype.isAllowTextSelection=function(){return this.allowTextSelection_},goog.ui.Control.prototype.setAllowTextSelection=function(e){this.allowTextSelection_=e;var t=this.getElement();t&&this.renderer_.setAllowTextSelection(t,e)},goog.ui.Control.prototype.isVisible=function(){return this.visible_},goog.ui.Control.prototype.setVisible=function(e,t){if(t||this.visible_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){var o=this.getElement();return o&&this.renderer_.setVisible(o,e),this.isEnabled()&&this.renderer_.setFocusable(this,e),this.visible_=e,!0}return!1},goog.ui.Control.prototype.isEnabled=function(){return!this.hasState(goog.ui.Component.State.DISABLED)},goog.ui.Control.prototype.isParentDisabled_=function(){var e=this.getParent();return!!e&&"function"==typeof e.isEnabled&&!e.isEnabled()},goog.ui.Control.prototype.setEnabled=function(e){!this.isParentDisabled_()&&this.isTransitionAllowed(goog.ui.Component.State.DISABLED,!e)&&(e||(this.setActive(!1),this.setHighlighted(!1)),this.isVisible()&&this.renderer_.setFocusable(this,e),this.setState(goog.ui.Component.State.DISABLED,!e,!0))},goog.ui.Control.prototype.isHighlighted=function(){return this.hasState(goog.ui.Component.State.HOVER)},goog.ui.Control.prototype.setHighlighted=function(e){this.isTransitionAllowed(goog.ui.Component.State.HOVER,e)&&this.setState(goog.ui.Component.State.HOVER,e)},goog.ui.Control.prototype.isActive=function(){return this.hasState(goog.ui.Component.State.ACTIVE)},goog.ui.Control.prototype.setActive=function(e){this.isTransitionAllowed(goog.ui.Component.State.ACTIVE,e)&&this.setState(goog.ui.Component.State.ACTIVE,e)},goog.ui.Control.prototype.isSelected=function(){return this.hasState(goog.ui.Component.State.SELECTED)},goog.ui.Control.prototype.setSelected=function(e){this.isTransitionAllowed(goog.ui.Component.State.SELECTED,e)&&this.setState(goog.ui.Component.State.SELECTED,e)},goog.ui.Control.prototype.isChecked=function(){return this.hasState(goog.ui.Component.State.CHECKED)},goog.ui.Control.prototype.setChecked=function(e){this.isTransitionAllowed(goog.ui.Component.State.CHECKED,e)&&this.setState(goog.ui.Component.State.CHECKED,e)},goog.ui.Control.prototype.isFocused=function(){return this.hasState(goog.ui.Component.State.FOCUSED)},goog.ui.Control.prototype.setFocused=function(e){this.isTransitionAllowed(goog.ui.Component.State.FOCUSED,e)&&this.setState(goog.ui.Component.State.FOCUSED,e)},goog.ui.Control.prototype.isOpen=function(){return this.hasState(goog.ui.Component.State.OPENED)},goog.ui.Control.prototype.setOpen=function(e){this.isTransitionAllowed(goog.ui.Component.State.OPENED,e)&&this.setState(goog.ui.Component.State.OPENED,e)},goog.ui.Control.prototype.getState=function(){return this.state_},goog.ui.Control.prototype.hasState=function(e){return!!(this.state_&e)},goog.ui.Control.prototype.setState=function(e,t,o){o||e!=goog.ui.Component.State.DISABLED?this.isSupportedState(e)&&t!=this.hasState(e)&&(this.renderer_.setState(this,e,t),this.state_=t?this.state_|e:this.state_&~e):this.setEnabled(!t)},goog.ui.Control.prototype.setStateInternal=function(e){this.state_=e},goog.ui.Control.prototype.isSupportedState=function(e){return!!(this.supportedStates_&e)},goog.ui.Control.prototype.setSupportedState=function(e,t){if(this.isInDocument()&&this.hasState(e)&&!t)throw Error(goog.ui.Component.Error.ALREADY_RENDERED);!t&&this.hasState(e)&&this.setState(e,!1),this.supportedStates_=t?this.supportedStates_|e:this.supportedStates_&~e},goog.ui.Control.prototype.isAutoState=function(e){return!!(this.autoStates_&e)&&this.isSupportedState(e)},goog.ui.Control.prototype.setAutoStates=function(e,t){this.autoStates_=t?this.autoStates_|e:this.autoStates_&~e},goog.ui.Control.prototype.isDispatchTransitionEvents=function(e){return!!(this.statesWithTransitionEvents_&e)&&this.isSupportedState(e)},goog.ui.Control.prototype.setDispatchTransitionEvents=function(e,t){this.statesWithTransitionEvents_=t?this.statesWithTransitionEvents_|e:this.statesWithTransitionEvents_&~e},goog.ui.Control.prototype.isTransitionAllowed=function(e,t){return this.isSupportedState(e)&&this.hasState(e)!=t&&(!(this.statesWithTransitionEvents_&e)||this.dispatchEvent(goog.ui.Component.getStateTransitionEvent(e,t)))&&!this.isDisposed()},goog.ui.Control.prototype.handleMouseOver=function(e){!goog.ui.Control.isMouseEventWithinElement_(e,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.ENTER)&&this.isEnabled()&&this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0)},goog.ui.Control.prototype.handleMouseOut=function(e){!goog.ui.Control.isMouseEventWithinElement_(e,this.getElement())&&this.dispatchEvent(goog.ui.Component.EventType.LEAVE)&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!1))},goog.ui.Control.prototype.handleContextMenu=goog.nullFunction,goog.ui.Control.isMouseEventWithinElement_=function(e,t){return!!e.relatedTarget&&goog.dom.contains(t,e.relatedTarget);
},goog.ui.Control.prototype.handleMouseDown=function(e){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),e.isMouseActionButton()&&(this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!0),this.renderer_&&this.renderer_.isFocusable(this)&&this.getKeyEventTarget().focus())),!this.isAllowTextSelection()&&e.isMouseActionButton()&&e.preventDefault()},goog.ui.Control.prototype.handleMouseUp=function(e){this.isEnabled()&&(this.isAutoState(goog.ui.Component.State.HOVER)&&this.setHighlighted(!0),this.isActive()&&this.performActionInternal(e)&&this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1))},goog.ui.Control.prototype.handleDblClick=function(e){this.isEnabled()&&this.performActionInternal(e)},goog.ui.Control.prototype.performActionInternal=function(e){this.isAutoState(goog.ui.Component.State.CHECKED)&&this.setChecked(!this.isChecked()),this.isAutoState(goog.ui.Component.State.SELECTED)&&this.setSelected(!0),this.isAutoState(goog.ui.Component.State.OPENED)&&this.setOpen(!this.isOpen());var t=new goog.events.Event(goog.ui.Component.EventType.ACTION,this);return e&&(t.altKey=e.altKey,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.shiftKey=e.shiftKey,t.platformModifierKey=e.platformModifierKey),this.dispatchEvent(t)},goog.ui.Control.prototype.handleFocus=function(e){this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!0)},goog.ui.Control.prototype.handleBlur=function(e){this.isAutoState(goog.ui.Component.State.ACTIVE)&&this.setActive(!1),this.isAutoState(goog.ui.Component.State.FOCUSED)&&this.setFocused(!1)},goog.ui.Control.prototype.handleKeyEvent=function(e){return this.isVisible()&&this.isEnabled()&&this.handleKeyEventInternal(e)?(e.preventDefault(),e.stopPropagation(),!0):!1},goog.ui.Control.prototype.handleKeyEventInternal=function(e){return e.keyCode==goog.events.KeyCodes.ENTER&&this.performActionInternal(e)},goog.ui.registry.setDefaultRenderer(goog.ui.Control,goog.ui.ControlRenderer),goog.ui.registry.setDecoratorByClassName(goog.ui.ControlRenderer.CSS_CLASS,function(){return new goog.ui.Control(null)}),goog.ui.Control.IeMouseEventSequenceSimulator_=function(e){goog.Disposable.call(this),this.control_=e,this.clickExpected_=!1,this.handler_=new goog.events.EventHandler(this),this.registerDisposable(this.handler_),e=this.control_.getElementStrict(),this.handler_.listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseDown_).listen(e,goog.events.EventType.MOUSEUP,this.handleMouseUp_).listen(e,goog.events.EventType.CLICK,this.handleClick_)},goog.inherits(goog.ui.Control.IeMouseEventSequenceSimulator_,goog.Disposable),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_=!goog.userAgent.IE||goog.userAgent.isDocumentModeOrHigher(9),goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseDown_=function(){this.clickExpected_=!1},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleMouseUp_=function(){this.clickExpected_=!0},goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_=function(e,t){if(!goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_)return e.button=goog.events.BrowserEvent.MouseButton.LEFT,e.type=t,e;var o=document.createEvent("MouseEvents");return o.initMouseEvent(t,e.bubbles,e.cancelable,e.view||null,e.detail,e.screenX,e.screenY,e.clientX,e.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,goog.events.BrowserEvent.MouseButton.LEFT,e.relatedTarget||null),o},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.handleClick_=function(e){if(this.clickExpected_)this.clickExpected_=!1;else{var t=e.getBrowserEvent(),o=t.button,n=t.type,r=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(t,goog.events.EventType.MOUSEDOWN);this.control_.handleMouseDown(new goog.events.BrowserEvent(r,e.currentTarget)),r=goog.ui.Control.IeMouseEventSequenceSimulator_.makeLeftMouseEvent_(t,goog.events.EventType.MOUSEUP),this.control_.handleMouseUp(new goog.events.BrowserEvent(r,e.currentTarget)),goog.ui.Control.IeMouseEventSequenceSimulator_.SYNTHETIC_EVENTS_||(t.button=o,t.type=n)}},goog.ui.Control.IeMouseEventSequenceSimulator_.prototype.disposeInternal=function(){this.control_=null,goog.ui.Control.IeMouseEventSequenceSimulator_.superClass_.disposeInternal.call(this)},goog.ui.Container=function(e,t,o){goog.ui.Component.call(this,o),this.renderer_=t||goog.ui.ContainerRenderer.getInstance(),this.orientation_=e||this.renderer_.getDefaultOrientation()},goog.inherits(goog.ui.Container,goog.ui.Component),goog.tagUnsealableClass(goog.ui.Container),goog.ui.Container.EventType={AFTER_SHOW:"aftershow",AFTER_HIDE:"afterhide"},goog.ui.Container.Orientation={HORIZONTAL:"horizontal",VERTICAL:"vertical"},goog.ui.Container.prototype.keyEventTarget_=null,goog.ui.Container.prototype.keyHandler_=null,goog.ui.Container.prototype.renderer_=null,goog.ui.Container.prototype.orientation_=null,goog.ui.Container.prototype.visible_=!0,goog.ui.Container.prototype.enabled_=!0,goog.ui.Container.prototype.focusable_=!0,goog.ui.Container.prototype.highlightedIndex_=-1,goog.ui.Container.prototype.openItem_=null,goog.ui.Container.prototype.mouseButtonPressed_=!1,goog.ui.Container.prototype.allowFocusableChildren_=!1,goog.ui.Container.prototype.openFollowsHighlight_=!0,goog.ui.Container.prototype.childElementIdMap_=null,goog.ui.Container.prototype.getKeyEventTarget=function(){return this.keyEventTarget_||this.renderer_.getKeyEventTarget(this)},goog.ui.Container.prototype.setKeyEventTarget=function(e){if(!this.focusable_)throw Error("Can't set key event target for container that doesn't support keyboard focus!");var t=this.getKeyEventTarget(),o=this.isInDocument();this.keyEventTarget_=e;var n=this.getKeyEventTarget();o&&(this.keyEventTarget_=t,this.enableFocusHandling_(!1),this.keyEventTarget_=e,this.getKeyHandler().attach(n),this.enableFocusHandling_(!0))},goog.ui.Container.prototype.getKeyHandler=function(){return this.keyHandler_||(this.keyHandler_=new goog.events.KeyHandler(this.getKeyEventTarget()))},goog.ui.Container.prototype.getRenderer=function(){return this.renderer_},goog.ui.Container.prototype.setRenderer=function(e){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.renderer_=e},goog.ui.Container.prototype.createDom=function(){this.setElementInternal(this.renderer_.createDom(this))},goog.ui.Container.prototype.getContentElement=function(){return this.renderer_.getContentElement(this.getElement())},goog.ui.Container.prototype.canDecorate=function(e){return this.renderer_.canDecorate(e)},goog.ui.Container.prototype.decorateInternal=function(e){this.setElementInternal(this.renderer_.decorate(this,e)),"none"==e.style.display&&(this.visible_=!1)},goog.ui.Container.prototype.enterDocument=function(){goog.ui.Container.superClass_.enterDocument.call(this),this.forEachChild(function(e){e.isInDocument()&&this.registerChildId_(e)},this);var e=this.getElement();this.renderer_.initializeDom(this),this.setVisible(this.visible_,!0),this.getHandler().listen(this,goog.ui.Component.EventType.ENTER,this.handleEnterItem).listen(this,goog.ui.Component.EventType.HIGHLIGHT,this.handleHighlightItem).listen(this,goog.ui.Component.EventType.UNHIGHLIGHT,this.handleUnHighlightItem).listen(this,goog.ui.Component.EventType.OPEN,this.handleOpenItem).listen(this,goog.ui.Component.EventType.CLOSE,this.handleCloseItem).listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseDown).listen(goog.dom.getOwnerDocument(e),goog.events.EventType.MOUSEUP,this.handleDocumentMouseUp).listen(e,[goog.events.EventType.MOUSEDOWN,goog.events.EventType.MOUSEUP,goog.events.EventType.MOUSEOVER,goog.events.EventType.MOUSEOUT,goog.events.EventType.CONTEXTMENU],this.handleChildMouseEvents),this.isFocusable()&&this.enableFocusHandling_(!0)},goog.ui.Container.prototype.enableFocusHandling_=function(e){var t=this.getHandler(),o=this.getKeyEventTarget();e?t.listen(o,goog.events.EventType.FOCUS,this.handleFocus).listen(o,goog.events.EventType.BLUR,this.handleBlur).listen(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent):t.unlisten(o,goog.events.EventType.FOCUS,this.handleFocus).unlisten(o,goog.events.EventType.BLUR,this.handleBlur).unlisten(this.getKeyHandler(),goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent)},goog.ui.Container.prototype.exitDocument=function(){this.setHighlightedIndex(-1),this.openItem_&&this.openItem_.setOpen(!1),this.mouseButtonPressed_=!1,goog.ui.Container.superClass_.exitDocument.call(this)},goog.ui.Container.prototype.disposeInternal=function(){goog.ui.Container.superClass_.disposeInternal.call(this),this.keyHandler_&&(this.keyHandler_.dispose(),this.keyHandler_=null),this.renderer_=this.openItem_=this.childElementIdMap_=this.keyEventTarget_=null},goog.ui.Container.prototype.handleEnterItem=function(e){return!0},goog.ui.Container.prototype.handleHighlightItem=function(e){var t=this.indexOfChild(e.target);if(t>-1&&t!=this.highlightedIndex_){var o=this.getHighlighted();o&&o.setHighlighted(!1),this.highlightedIndex_=t,o=this.getHighlighted(),this.isMouseButtonPressed()&&o.setActive(!0),this.openFollowsHighlight_&&this.openItem_&&o!=this.openItem_&&(o.isSupportedState(goog.ui.Component.State.OPENED)?o.setOpen(!0):this.openItem_.setOpen(!1))}t=this.getElement(),goog.asserts.assert(t,"The DOM element for the container cannot be null."),null!=e.target.getElement()&&goog.a11y.aria.setState(t,goog.a11y.aria.State.ACTIVEDESCENDANT,e.target.getElement().id)},goog.ui.Container.prototype.handleUnHighlightItem=function(e){e.target==this.getHighlighted()&&(this.highlightedIndex_=-1),e=this.getElement(),goog.asserts.assert(e,"The DOM element for the container cannot be null."),goog.a11y.aria.removeState(e,goog.a11y.aria.State.ACTIVEDESCENDANT)},goog.ui.Container.prototype.handleOpenItem=function(e){(e=e.target)&&e!=this.openItem_&&e.getParent()==this&&(this.openItem_&&this.openItem_.setOpen(!1),this.openItem_=e)},goog.ui.Container.prototype.handleCloseItem=function(e){e.target==this.openItem_&&(this.openItem_=null);var t=this.getElement(),o=e.target.getElement();t&&e.target.isHighlighted()&&o&&goog.a11y.aria.setActiveDescendant(t,o)},goog.ui.Container.prototype.handleMouseDown=function(e){this.enabled_&&this.setMouseButtonPressed(!0);var t=this.getKeyEventTarget();t&&goog.dom.isFocusableTabIndex(t)?t.focus():e.preventDefault()},goog.ui.Container.prototype.handleDocumentMouseUp=function(e){this.setMouseButtonPressed(!1)},goog.ui.Container.prototype.handleChildMouseEvents=function(e){var t=this.getOwnerControl(e.target);if(t)switch(e.type){case goog.events.EventType.MOUSEDOWN:t.handleMouseDown(e);break;case goog.events.EventType.MOUSEUP:t.handleMouseUp(e);break;case goog.events.EventType.MOUSEOVER:t.handleMouseOver(e);break;case goog.events.EventType.MOUSEOUT:t.handleMouseOut(e);break;case goog.events.EventType.CONTEXTMENU:t.handleContextMenu(e)}},goog.ui.Container.prototype.getOwnerControl=function(e){if(this.childElementIdMap_)for(var t=this.getElement();e&&e!==t;){var o=e.id;if(o in this.childElementIdMap_)return this.childElementIdMap_[o];e=e.parentNode}return null},goog.ui.Container.prototype.handleFocus=function(e){},goog.ui.Container.prototype.handleBlur=function(e){this.setHighlightedIndex(-1),this.setMouseButtonPressed(!1),this.openItem_&&this.openItem_.setOpen(!1)},goog.ui.Container.prototype.handleKeyEvent=function(e){return this.isEnabled()&&this.isVisible()&&(0!=this.getChildCount()||this.keyEventTarget_)&&this.handleKeyEventInternal(e)?(e.preventDefault(),e.stopPropagation(),!0):!1},goog.ui.Container.prototype.handleKeyEventInternal=function(e){var t=this.getHighlighted();if(t&&"function"==typeof t.handleKeyEvent&&t.handleKeyEvent(e)||this.openItem_&&this.openItem_!=t&&"function"==typeof this.openItem_.handleKeyEvent&&this.openItem_.handleKeyEvent(e))return!0;if(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)return!1;switch(e.keyCode){case goog.events.KeyCodes.ESC:if(!this.isFocusable())return!1;this.getKeyEventTarget().blur();break;case goog.events.KeyCodes.HOME:this.highlightFirst();break;case goog.events.KeyCodes.END:this.highlightLast();break;case goog.events.KeyCodes.UP:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightPrevious();break;case goog.events.KeyCodes.LEFT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightNext():this.highlightPrevious();break;case goog.events.KeyCodes.DOWN:if(this.orientation_!=goog.ui.Container.Orientation.VERTICAL)return!1;this.highlightNext();break;case goog.events.KeyCodes.RIGHT:if(this.orientation_!=goog.ui.Container.Orientation.HORIZONTAL)return!1;this.isRightToLeft()?this.highlightPrevious():this.highlightNext();break;default:return!1}return!0},goog.ui.Container.prototype.registerChildId_=function(e){var t=e.getElement(),t=t.id||(t.id=e.getId());this.childElementIdMap_||(this.childElementIdMap_={}),this.childElementIdMap_[t]=e},goog.ui.Container.prototype.addChild=function(e,t){goog.asserts.assertInstanceof(e,goog.ui.Control,"The child of a container must be a control"),goog.ui.Container.superClass_.addChild.call(this,e,t)},goog.ui.Container.prototype.addChildAt=function(e,t,o){goog.asserts.assertInstanceof(e,goog.ui.Control),e.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0),e.setDispatchTransitionEvents(goog.ui.Component.State.OPENED,!0),!this.isFocusable()&&this.isFocusableChildrenAllowed()||e.setSupportedState(goog.ui.Component.State.FOCUSED,!1),e.setHandleMouseEvents(!1);var n=e.getParent()==this?this.indexOfChild(e):-1;goog.ui.Container.superClass_.addChildAt.call(this,e,t,o),e.isInDocument()&&this.isInDocument()&&this.registerChildId_(e),this.updateHighlightedIndex_(n,t)},goog.ui.Container.prototype.updateHighlightedIndex_=function(e,t){-1==e&&(e=this.getChildCount()),e==this.highlightedIndex_?this.highlightedIndex_=Math.min(this.getChildCount()-1,t):e>this.highlightedIndex_&&t<=this.highlightedIndex_?this.highlightedIndex_++:e<this.highlightedIndex_&&t>this.highlightedIndex_&&this.highlightedIndex_--},goog.ui.Container.prototype.removeChild=function(e,t){if(e=goog.isString(e)?this.getChild(e):e,goog.asserts.assertInstanceof(e,goog.ui.Control),e){var o=this.indexOfChild(e);-1!=o&&(o==this.highlightedIndex_?(e.setHighlighted(!1),this.highlightedIndex_=-1):o<this.highlightedIndex_&&this.highlightedIndex_--),(o=e.getElement())&&o.id&&this.childElementIdMap_&&goog.object.remove(this.childElementIdMap_,o.id)}return e=goog.ui.Container.superClass_.removeChild.call(this,e,t),e.setHandleMouseEvents(!0),e},goog.ui.Container.prototype.getOrientation=function(){return this.orientation_},goog.ui.Container.prototype.setOrientation=function(e){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.orientation_=e},goog.ui.Container.prototype.isVisible=function(){return this.visible_},goog.ui.Container.prototype.setVisible=function(e,t){if(t||this.visible_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.SHOW:goog.ui.Component.EventType.HIDE)){this.visible_=e;var o=this.getElement();return o&&(goog.style.setElementShown(o,e),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),this.enabled_&&this.visible_),t||this.dispatchEvent(this.visible_?goog.ui.Container.EventType.AFTER_SHOW:goog.ui.Container.EventType.AFTER_HIDE)),!0}return!1},goog.ui.Container.prototype.isEnabled=function(){return this.enabled_},goog.ui.Container.prototype.setEnabled=function(e){this.enabled_!=e&&this.dispatchEvent(e?goog.ui.Component.EventType.ENABLE:goog.ui.Component.EventType.DISABLE)&&(e?(this.enabled_=!0,this.forEachChild(function(e){e.wasDisabled?delete e.wasDisabled:e.setEnabled(!0)})):(this.forEachChild(function(e){e.isEnabled()?e.setEnabled(!1):e.wasDisabled=!0}),this.enabled_=!1,this.setMouseButtonPressed(!1)),this.isFocusable()&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),e&&this.visible_))},goog.ui.Container.prototype.isFocusable=function(){return this.focusable_},goog.ui.Container.prototype.setFocusable=function(e){e!=this.focusable_&&this.isInDocument()&&this.enableFocusHandling_(e),this.focusable_=e,this.enabled_&&this.visible_&&this.renderer_.enableTabIndex(this.getKeyEventTarget(),e)},goog.ui.Container.prototype.isFocusableChildrenAllowed=function(){return this.allowFocusableChildren_},goog.ui.Container.prototype.setFocusableChildrenAllowed=function(e){this.allowFocusableChildren_=e},goog.ui.Container.prototype.isOpenFollowsHighlight=function(){return this.openFollowsHighlight_},goog.ui.Container.prototype.setOpenFollowsHighlight=function(e){this.openFollowsHighlight_=e},goog.ui.Container.prototype.getHighlightedIndex=function(){return this.highlightedIndex_},goog.ui.Container.prototype.setHighlightedIndex=function(e){(e=this.getChildAt(e))?e.setHighlighted(!0):-1<this.highlightedIndex_&&this.getHighlighted().setHighlighted(!1)},goog.ui.Container.prototype.setHighlighted=function(e){this.setHighlightedIndex(this.indexOfChild(e))},goog.ui.Container.prototype.getHighlighted=function(){return this.getChildAt(this.highlightedIndex_)},goog.ui.Container.prototype.highlightFirst=function(){this.highlightHelper(function(e,t){return(e+1)%t},this.getChildCount()-1)},goog.ui.Container.prototype.highlightLast=function(){this.highlightHelper(function(e,t){return e--,0>e?t-1:e},0)},goog.ui.Container.prototype.highlightNext=function(){this.highlightHelper(function(e,t){return(e+1)%t},this.highlightedIndex_)},goog.ui.Container.prototype.highlightPrevious=function(){this.highlightHelper(function(e,t){return e--,0>e?t-1:e},this.highlightedIndex_)},goog.ui.Container.prototype.highlightHelper=function(e,t){for(var o=0>t?this.indexOfChild(this.openItem_):t,n=this.getChildCount(),o=e.call(this,o,n),r=0;n>=r;){var i=this.getChildAt(o);if(i&&this.canHighlightItem(i))return this.setHighlightedIndexFromKeyEvent(o),!0;r++,o=e.call(this,o,n)}return!1},goog.ui.Container.prototype.canHighlightItem=function(e){return e.isVisible()&&e.isEnabled()&&e.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Container.prototype.setHighlightedIndexFromKeyEvent=function(e){this.setHighlightedIndex(e)},goog.ui.Container.prototype.getOpenItem=function(){return this.openItem_},goog.ui.Container.prototype.isMouseButtonPressed=function(){return this.mouseButtonPressed_},goog.ui.Container.prototype.setMouseButtonPressed=function(e){this.mouseButtonPressed_=e},goog.ui.MenuHeaderRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuHeaderRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuHeaderRenderer),goog.ui.MenuHeaderRenderer.CSS_CLASS="goog-menuheader",goog.ui.MenuHeaderRenderer.prototype.getCssClass=function(){return goog.ui.MenuHeaderRenderer.CSS_CLASS},goog.ui.MenuHeader=function(e,t,o){goog.ui.Control.call(this,e,o||goog.ui.MenuHeaderRenderer.getInstance(),t),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.MenuHeader,goog.ui.Control),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuHeaderRenderer.CSS_CLASS,function(){return new goog.ui.MenuHeader(null)}),goog.ui.MenuItemRenderer=function(){goog.ui.ControlRenderer.call(this),this.classNameCache_=[]},goog.inherits(goog.ui.MenuItemRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuItemRenderer),goog.ui.MenuItemRenderer.CSS_CLASS="goog-menuitem",goog.ui.MenuItemRenderer.CompositeCssClassIndex_={HOVER:0,CHECKBOX:1,CONTENT:2},goog.ui.MenuItemRenderer.prototype.getCompositeCssClass_=function(e){var t=this.classNameCache_[e];if(!t){switch(e){case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER:t=this.getStructuralCssClass()+"-highlight";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX:t=this.getStructuralCssClass()+"-checkbox";break;case goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT:t=this.getStructuralCssClass()+"-content"}this.classNameCache_[e]=t}return t},goog.ui.MenuItemRenderer.prototype.getAriaRole=function(){return goog.a11y.aria.Role.MENU_ITEM},goog.ui.MenuItemRenderer.prototype.createDom=function(e){var t=e.getDomHelper().createDom(goog.dom.TagName.DIV,this.getClassNames(e).join(" "),this.createContent(e.getContent(),e.getDomHelper()));return this.setEnableCheckBoxStructure(e,t,e.isSupportedState(goog.ui.Component.State.SELECTED)||e.isSupportedState(goog.ui.Component.State.CHECKED)),t},goog.ui.MenuItemRenderer.prototype.getContentElement=function(e){return e&&e.firstChild},goog.ui.MenuItemRenderer.prototype.decorate=function(e,t){return goog.asserts.assert(t),this.hasContentStructure(t)||t.appendChild(this.createContent(t.childNodes,e.getDomHelper())),goog.dom.classlist.contains(t,"goog-option")&&(e.setCheckable(!0),this.setCheckable(e,t,!0)),goog.ui.MenuItemRenderer.superClass_.decorate.call(this,e,t)},goog.ui.MenuItemRenderer.prototype.setContent=function(e,t){var o=this.getContentElement(e),n=this.hasCheckBoxStructure(e)?o.firstChild:null;goog.ui.MenuItemRenderer.superClass_.setContent.call(this,e,t),n&&!this.hasCheckBoxStructure(e)&&o.insertBefore(n,o.firstChild||null)},goog.ui.MenuItemRenderer.prototype.hasContentStructure=function(e){e=goog.dom.getFirstElementChild(e);var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return!!e&&goog.dom.classlist.contains(e,t)},goog.ui.MenuItemRenderer.prototype.createContent=function(e,t){var o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CONTENT);return t.createDom(goog.dom.TagName.DIV,o,e)},goog.ui.MenuItemRenderer.prototype.setSelectable=function(e,t,o){e&&t&&this.setEnableCheckBoxStructure(e,t,o)},goog.ui.MenuItemRenderer.prototype.setCheckable=function(e,t,o){e&&t&&this.setEnableCheckBoxStructure(e,t,o)},goog.ui.MenuItemRenderer.prototype.hasCheckBoxStructure=function(e){if(e=this.getContentElement(e)){e=e.firstChild;var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX);return!!e&&goog.dom.isElement(e)&&goog.dom.classlist.contains(e,t)}return!1},goog.ui.MenuItemRenderer.prototype.setEnableCheckBoxStructure=function(e,t,o){this.setAriaRole(t,e.getPreferredAriaRole()),this.setAriaStates(e,t),o!=this.hasCheckBoxStructure(t)&&(goog.dom.classlist.enable(t,"goog-option",o),t=this.getContentElement(t),o?(o=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.CHECKBOX),t.insertBefore(e.getDomHelper().createDom(goog.dom.TagName.DIV,o),t.firstChild||null)):t.removeChild(t.firstChild))},goog.ui.MenuItemRenderer.prototype.getClassForState=function(e){switch(e){case goog.ui.Component.State.HOVER:return this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);case goog.ui.Component.State.CHECKED:case goog.ui.Component.State.SELECTED:return"goog-option-selected";default:return goog.ui.MenuItemRenderer.superClass_.getClassForState.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getStateFromClass=function(e){var t=this.getCompositeCssClass_(goog.ui.MenuItemRenderer.CompositeCssClassIndex_.HOVER);switch(e){case"goog-option-selected":return goog.ui.Component.State.CHECKED;case t:return goog.ui.Component.State.HOVER;default:return goog.ui.MenuItemRenderer.superClass_.getStateFromClass.call(this,e)}},goog.ui.MenuItemRenderer.prototype.getCssClass=function(){return goog.ui.MenuItemRenderer.CSS_CLASS},goog.ui.MenuItem=function(e,t,o,n){goog.ui.Control.call(this,e,n||goog.ui.MenuItemRenderer.getInstance(),o),this.setValue(t)},goog.inherits(goog.ui.MenuItem,goog.ui.Control),goog.tagUnsealableClass(goog.ui.MenuItem),goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_="goog-menuitem-mnemonic-separator",goog.ui.MenuItem.ACCELERATOR_CLASS="goog-menuitem-accel",goog.ui.MenuItem.prototype.getValue=function(){var e=this.getModel();return null!=e?e:this.getCaption()},goog.ui.MenuItem.prototype.setValue=function(e){this.setModel(e)},goog.ui.MenuItem.prototype.setSupportedState=function(e,t){switch(goog.ui.MenuItem.superClass_.setSupportedState.call(this,e,t),e){case goog.ui.Component.State.SELECTED:this.setSelectableInternal_(t);break;case goog.ui.Component.State.CHECKED:this.setCheckableInternal_(t)}},goog.ui.MenuItem.prototype.setSelectable=function(e){this.setSupportedState(goog.ui.Component.State.SELECTED,e)},goog.ui.MenuItem.prototype.setSelectableInternal_=function(e){this.isChecked()&&!e&&this.setChecked(!1);var t=this.getElement();t&&this.getRenderer().setSelectable(this,t,e)},goog.ui.MenuItem.prototype.setCheckable=function(e){this.setSupportedState(goog.ui.Component.State.CHECKED,e)},goog.ui.MenuItem.prototype.setCheckableInternal_=function(e){var t=this.getElement();t&&this.getRenderer().setCheckable(this,t,e)},goog.ui.MenuItem.prototype.getCaption=function(){var e=this.getContent();if(goog.isArray(e)){var t=goog.ui.MenuItem.ACCELERATOR_CLASS,o=goog.ui.MenuItem.MNEMONIC_WRAPPER_CLASS_,e=goog.array.map(e,function(e){return goog.dom.isElement(e)&&(goog.dom.classlist.contains(e,t)||goog.dom.classlist.contains(e,o))?"":goog.dom.getRawTextContent(e)}).join("");return goog.string.collapseBreakingSpaces(e)}return goog.ui.MenuItem.superClass_.getCaption.call(this)},goog.ui.MenuItem.prototype.getAccelerator=function(){var e=this.getDomHelper(),t=this.getContent();return goog.isArray(t)&&(t=goog.array.find(t,function(e){return goog.dom.classlist.contains(e,goog.ui.MenuItem.ACCELERATOR_CLASS)}))?e.getTextContent(t):null},goog.ui.MenuItem.prototype.handleMouseUp=function(e){var t=this.getParent();if(t){var o=t.openingCoords;if(t.openingCoords=null,o&&goog.isNumber(e.clientX)&&(t=new goog.math.Coordinate(e.clientX,e.clientY),goog.math.Coordinate.equals(o,t)))return}goog.ui.MenuItem.superClass_.handleMouseUp.call(this,e)},goog.ui.MenuItem.prototype.handleKeyEventInternal=function(e){return e.keyCode==this.getMnemonic()&&this.performActionInternal(e)?!0:goog.ui.MenuItem.superClass_.handleKeyEventInternal.call(this,e)},goog.ui.MenuItem.prototype.setMnemonic=function(e){this.mnemonicKey_=e},goog.ui.MenuItem.prototype.getMnemonic=function(){return this.mnemonicKey_},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuItemRenderer.CSS_CLASS,function(){return new goog.ui.MenuItem(null)}),goog.ui.MenuItem.prototype.getPreferredAriaRole=function(){return this.isSupportedState(goog.ui.Component.State.CHECKED)?goog.a11y.aria.Role.MENU_ITEM_CHECKBOX:this.isSupportedState(goog.ui.Component.State.SELECTED)?goog.a11y.aria.Role.MENU_ITEM_RADIO:goog.ui.MenuItem.superClass_.getPreferredAriaRole.call(this)},goog.ui.MenuItem.prototype.getParent=function(){return goog.ui.Control.prototype.getParent.call(this)},goog.ui.MenuItem.prototype.getParentEventTarget=function(){return goog.ui.Control.prototype.getParentEventTarget.call(this)},goog.ui.MenuSeparatorRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.MenuSeparatorRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.MenuSeparatorRenderer),goog.ui.MenuSeparatorRenderer.CSS_CLASS="goog-menuseparator",goog.ui.MenuSeparatorRenderer.prototype.createDom=function(e){return e.getDomHelper().createDom(goog.dom.TagName.DIV,this.getCssClass())},goog.ui.MenuSeparatorRenderer.prototype.decorate=function(e,t){if(t.id&&e.setId(t.id),t.tagName==goog.dom.TagName.HR){var o=t;t=this.createDom(e),goog.dom.insertSiblingBefore(t,o),goog.dom.removeNode(o)}else goog.dom.classlist.add(t,this.getCssClass());return t},goog.ui.MenuSeparatorRenderer.prototype.setContent=function(e,t){},goog.ui.MenuSeparatorRenderer.prototype.getCssClass=function(){return goog.ui.MenuSeparatorRenderer.CSS_CLASS},goog.ui.Separator=function(e,t){goog.ui.Control.call(this,null,e||goog.ui.MenuSeparatorRenderer.getInstance(),t),this.setSupportedState(goog.ui.Component.State.DISABLED,!1),this.setSupportedState(goog.ui.Component.State.HOVER,!1),this.setSupportedState(goog.ui.Component.State.ACTIVE,!1),this.setSupportedState(goog.ui.Component.State.FOCUSED,!1),this.setStateInternal(goog.ui.Component.State.DISABLED)},goog.inherits(goog.ui.Separator,goog.ui.Control),goog.ui.Separator.prototype.enterDocument=function(){goog.ui.Separator.superClass_.enterDocument.call(this);var e=this.getElement();goog.asserts.assert(e,"The DOM element for the separator cannot be null."),goog.a11y.aria.setRole(e,"separator")},goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator}),goog.ui.MenuRenderer=function(e){goog.ui.ContainerRenderer.call(this,e||goog.a11y.aria.Role.MENU)},goog.inherits(goog.ui.MenuRenderer,goog.ui.ContainerRenderer),goog.addSingletonGetter(goog.ui.MenuRenderer),goog.ui.MenuRenderer.CSS_CLASS="goog-menu",goog.ui.MenuRenderer.prototype.canDecorate=function(e){return e.tagName==goog.dom.TagName.UL||goog.ui.MenuRenderer.superClass_.canDecorate.call(this,e)},goog.ui.MenuRenderer.prototype.getDecoratorForChild=function(e){return e.tagName==goog.dom.TagName.HR?new goog.ui.Separator:goog.ui.MenuRenderer.superClass_.getDecoratorForChild.call(this,e)},goog.ui.MenuRenderer.prototype.containsElement=function(e,t){return goog.dom.contains(e.getElement(),t)},goog.ui.MenuRenderer.prototype.getCssClass=function(){return goog.ui.MenuRenderer.CSS_CLASS},goog.ui.MenuRenderer.prototype.initializeDom=function(e){goog.ui.MenuRenderer.superClass_.initializeDom.call(this,e),e=e.getElement(),goog.asserts.assert(e,"The menu DOM element cannot be null."),goog.a11y.aria.setState(e,goog.a11y.aria.State.HASPOPUP,"true")},goog.ui.MenuSeparator=function(e){goog.ui.Separator.call(this,goog.ui.MenuSeparatorRenderer.getInstance(),e)},goog.inherits(goog.ui.MenuSeparator,goog.ui.Separator),goog.ui.registry.setDecoratorByClassName(goog.ui.MenuSeparatorRenderer.CSS_CLASS,function(){return new goog.ui.Separator}),goog.ui.Menu=function(e,t){goog.ui.Container.call(this,goog.ui.Container.Orientation.VERTICAL,t||goog.ui.MenuRenderer.getInstance(),e),this.setFocusable(!1)},goog.inherits(goog.ui.Menu,goog.ui.Container),goog.tagUnsealableClass(goog.ui.Menu),goog.ui.Menu.EventType={BEFORE_SHOW:goog.ui.Component.EventType.BEFORE_SHOW,SHOW:goog.ui.Component.EventType.SHOW,BEFORE_HIDE:goog.ui.Component.EventType.HIDE,HIDE:goog.ui.Component.EventType.HIDE},goog.ui.Menu.CSS_CLASS=goog.ui.MenuRenderer.CSS_CLASS,goog.ui.Menu.prototype.allowAutoFocus_=!0,goog.ui.Menu.prototype.allowHighlightDisabled_=!1,goog.ui.Menu.prototype.getCssClass=function(){return this.getRenderer().getCssClass()},goog.ui.Menu.prototype.containsElement=function(e){if(this.getRenderer().containsElement(this,e))return!0;for(var t=0,o=this.getChildCount();o>t;t++){var n=this.getChildAt(t);if("function"==typeof n.containsElement&&n.containsElement(e))return!0}return!1},goog.ui.Menu.prototype.addItem=function(e){this.addChild(e,!0)},goog.ui.Menu.prototype.addItemAt=function(e,t){this.addChildAt(e,t,!0)},goog.ui.Menu.prototype.removeItem=function(e){(e=this.removeChild(e,!0))&&e.dispose()},goog.ui.Menu.prototype.removeItemAt=function(e){(e=this.removeChildAt(e,!0))&&e.dispose()},goog.ui.Menu.prototype.getItemAt=function(e){return this.getChildAt(e)},goog.ui.Menu.prototype.getItemCount=function(){return this.getChildCount()},goog.ui.Menu.prototype.getItems=function(){var e=[];return this.forEachChild(function(t){e.push(t)}),e},goog.ui.Menu.prototype.setPosition=function(e,t){var o=this.isVisible();o||goog.style.setElementShown(this.getElement(),!0),goog.style.setPageOffset(this.getElement(),e,t),o||goog.style.setElementShown(this.getElement(),!1)},goog.ui.Menu.prototype.getPosition=function(){return this.isVisible()?goog.style.getPageOffset(this.getElement()):null},goog.ui.Menu.prototype.setAllowAutoFocus=function(e){(this.allowAutoFocus_=e)&&this.setFocusable(!0)},goog.ui.Menu.prototype.getAllowAutoFocus=function(){return this.allowAutoFocus_},goog.ui.Menu.prototype.setAllowHighlightDisabled=function(e){this.allowHighlightDisabled_=e;
},goog.ui.Menu.prototype.getAllowHighlightDisabled=function(){return this.allowHighlightDisabled_},goog.ui.Menu.prototype.setVisible=function(e,t,o){return(t=goog.ui.Menu.superClass_.setVisible.call(this,e,t))&&e&&this.isInDocument()&&this.allowAutoFocus_&&this.getKeyEventTarget().focus(),e&&o&&goog.isNumber(o.clientX)?this.openingCoords=new goog.math.Coordinate(o.clientX,o.clientY):this.openingCoords=null,t},goog.ui.Menu.prototype.handleEnterItem=function(e){return this.allowAutoFocus_&&this.getKeyEventTarget().focus(),goog.ui.Menu.superClass_.handleEnterItem.call(this,e)},goog.ui.Menu.prototype.highlightNextPrefix=function(e){var t=new RegExp("^"+goog.string.regExpEscape(e),"i");return this.highlightHelper(function(e,o){var n=0>e?0:e,r=!1;do{++e,e==o&&(e=0,r=!0);var i=this.getChildAt(e).getCaption();if(i&&i.match(t))return e}while(!r||e!=n);return this.getHighlightedIndex()},this.getHighlightedIndex())},goog.ui.Menu.prototype.canHighlightItem=function(e){return(this.allowHighlightDisabled_||e.isEnabled())&&e.isVisible()&&e.isSupportedState(goog.ui.Component.State.HOVER)},goog.ui.Menu.prototype.decorateInternal=function(e){this.decorateContent(e),goog.ui.Menu.superClass_.decorateInternal.call(this,e)},goog.ui.Menu.prototype.handleKeyEventInternal=function(e){var t=goog.ui.Menu.superClass_.handleKeyEventInternal.call(this,e);return t||this.forEachChild(function(o){!t&&o.getMnemonic&&o.getMnemonic()==e.keyCode&&(this.isEnabled()&&this.setHighlighted(o),t=o.handleKeyEvent(e))},this),t},goog.ui.Menu.prototype.setHighlightedIndex=function(e){goog.ui.Menu.superClass_.setHighlightedIndex.call(this,e),(e=this.getChildAt(e))&&goog.style.scrollIntoContainerView(e.getElement(),this.getElement())},goog.ui.Menu.prototype.decorateContent=function(e){var t=this.getRenderer();e=this.getDomHelper().getElementsByTagNameAndClass(goog.dom.TagName.DIV,t.getCssClass()+"-content",e);for(var o=e.length,n=0;o>n;n++)t.decorateChildren(this,e[n])},goog.color={},goog.color.names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},goog.color.parse=function(e){var t={};e=String(e);var o=goog.color.prependHashIfNecessaryHelper(e);if(goog.color.isValidHexColor_(o))return t.hex=goog.color.normalizeHex(o),t.type="hex",t;if(o=goog.color.isValidRgbColor_(e),o.length)return t.hex=goog.color.rgbArrayToHex(o),t.type="rgb",t;if(goog.color.names&&(o=goog.color.names[e.toLowerCase()]))return t.hex=o,t.type="named",t;throw Error(e+" is not a valid color string")},goog.color.isValidColor=function(e){var t=goog.color.prependHashIfNecessaryHelper(e);return!!(goog.color.isValidHexColor_(t)||goog.color.isValidRgbColor_(e).length||goog.color.names&&goog.color.names[e.toLowerCase()])},goog.color.parseRgb=function(e){var t=goog.color.isValidRgbColor_(e);if(!t.length)throw Error(e+" is not a valid RGB color");return t},goog.color.hexToRgbStyle=function(e){return goog.color.rgbStyle_(goog.color.hexToRgb(e))},goog.color.hexTripletRe_=/#(.)(.)(.)/,goog.color.normalizeHex=function(e){if(!goog.color.isValidHexColor_(e))throw Error("'"+e+"' is not a valid hex color");return 4==e.length&&(e=e.replace(goog.color.hexTripletRe_,"#$1$1$2$2$3$3")),e.toLowerCase()},goog.color.hexToRgb=function(e){e=goog.color.normalizeHex(e);var t=parseInt(e.substr(1,2),16),o=parseInt(e.substr(3,2),16);return e=parseInt(e.substr(5,2),16),[t,o,e]},goog.color.rgbToHex=function(e,t,o){if(e=Number(e),t=Number(t),o=Number(o),e!=(255&e)||t!=(255&t)||o!=(255&o))throw Error('"('+e+","+t+","+o+'") is not a valid RGB color');return e=goog.color.prependZeroIfNecessaryHelper(e.toString(16)),t=goog.color.prependZeroIfNecessaryHelper(t.toString(16)),o=goog.color.prependZeroIfNecessaryHelper(o.toString(16)),"#"+e+t+o},goog.color.rgbArrayToHex=function(e){return goog.color.rgbToHex(e[0],e[1],e[2])},goog.color.rgbToHsl=function(e,t,o){e/=255,t/=255,o/=255;var n=Math.max(e,t,o),r=Math.min(e,t,o),i=0,s=0,a=.5*(n+r);return n!=r&&(n==e?i=60*(t-o)/(n-r):n==t?i=60*(o-e)/(n-r)+120:n==o&&(i=60*(e-t)/(n-r)+240),s=a>0&&.5>=a?(n-r)/(2*a):(n-r)/(2-2*a)),[Math.round(i+360)%360,s,a]},goog.color.rgbArrayToHsl=function(e){return goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hueToRgb_=function(e,t,o){return 0>o?o+=1:o>1&&--o,1>6*o?e+6*(t-e)*o:1>2*o?t:2>3*o?e+(t-e)*(2/3-o)*6:e},goog.color.hslToRgb=function(e,t,o){var n=0,r=0,i=0;if(e/=360,0==t)n=r=i=255*o;else var s=i=0,s=.5>o?o*(1+t):o+t-t*o,i=2*o-s,n=255*goog.color.hueToRgb_(i,s,e+1/3),r=255*goog.color.hueToRgb_(i,s,e),i=255*goog.color.hueToRgb_(i,s,e-1/3);return[Math.round(n),Math.round(r),Math.round(i)]},goog.color.hslArrayToRgb=function(e){return goog.color.hslToRgb(e[0],e[1],e[2])},goog.color.validHexColorRe_=/^#(?:[0-9a-f]{3}){1,2}$/i,goog.color.isValidHexColor_=function(e){return goog.color.validHexColorRe_.test(e)},goog.color.normalizedHexColorRe_=/^#[0-9a-f]{6}$/,goog.color.isNormalizedHexColor_=function(e){return goog.color.normalizedHexColorRe_.test(e)},goog.color.rgbColorRe_=/^(?:rgb)?\((0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2}),\s?(0|[1-9]\d{0,2})\)$/i,goog.color.isValidRgbColor_=function(e){var t=e.match(goog.color.rgbColorRe_);if(t){e=Number(t[1]);var o=Number(t[2]),t=Number(t[3]);if(e>=0&&255>=e&&o>=0&&255>=o&&t>=0&&255>=t)return[e,o,t]}return[]},goog.color.prependZeroIfNecessaryHelper=function(e){return 1==e.length?"0"+e:e},goog.color.prependHashIfNecessaryHelper=function(e){return"#"==e.charAt(0)?e:"#"+e},goog.color.rgbStyle_=function(e){return"rgb("+e.join(",")+")"},goog.color.hsvToRgb=function(e,t,o){var n=0,r=0,i=0;if(0==t)i=r=n=o;else{var s=Math.floor(e/60),a=e/60-s;e=o*(1-t);var l=o*(1-t*a);switch(t=o*(1-t*(1-a)),s){case 1:n=l,r=o,i=e;break;case 2:n=e,r=o,i=t;break;case 3:n=e,r=l,i=o;break;case 4:n=t,r=e,i=o;break;case 5:n=o,r=e,i=l;break;case 6:case 0:n=o,r=t,i=e}}return[Math.floor(n),Math.floor(r),Math.floor(i)]},goog.color.rgbToHsv=function(e,t,o){var n=Math.max(Math.max(e,t),o),r=Math.min(Math.min(e,t),o);if(r==n)r=e=0;else{var i=n-r,r=i/n;e=60*(e==n?(t-o)/i:t==n?2+(o-e)/i:4+(e-t)/i),0>e&&(e+=360),e>360&&(e-=360)}return[e,r,n]},goog.color.rgbArrayToHsv=function(e){return goog.color.rgbToHsv(e[0],e[1],e[2])},goog.color.hsvArrayToRgb=function(e){return goog.color.hsvToRgb(e[0],e[1],e[2])},goog.color.hexToHsl=function(e){return e=goog.color.hexToRgb(e),goog.color.rgbToHsl(e[0],e[1],e[2])},goog.color.hslToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e,t,o))},goog.color.hslArrayToHex=function(e){return goog.color.rgbArrayToHex(goog.color.hslToRgb(e[0],e[1],e[2]))},goog.color.hexToHsv=function(e){return goog.color.rgbArrayToHsv(goog.color.hexToRgb(e))},goog.color.hsvToHex=function(e,t,o){return goog.color.rgbArrayToHex(goog.color.hsvToRgb(e,t,o))},goog.color.hsvArrayToHex=function(e){return goog.color.hsvToHex(e[0],e[1],e[2])},goog.color.hslDistance=function(e,t){var o,n;return o=.5>=e[2]?e[1]*e[2]:e[1]*(1-e[2]),n=.5>=t[2]?t[1]*t[2]:t[1]*(1-t[2]),(e[2]-t[2])*(e[2]-t[2])+o*o+n*n-2*o*n*Math.cos(2*(e[0]/360-t[0]/360)*Math.PI)},goog.color.blend=function(e,t,o){return o=goog.math.clamp(o,0,1),[Math.round(o*e[0]+(1-o)*t[0]),Math.round(o*e[1]+(1-o)*t[1]),Math.round(o*e[2]+(1-o)*t[2])]},goog.color.darken=function(e,t){return goog.color.blend([0,0,0],e,t)},goog.color.lighten=function(e,t){return goog.color.blend([255,255,255],e,t)},goog.color.highContrast=function(e,t){for(var o=[],n=0;n<t.length;n++)o.push({color:t[n],diff:goog.color.yiqBrightnessDiff_(t[n],e)+goog.color.colorDiff_(t[n],e)});return o.sort(function(e,t){return t.diff-e.diff}),o[0].color},goog.color.yiqBrightness_=function(e){return Math.round((299*e[0]+587*e[1]+114*e[2])/1e3)},goog.color.yiqBrightnessDiff_=function(e,t){return Math.abs(goog.color.yiqBrightness_(e)-goog.color.yiqBrightness_(t))},goog.color.colorDiff_=function(e,t){return Math.abs(e[0]-t[0])+Math.abs(e[1]-t[1])+Math.abs(e[2]-t[2])},goog.iter={},goog.iter.StopIteration="StopIteration"in goog.global?goog.global.StopIteration:{message:"StopIteration",stack:""},goog.iter.Iterator=function(){},goog.iter.Iterator.prototype.next=function(){throw goog.iter.StopIteration},goog.iter.Iterator.prototype.__iterator__=function(e){return this},goog.iter.toIterator=function(e){if(e instanceof goog.iter.Iterator)return e;if("function"==typeof e.__iterator__)return e.__iterator__(!1);if(goog.isArrayLike(e)){var t=0,o=new goog.iter.Iterator;return o.next=function(){for(;;){if(t>=e.length)throw goog.iter.StopIteration;if(t in e)return e[t++];t++}},o}throw Error("Not implemented")},goog.iter.forEach=function(e,t,o){if(goog.isArrayLike(e))try{goog.array.forEach(e,t,o)}catch(n){if(n!==goog.iter.StopIteration)throw n}else{e=goog.iter.toIterator(e);try{for(;;)t.call(o,e.next(),void 0,e)}catch(n){if(n!==goog.iter.StopIteration)throw n}}},goog.iter.filter=function(e,t,o){var n=goog.iter.toIterator(e);return e=new goog.iter.Iterator,e.next=function(){for(;;){var e=n.next();if(t.call(o,e,void 0,n))return e}},e},goog.iter.filterFalse=function(e,t,o){return goog.iter.filter(e,goog.functions.not(t),o)},goog.iter.range=function(e,t,o){var n=0,r=e,i=o||1;if(1<arguments.length&&(n=e,r=t),0==i)throw Error("Range step argument must not be zero");var s=new goog.iter.Iterator;return s.next=function(){if(i>0&&n>=r||0>i&&r>=n)throw goog.iter.StopIteration;var e=n;return n+=i,e},s},goog.iter.join=function(e,t){return goog.iter.toArray(e).join(t)},goog.iter.map=function(e,t,o){var n=goog.iter.toIterator(e);return e=new goog.iter.Iterator,e.next=function(){var e=n.next();return t.call(o,e,void 0,n)},e},goog.iter.reduce=function(e,t,o,n){var r=o;return goog.iter.forEach(e,function(e){r=t.call(n,r,e)}),r},goog.iter.some=function(e,t,o){e=goog.iter.toIterator(e);try{for(;;)if(t.call(o,e.next(),void 0,e))return!0}catch(n){if(n!==goog.iter.StopIteration)throw n}return!1},goog.iter.every=function(e,t,o){e=goog.iter.toIterator(e);try{for(;;)if(!t.call(o,e.next(),void 0,e))return!1}catch(n){if(n!==goog.iter.StopIteration)throw n}return!0},goog.iter.chain=function(e){return goog.iter.chainFromIterable(arguments)},goog.iter.chainFromIterable=function(e){var t=goog.iter.toIterator(e);e=new goog.iter.Iterator;var o=null;return e.next=function(){for(;;){if(null==o){var e=t.next();o=goog.iter.toIterator(e)}try{return o.next()}catch(n){if(n!==goog.iter.StopIteration)throw n;o=null}}},e},goog.iter.dropWhile=function(e,t,o){var n=goog.iter.toIterator(e);e=new goog.iter.Iterator;var r=!0;return e.next=function(){for(;;){var e=n.next();if(!r||!t.call(o,e,void 0,n))return r=!1,e}},e},goog.iter.takeWhile=function(e,t,o){var n=goog.iter.toIterator(e);return e=new goog.iter.Iterator,e.next=function(){var e=n.next();if(t.call(o,e,void 0,n))return e;throw goog.iter.StopIteration},e},goog.iter.toArray=function(e){if(goog.isArrayLike(e))return goog.array.toArray(e);e=goog.iter.toIterator(e);var t=[];return goog.iter.forEach(e,function(e){t.push(e)}),t},goog.iter.equals=function(e,t,o){e=goog.iter.zipLongest({},e,t);var n=o||goog.array.defaultCompareEquality;return goog.iter.every(e,function(e){return n(e[0],e[1])})},goog.iter.nextOrValue=function(e,t){try{return goog.iter.toIterator(e).next()}catch(o){if(o!=goog.iter.StopIteration)throw o;return t}},goog.iter.product=function(e){if(goog.array.some(arguments,function(e){return!e.length})||!arguments.length)return new goog.iter.Iterator;var t=new goog.iter.Iterator,o=arguments,n=goog.array.repeat(0,o.length);return t.next=function(){if(n){for(var e=goog.array.map(n,function(e,t){return o[t][e]}),t=n.length-1;t>=0;t--){if(goog.asserts.assert(n),n[t]<o[t].length-1){n[t]++;break}if(0==t){n=null;break}n[t]=0}return e}throw goog.iter.StopIteration},t},goog.iter.cycle=function(e){var t=goog.iter.toIterator(e),o=[],n=0;e=new goog.iter.Iterator;var r=!1;return e.next=function(){var e=null;if(!r)try{return e=t.next(),o.push(e),e}catch(i){if(i!=goog.iter.StopIteration||goog.array.isEmpty(o))throw i;r=!0}return e=o[n],n=(n+1)%o.length,e},e},goog.iter.count=function(e,t){var o=e||0,n=goog.isDef(t)?t:1,r=new goog.iter.Iterator;return r.next=function(){var e=o;return o+=n,e},r},goog.iter.repeat=function(e){var t=new goog.iter.Iterator;return t.next=goog.functions.constant(e),t},goog.iter.accumulate=function(e){var t=goog.iter.toIterator(e),o=0;return e=new goog.iter.Iterator,e.next=function(){return o+=t.next()},e},goog.iter.zip=function(e){var t=arguments,o=new goog.iter.Iterator;if(0<t.length){var n=goog.array.map(t,goog.iter.toIterator);o.next=function(){return goog.array.map(n,function(e){return e.next()})}}return o},goog.iter.zipLongest=function(e,t){var o=goog.array.slice(arguments,1),n=new goog.iter.Iterator;if(0<o.length){var r=goog.array.map(o,goog.iter.toIterator);n.next=function(){var t=!1,o=goog.array.map(r,function(o){var n;try{n=o.next(),t=!0}catch(r){if(r!==goog.iter.StopIteration)throw r;n=e}return n});if(!t)throw goog.iter.StopIteration;return o}}return n},goog.iter.compress=function(e,t){var o=goog.iter.toIterator(t);return goog.iter.filter(e,function(){return!!o.next()})},goog.iter.GroupByIterator_=function(e,t){this.iterator=goog.iter.toIterator(e),this.keyFunc=t||goog.functions.identity},goog.inherits(goog.iter.GroupByIterator_,goog.iter.Iterator),goog.iter.GroupByIterator_.prototype.next=function(){for(;this.currentKey==this.targetKey;)this.currentValue=this.iterator.next(),this.currentKey=this.keyFunc(this.currentValue);return this.targetKey=this.currentKey,[this.currentKey,this.groupItems_(this.targetKey)]},goog.iter.GroupByIterator_.prototype.groupItems_=function(e){for(var t=[];this.currentKey==e;){t.push(this.currentValue);try{this.currentValue=this.iterator.next()}catch(o){if(o!==goog.iter.StopIteration)throw o;break}this.currentKey=this.keyFunc(this.currentValue)}return t},goog.iter.groupBy=function(e,t){return new goog.iter.GroupByIterator_(e,t)},goog.iter.starMap=function(e,t,o){var n=goog.iter.toIterator(e);return e=new goog.iter.Iterator,e.next=function(){var e=goog.iter.toArray(n.next());return t.apply(o,goog.array.concat(e,void 0,n))},e},goog.iter.tee=function(e,t){var o=goog.iter.toIterator(e),n=goog.isNumber(t)?t:2,r=goog.array.map(goog.array.range(n),function(){return[]}),i=function(){var e=o.next();goog.array.forEach(r,function(t){t.push(e)})};return goog.array.map(r,function(e){var t=new goog.iter.Iterator;return t.next=function(){return goog.array.isEmpty(e)&&i(),goog.asserts.assert(!goog.array.isEmpty(e)),e.shift()},t})},goog.iter.enumerate=function(e,t){return goog.iter.zip(goog.iter.count(t),e)},goog.iter.limit=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&t>=0);var o=goog.iter.toIterator(e),n=new goog.iter.Iterator,r=t;return n.next=function(){if(0<r--)return o.next();throw goog.iter.StopIteration},n},goog.iter.consume=function(e,t){goog.asserts.assert(goog.math.isInt(t)&&t>=0);for(var o=goog.iter.toIterator(e);0<t--;)goog.iter.nextOrValue(o,null);return o},goog.iter.slice=function(e,t,o){return goog.asserts.assert(goog.math.isInt(t)&&t>=0),e=goog.iter.consume(e,t),goog.isNumber(o)&&(goog.asserts.assert(goog.math.isInt(o)&&o>=t),e=goog.iter.limit(e,o-t)),e},goog.iter.hasDuplicates_=function(e){var t=[];return goog.array.removeDuplicates(e,t),e.length!=t.length},goog.iter.permutations=function(e,t){var o=goog.iter.toArray(e),n=goog.isNumber(t)?t:o.length,o=goog.array.repeat(o,n),o=goog.iter.product.apply(void 0,o);return goog.iter.filter(o,function(e){return!goog.iter.hasDuplicates_(e)})},goog.iter.combinations=function(e,t){function o(e){return n[e]}var n=goog.iter.toArray(e),r=goog.iter.range(n.length),r=goog.iter.permutations(r,t),i=goog.iter.filter(r,function(e){return goog.array.isSorted(e)}),r=new goog.iter.Iterator;return r.next=function(){return goog.array.map(i.next(),o)},r},goog.iter.combinationsWithReplacement=function(e,t){function o(e){return n[e]}var n=goog.iter.toArray(e),r=goog.array.range(n.length),r=goog.array.repeat(r,t),r=goog.iter.product.apply(void 0,r),i=goog.iter.filter(r,function(e){return goog.array.isSorted(e)}),r=new goog.iter.Iterator;return r.next=function(){return goog.array.map(i.next(),o)},r},goog.dom.TagWalkType={START_TAG:1,OTHER:0,END_TAG:-1},goog.dom.TagIterator=function(e,t,o,n,r){this.reversed=!!t,this.node=null,this.tagType=goog.dom.TagWalkType.OTHER,this.started_=!1,this.constrained=!o,e&&this.setPosition(e,n),this.depth=void 0!=r?r:this.tagType||0,this.reversed&&(this.depth*=-1)},goog.inherits(goog.dom.TagIterator,goog.iter.Iterator),goog.dom.TagIterator.prototype.setPosition=function(e,t,o){(this.node=e)&&(goog.isNumber(t)?this.tagType=t:this.tagType=this.node.nodeType!=goog.dom.NodeType.ELEMENT?goog.dom.TagWalkType.OTHER:this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG),goog.isNumber(o)&&(this.depth=o)},goog.dom.TagIterator.prototype.copyFrom=function(e){this.node=e.node,this.tagType=e.tagType,this.depth=e.depth,this.reversed=e.reversed,this.constrained=e.constrained},goog.dom.TagIterator.prototype.clone=function(){return new goog.dom.TagIterator(this.node,this.reversed,!this.constrained,this.tagType,this.depth)},goog.dom.TagIterator.prototype.skipTag=function(){var e=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;this.tagType==e&&(this.tagType=-1*e,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.restartTag=function(){var e=this.reversed?goog.dom.TagWalkType.START_TAG:goog.dom.TagWalkType.END_TAG;this.tagType==e&&(this.tagType=-1*e,this.depth+=this.tagType*(this.reversed?-1:1))},goog.dom.TagIterator.prototype.next=function(){var e;if(this.started_){if(!this.node||this.constrained&&0==this.depth)throw goog.iter.StopIteration;e=this.node;var t=this.reversed?goog.dom.TagWalkType.END_TAG:goog.dom.TagWalkType.START_TAG;if(this.tagType==t){var o=this.reversed?e.lastChild:e.firstChild;o?this.setPosition(o):this.setPosition(e,-1*t)}else(o=this.reversed?e.previousSibling:e.nextSibling)?this.setPosition(o):this.setPosition(e.parentNode,-1*t);this.depth+=this.tagType*(this.reversed?-1:1)}else this.started_=!0;if(e=this.node,!this.node)throw goog.iter.StopIteration;return e},goog.dom.TagIterator.prototype.isStarted=function(){return this.started_},goog.dom.TagIterator.prototype.isStartTag=function(){return this.tagType==goog.dom.TagWalkType.START_TAG},goog.dom.TagIterator.prototype.isEndTag=function(){return this.tagType==goog.dom.TagWalkType.END_TAG},goog.dom.TagIterator.prototype.isNonElement=function(){return this.tagType==goog.dom.TagWalkType.OTHER},goog.dom.TagIterator.prototype.equals=function(e){return e.node==this.node&&(!this.node||e.tagType==this.tagType)},goog.dom.TagIterator.prototype.splice=function(e){var t=this.node;this.restartTag(),this.reversed=!this.reversed,goog.dom.TagIterator.prototype.next.call(this),this.reversed=!this.reversed;for(var o=goog.isArrayLike(arguments[0])?arguments[0]:arguments,n=o.length-1;n>=0;n--)goog.dom.insertSiblingAfter(o[n],t);goog.dom.removeNode(t)},goog.dom.NodeIterator=function(e,t,o,n){goog.dom.TagIterator.call(this,e,t,o,null,n)},goog.inherits(goog.dom.NodeIterator,goog.dom.TagIterator),goog.dom.NodeIterator.prototype.next=function(){do goog.dom.NodeIterator.superClass_.next.call(this);while(this.isEndTag());return this.node},goog.ui.PaletteRenderer=function(){goog.ui.ControlRenderer.call(this)},goog.inherits(goog.ui.PaletteRenderer,goog.ui.ControlRenderer),goog.addSingletonGetter(goog.ui.PaletteRenderer),goog.ui.PaletteRenderer.cellId_=0,goog.ui.PaletteRenderer.CSS_CLASS="goog-palette",goog.ui.PaletteRenderer.prototype.createDom=function(e){var t=this.getClassNames(e);return e=e.getDomHelper().createDom(goog.dom.TagName.DIV,t?t.join(" "):null,this.createGrid(e.getContent(),e.getSize(),e.getDomHelper())),goog.a11y.aria.setRole(e,goog.a11y.aria.Role.GRID),e},goog.ui.PaletteRenderer.prototype.createGrid=function(e,t,o){for(var n=[],r=0,i=0;r<t.height;r++){for(var s=[],a=0;a<t.width;a++){var l=e&&e[i++];s.push(this.createCell(l,o))}n.push(this.createRow(s,o))}return this.createTable(n,o)},goog.ui.PaletteRenderer.prototype.createTable=function(e,t){var o=t.createDom(goog.dom.TagName.TABLE,this.getCssClass()+"-table",t.createDom(goog.dom.TagName.TBODY,this.getCssClass()+"-body",e));return o.cellSpacing=0,o.cellPadding=0,o},goog.ui.PaletteRenderer.prototype.createRow=function(e,t){var o=t.createDom(goog.dom.TagName.TR,this.getCssClass()+"-row",e);return goog.a11y.aria.setRole(o,goog.a11y.aria.Role.ROW),o},goog.ui.PaletteRenderer.prototype.createCell=function(e,t){var o=t.createDom(goog.dom.TagName.TD,{"class":this.getCssClass()+"-cell",id:this.getCssClass()+"-cell-"+goog.ui.PaletteRenderer.cellId_++},e);if(goog.a11y.aria.setRole(o,goog.a11y.aria.Role.GRIDCELL),goog.a11y.aria.setState(o,goog.a11y.aria.State.SELECTED,!1),!goog.dom.getTextContent(o)&&!goog.a11y.aria.getLabel(o)){var n=this.findAriaLabelForCell_(o);n&&goog.a11y.aria.setLabel(o,n)}return o},goog.ui.PaletteRenderer.prototype.findAriaLabelForCell_=function(e){e=new goog.dom.NodeIterator(e);for(var t,o="";!o&&(t=goog.iter.nextOrValue(e,null));)t.nodeType==goog.dom.NodeType.ELEMENT&&(o=goog.a11y.aria.getLabel(t)||t.title);return o},goog.ui.PaletteRenderer.prototype.canDecorate=function(e){return!1},goog.ui.PaletteRenderer.prototype.decorate=function(e,t){return null},goog.ui.PaletteRenderer.prototype.setContent=function(e,t){if(e){var o=goog.dom.getElementsByTagNameAndClass(goog.dom.TagName.TBODY,this.getCssClass()+"-body",e)[0];if(o){var n=0;if(goog.array.forEach(o.rows,function(e){goog.array.forEach(e.cells,function(e){if(goog.dom.removeChildren(e),t){var o=t[n++];o&&goog.dom.appendChild(e,o)}})}),n<t.length){for(var r=[],i=goog.dom.getDomHelper(e),s=o.rows[0].cells.length;n<t.length;){var a=t[n++];r.push(this.createCell(a,i)),r.length==s&&(a=this.createRow(r,i),goog.dom.appendChild(o,a),r.length=0)}if(0<r.length){for(;r.length<s;)r.push(this.createCell("",i));a=this.createRow(r,i),goog.dom.appendChild(o,a)}}}goog.style.setUnselectable(e,!0,goog.userAgent.GECKO)}},goog.ui.PaletteRenderer.prototype.getContainingItem=function(e,t){for(var o=e.getElement();t&&t.nodeType==goog.dom.NodeType.ELEMENT&&t!=o;){if(t.tagName==goog.dom.TagName.TD&&goog.dom.classlist.contains(t,this.getCssClass()+"-cell"))return t.firstChild;t=t.parentNode}return null},goog.ui.PaletteRenderer.prototype.highlightCell=function(e,t,o){t&&(t=this.getCellForItem(t),goog.asserts.assert(t),goog.dom.classlist.enable(t,this.getCssClass()+"-cell-hover",o),o?goog.a11y.aria.setState(e.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT,t.id):t.id==goog.a11y.aria.getState(e.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT)&&goog.a11y.aria.removeState(e.getElementStrict(),goog.a11y.aria.State.ACTIVEDESCENDANT))},goog.ui.PaletteRenderer.prototype.getCellForItem=function(e){return e?e.parentNode:null},goog.ui.PaletteRenderer.prototype.selectCell=function(e,t,o){t&&(e=t.parentNode,goog.dom.classlist.enable(e,this.getCssClass()+"-cell-selected",o),goog.a11y.aria.setState(e,goog.a11y.aria.State.SELECTED,o))},goog.ui.PaletteRenderer.prototype.getCssClass=function(){return goog.ui.PaletteRenderer.CSS_CLASS},goog.ui.SelectionModel=function(e){goog.events.EventTarget.call(this),this.items_=[],this.addItems(e)},goog.inherits(goog.ui.SelectionModel,goog.events.EventTarget),goog.tagUnsealableClass(goog.ui.SelectionModel),goog.ui.SelectionModel.prototype.selectedItem_=null,goog.ui.SelectionModel.prototype.selectionHandler_=null,goog.ui.SelectionModel.prototype.getSelectionHandler=function(){return this.selectionHandler_},goog.ui.SelectionModel.prototype.setSelectionHandler=function(e){this.selectionHandler_=e},goog.ui.SelectionModel.prototype.getItemCount=function(){return this.items_.length},goog.ui.SelectionModel.prototype.indexOfItem=function(e){return e?goog.array.indexOf(this.items_,e):-1},goog.ui.SelectionModel.prototype.getFirst=function(){return this.items_[0]},goog.ui.SelectionModel.prototype.getLast=function(){return this.items_[this.items_.length-1]},goog.ui.SelectionModel.prototype.getItemAt=function(e){return this.items_[e]||null},goog.ui.SelectionModel.prototype.addItems=function(e){e&&(goog.array.forEach(e,function(e){this.selectItem_(e,!1)},this),goog.array.extend(this.items_,e))},goog.ui.SelectionModel.prototype.addItem=function(e){this.addItemAt(e,this.getItemCount())},goog.ui.SelectionModel.prototype.addItemAt=function(e,t){e&&(this.selectItem_(e,!1),goog.array.insertAt(this.items_,e,t))},goog.ui.SelectionModel.prototype.removeItem=function(e){e&&goog.array.remove(this.items_,e)&&e==this.selectedItem_&&(this.selectedItem_=null,this.dispatchEvent(goog.events.EventType.SELECT))},goog.ui.SelectionModel.prototype.removeItemAt=function(e){this.removeItem(this.getItemAt(e))},goog.ui.SelectionModel.prototype.getSelectedItem=function(){return this.selectedItem_},goog.ui.SelectionModel.prototype.getItems=function(){return goog.array.clone(this.items_)},goog.ui.SelectionModel.prototype.setSelectedItem=function(e){e!=this.selectedItem_&&(this.selectItem_(this.selectedItem_,!1),this.selectedItem_=e,this.selectItem_(e,!0)),this.dispatchEvent(goog.events.EventType.SELECT)},goog.ui.SelectionModel.prototype.getSelectedIndex=function(){return this.indexOfItem(this.selectedItem_)},goog.ui.SelectionModel.prototype.setSelectedIndex=function(e){this.setSelectedItem(this.getItemAt(e))},goog.ui.SelectionModel.prototype.clear=function(){goog.array.clear(this.items_),this.selectedItem_=null},goog.ui.SelectionModel.prototype.disposeInternal=function(){goog.ui.SelectionModel.superClass_.disposeInternal.call(this),delete this.items_,this.selectedItem_=null},goog.ui.SelectionModel.prototype.selectItem_=function(e,t){e&&("function"==typeof this.selectionHandler_?this.selectionHandler_(e,t):"function"==typeof e.setSelected&&e.setSelected(t))},goog.ui.Palette=function(e,t,o){goog.ui.Control.call(this,e,t||goog.ui.PaletteRenderer.getInstance(),o),this.setAutoStates(goog.ui.Component.State.CHECKED|goog.ui.Component.State.SELECTED|goog.ui.Component.State.OPENED,!1),this.currentCellControl_=new goog.ui.Palette.CurrentCell_,this.currentCellControl_.setParentEventTarget(this),this.lastHighlightedIndex_=-1},goog.inherits(goog.ui.Palette,goog.ui.Control),goog.tagUnsealableClass(goog.ui.Palette),goog.ui.Palette.EventType={AFTER_HIGHLIGHT:goog.events.getUniqueId("afterhighlight")},goog.ui.Palette.prototype.size_=null,goog.ui.Palette.prototype.highlightedIndex_=-1,goog.ui.Palette.prototype.selectionModel_=null,goog.ui.Palette.prototype.disposeInternal=function(){goog.ui.Palette.superClass_.disposeInternal.call(this),this.selectionModel_&&(this.selectionModel_.dispose(),this.selectionModel_=null),this.size_=null,this.currentCellControl_.dispose()},goog.ui.Palette.prototype.setContentInternal=function(e){goog.ui.Palette.superClass_.setContentInternal.call(this,e),this.adjustSize_(),this.selectionModel_?(this.selectionModel_.clear(),this.selectionModel_.addItems(e)):(this.selectionModel_=new goog.ui.SelectionModel(e),this.selectionModel_.setSelectionHandler(goog.bind(this.selectItem_,this)),this.getHandler().listen(this.selectionModel_,goog.events.EventType.SELECT,this.handleSelectionChange)),this.highlightedIndex_=-1},goog.ui.Palette.prototype.getCaption=function(){return""},goog.ui.Palette.prototype.setCaption=function(e){},goog.ui.Palette.prototype.handleMouseOver=function(e){goog.ui.Palette.superClass_.handleMouseOver.call(this,e);var t=this.getRenderer().getContainingItem(this,e.target);t&&e.relatedTarget&&goog.dom.contains(t,e.relatedTarget)||t!=this.getHighlightedItem()&&this.setHighlightedItem(t)},goog.ui.Palette.prototype.handleMouseDown=function(e){goog.ui.Palette.superClass_.handleMouseDown.call(this,e),this.isActive()&&(e=this.getRenderer().getContainingItem(this,e.target),e!=this.getHighlightedItem()&&this.setHighlightedItem(e))},goog.ui.Palette.prototype.performActionInternal=function(e){var t=this.getHighlightedItem();return t?(e&&this.shouldSelectHighlightedItem_(e)&&this.setSelectedItem(t),goog.ui.Palette.superClass_.performActionInternal.call(this,e)):!1},goog.ui.Palette.prototype.shouldSelectHighlightedItem_=function(e){return this.getSelectedItem()?"mouseup"!=e.type?!0:!!this.getRenderer().getContainingItem(this,e.target):!0},goog.ui.Palette.prototype.handleKeyEvent=function(e){var t=this.getContent(),t=t?t.length:0,o=this.size_.width;if(0==t||!this.isEnabled())return!1;if(e.keyCode==goog.events.KeyCodes.ENTER||e.keyCode==goog.events.KeyCodes.SPACE)return this.performActionInternal(e);if(e.keyCode==goog.events.KeyCodes.HOME)return this.setHighlightedIndex(0),!0;if(e.keyCode==goog.events.KeyCodes.END)return this.setHighlightedIndex(t-1),!0;var n=0>this.highlightedIndex_?this.getSelectedIndex():this.highlightedIndex_;switch(e.keyCode){case goog.events.KeyCodes.LEFT:return-1!=n&&0!=n||(n=t),this.setHighlightedIndex(n-1),e.preventDefault(),!0;case goog.events.KeyCodes.RIGHT:return n==t-1&&(n=-1),this.setHighlightedIndex(n+1),e.preventDefault(),!0;case goog.events.KeyCodes.UP:if(-1==n&&(n=t+o-1),n>=o)return this.setHighlightedIndex(n-o),e.preventDefault(),!0;break;case goog.events.KeyCodes.DOWN:if(-1==n&&(n=-o),t-o>n)return this.setHighlightedIndex(n+o),e.preventDefault(),!0}return!1},goog.ui.Palette.prototype.handleSelectionChange=function(e){},goog.ui.Palette.prototype.getSize=function(){
return this.size_},goog.ui.Palette.prototype.setSize=function(e,t){if(this.getElement())throw Error(goog.ui.Component.Error.ALREADY_RENDERED);this.size_=goog.isNumber(e)?new goog.math.Size(e,t):e,this.adjustSize_()},goog.ui.Palette.prototype.getHighlightedIndex=function(){return this.highlightedIndex_},goog.ui.Palette.prototype.getHighlightedItem=function(){var e=this.getContent();return e&&e[this.highlightedIndex_]},goog.ui.Palette.prototype.getHighlightedCellElement_=function(){return this.getRenderer().getCellForItem(this.getHighlightedItem())},goog.ui.Palette.prototype.setHighlightedIndex=function(e){e!=this.highlightedIndex_&&(this.highlightIndex_(this.highlightedIndex_,!1),this.lastHighlightedIndex_=this.highlightedIndex_,this.highlightedIndex_=e,this.highlightIndex_(e,!0),this.dispatchEvent(goog.ui.Palette.EventType.AFTER_HIGHLIGHT))},goog.ui.Palette.prototype.setHighlightedItem=function(e){var t=this.getContent();this.setHighlightedIndex(t&&e?goog.array.indexOf(t,e):-1)},goog.ui.Palette.prototype.getSelectedIndex=function(){return this.selectionModel_?this.selectionModel_.getSelectedIndex():-1},goog.ui.Palette.prototype.getSelectedItem=function(){return this.selectionModel_?this.selectionModel_.getSelectedItem():null},goog.ui.Palette.prototype.setSelectedIndex=function(e){this.selectionModel_&&this.selectionModel_.setSelectedIndex(e)},goog.ui.Palette.prototype.setSelectedItem=function(e){this.selectionModel_&&this.selectionModel_.setSelectedItem(e)},goog.ui.Palette.prototype.highlightIndex_=function(e,t){if(this.getElement()){var o=this.getContent();if(o&&e>=0&&e<o.length){var n=this.getHighlightedCellElement_();this.currentCellControl_.getElement()!=n&&this.currentCellControl_.setElementInternal(n),this.currentCellControl_.tryHighlight(t)&&this.getRenderer().highlightCell(this,o[e],t)}}},goog.ui.Palette.prototype.setHighlighted=function(e){e&&-1==this.highlightedIndex_?this.setHighlightedIndex(-1<this.lastHighlightedIndex_?this.lastHighlightedIndex_:0):e||this.setHighlightedIndex(-1),goog.ui.Palette.superClass_.setHighlighted.call(this,e)},goog.ui.Palette.prototype.selectItem_=function(e,t){this.getElement()&&this.getRenderer().selectCell(this,e,t)},goog.ui.Palette.prototype.adjustSize_=function(){var e=this.getContent();e?this.size_&&this.size_.width?(e=Math.ceil(e.length/this.size_.width),(!goog.isNumber(this.size_.height)||this.size_.height<e)&&(this.size_.height=e)):(e=Math.ceil(Math.sqrt(e.length)),this.size_=new goog.math.Size(e,e)):this.size_=new goog.math.Size(0,0)},goog.ui.Palette.CurrentCell_=function(){goog.ui.Control.call(this,null),this.setDispatchTransitionEvents(goog.ui.Component.State.HOVER,!0)},goog.inherits(goog.ui.Palette.CurrentCell_,goog.ui.Control),goog.ui.Palette.CurrentCell_.prototype.tryHighlight=function(e){return this.setHighlighted(e),this.isHighlighted()==e},goog.ui.ColorPalette=function(e,t,o){this.colors_=e||[],goog.ui.Palette.call(this,null,t||goog.ui.PaletteRenderer.getInstance(),o),this.setColors(this.colors_)},goog.inherits(goog.ui.ColorPalette,goog.ui.Palette),goog.tagUnsealableClass(goog.ui.ColorPalette),goog.ui.ColorPalette.prototype.normalizedColors_=null,goog.ui.ColorPalette.prototype.labels_=null,goog.ui.ColorPalette.prototype.getColors=function(){return this.colors_},goog.ui.ColorPalette.prototype.setColors=function(e,t){this.colors_=e,this.labels_=t||null,this.normalizedColors_=null,this.setContent(this.createColorNodes())},goog.ui.ColorPalette.prototype.getSelectedColor=function(){var e=this.getSelectedItem();return e?(e=goog.style.getStyle(e,"background-color"),goog.ui.ColorPalette.parseColor_(e)):null},goog.ui.ColorPalette.prototype.setSelectedColor=function(e){e=goog.ui.ColorPalette.parseColor_(e),this.normalizedColors_||(this.normalizedColors_=goog.array.map(this.colors_,function(e){return goog.ui.ColorPalette.parseColor_(e)})),this.setSelectedIndex(e?goog.array.indexOf(this.normalizedColors_,e):-1)},goog.ui.ColorPalette.prototype.createColorNodes=function(){return goog.array.map(this.colors_,function(e,t){var o=this.getDomHelper().createDom(goog.dom.TagName.DIV,{"class":this.getRenderer().getCssClass()+"-colorswatch",style:"background-color:"+e});return o.title=this.labels_&&this.labels_[t]?this.labels_[t]:"#"==e.charAt(0)?"RGB ("+goog.color.hexToRgb(e).join(", ")+")":e,o},this)},goog.ui.ColorPalette.parseColor_=function(e){if(e)try{return goog.color.parse(e).hex}catch(t){}return null},goog.ui.ColorPicker=function(e,t){goog.ui.Component.call(this,e),this.colorPalette_=t||null,this.getHandler().listen(this,goog.ui.Component.EventType.ACTION,this.onColorPaletteAction_)},goog.inherits(goog.ui.ColorPicker,goog.ui.Component),goog.ui.ColorPicker.DEFAULT_NUM_COLS=5,goog.ui.ColorPicker.EventType={CHANGE:"change"},goog.ui.ColorPicker.prototype.focusable_=!0,goog.ui.ColorPicker.prototype.getColors=function(){return this.colorPalette_?this.colorPalette_.getColors():null},goog.ui.ColorPicker.prototype.setColors=function(e){this.colorPalette_?this.colorPalette_.setColors(e):this.createColorPalette_(e)},goog.ui.ColorPicker.prototype.addColors=function(e){this.setColors(e)},goog.ui.ColorPicker.prototype.setSize=function(e){this.colorPalette_||this.createColorPalette_([]),this.colorPalette_.setSize(e)},goog.ui.ColorPicker.prototype.getSize=function(){return this.colorPalette_?this.colorPalette_.getSize():null},goog.ui.ColorPicker.prototype.setColumnCount=function(e){this.setSize(e)},goog.ui.ColorPicker.prototype.getSelectedIndex=function(){return this.colorPalette_?this.colorPalette_.getSelectedIndex():-1},goog.ui.ColorPicker.prototype.setSelectedIndex=function(e){this.colorPalette_&&this.colorPalette_.setSelectedIndex(e)},goog.ui.ColorPicker.prototype.getSelectedColor=function(){return this.colorPalette_?this.colorPalette_.getSelectedColor():null},goog.ui.ColorPicker.prototype.setSelectedColor=function(e){this.colorPalette_&&this.colorPalette_.setSelectedColor(e)},goog.ui.ColorPicker.prototype.isFocusable=function(){return this.focusable_},goog.ui.ColorPicker.prototype.setFocusable=function(e){this.focusable_=e,this.colorPalette_&&this.colorPalette_.setSupportedState(goog.ui.Component.State.FOCUSED,e)},goog.ui.ColorPicker.prototype.canDecorate=function(e){return!1},goog.ui.ColorPicker.prototype.enterDocument=function(){goog.ui.ColorPicker.superClass_.enterDocument.call(this),this.colorPalette_&&this.colorPalette_.render(this.getElement()),this.getElement().unselectable="on"},goog.ui.ColorPicker.prototype.disposeInternal=function(){goog.ui.ColorPicker.superClass_.disposeInternal.call(this),this.colorPalette_&&(this.colorPalette_.dispose(),this.colorPalette_=null)},goog.ui.ColorPicker.prototype.focus=function(){this.colorPalette_&&this.colorPalette_.getElement().focus()},goog.ui.ColorPicker.prototype.onColorPaletteAction_=function(e){e.stopPropagation(),this.dispatchEvent(goog.ui.ColorPicker.EventType.CHANGE)},goog.ui.ColorPicker.prototype.createColorPalette_=function(e){e=new goog.ui.ColorPalette(e,null,this.getDomHelper()),e.setSize(goog.ui.ColorPicker.DEFAULT_NUM_COLS),e.setSupportedState(goog.ui.Component.State.FOCUSED,this.focusable_),this.addChild(e),this.colorPalette_=e,this.isInDocument()&&this.colorPalette_.render(this.getElement())},goog.ui.ColorPicker.createSimpleColorGrid=function(e){return e=new goog.ui.ColorPicker(e),e.setSize(7),e.setColors(goog.ui.ColorPicker.SIMPLE_GRID_COLORS),e},goog.ui.ColorPicker.SIMPLE_GRID_COLORS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),goog.events.FocusHandler=function(e){goog.events.EventTarget.call(this),this.element_=e,e=goog.userAgent.IE?"focusout":"blur",this.listenKeyIn_=goog.events.listen(this.element_,goog.userAgent.IE?"focusin":"focus",this,!goog.userAgent.IE),this.listenKeyOut_=goog.events.listen(this.element_,e,this,!goog.userAgent.IE)},goog.inherits(goog.events.FocusHandler,goog.events.EventTarget),goog.events.FocusHandler.EventType={FOCUSIN:"focusin",FOCUSOUT:"focusout"},goog.events.FocusHandler.prototype.handleEvent=function(e){var t=e.getBrowserEvent(),t=new goog.events.BrowserEvent(t);t.type="focusin"==e.type||"focus"==e.type?goog.events.FocusHandler.EventType.FOCUSIN:goog.events.FocusHandler.EventType.FOCUSOUT,this.dispatchEvent(t)},goog.events.FocusHandler.prototype.disposeInternal=function(){goog.events.FocusHandler.superClass_.disposeInternal.call(this),goog.events.unlistenByKey(this.listenKeyIn_),goog.events.unlistenByKey(this.listenKeyOut_),delete this.element_},goog.html.SafeScript=function(){this.privateDoNotAccessOrElseSafeScriptWrappedValue_="",this.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_=goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_},goog.html.SafeScript.prototype.implementsGoogStringTypedString=!0,goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_={},goog.html.SafeScript.fromConstant=function(e){return e=goog.string.Const.unwrap(e),0===e.length?goog.html.SafeScript.EMPTY:goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(e)},goog.html.SafeScript.prototype.getTypedStringValue=function(){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_},goog.DEBUG&&(goog.html.SafeScript.prototype.toString=function(){return"SafeScript{"+this.privateDoNotAccessOrElseSafeScriptWrappedValue_+"}"}),goog.html.SafeScript.unwrap=function(e){return e instanceof goog.html.SafeScript&&e.constructor===goog.html.SafeScript&&e.SAFE_SCRIPT_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_===goog.html.SafeScript.TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_?e.privateDoNotAccessOrElseSafeScriptWrappedValue_:(goog.asserts.fail("expected object of type SafeScript, got '"+e+"' of type "+goog.typeOf(e)),"type_error:SafeScript")},goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse=function(e){return(new goog.html.SafeScript).initSecurityPrivateDoNotAccessOrElse_(e)},goog.html.SafeScript.prototype.initSecurityPrivateDoNotAccessOrElse_=function(e){return this.privateDoNotAccessOrElseSafeScriptWrappedValue_=e,this},goog.html.SafeScript.EMPTY=goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(""),goog.html.uncheckedconversions={},goog.html.uncheckedconversions.safeHtmlFromStringKnownToSatisfyTypeContract=function(e,t,o){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeHtml.createSafeHtmlSecurityPrivateDoNotAccessOrElse(t,o||null)},goog.html.uncheckedconversions.safeScriptFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmpty(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeScript.createSafeScriptSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyle.createSafeStyleSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeStyleSheetFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeStyleSheet.createSafeStyleSheetSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.SafeUrl.createSafeUrlSecurityPrivateDoNotAccessOrElse(t)},goog.html.uncheckedconversions.trustedResourceUrlFromStringKnownToSatisfyTypeContract=function(e,t){return goog.asserts.assertString(goog.string.Const.unwrap(e),"must provide justification"),goog.asserts.assert(!goog.string.isEmptyOrWhitespace(goog.string.Const.unwrap(e)),"must provide non-empty justification"),goog.html.TrustedResourceUrl.createTrustedResourceUrlSecurityPrivateDoNotAccessOrElse(t)},goog.structs={},goog.structs.getCount=function(e){return e.getCount&&"function"==typeof e.getCount?e.getCount():goog.isArrayLike(e)||goog.isString(e)?e.length:goog.object.getCount(e)},goog.structs.getValues=function(e){if(e.getValues&&"function"==typeof e.getValues)return e.getValues();if(goog.isString(e))return e.split("");if(goog.isArrayLike(e)){for(var t=[],o=e.length,n=0;o>n;n++)t.push(e[n]);return t}return goog.object.getValues(e)},goog.structs.getKeys=function(e){if(e.getKeys&&"function"==typeof e.getKeys)return e.getKeys();if(!e.getValues||"function"!=typeof e.getValues){if(goog.isArrayLike(e)||goog.isString(e)){var t=[];e=e.length;for(var o=0;e>o;o++)t.push(o);return t}return goog.object.getKeys(e)}},goog.structs.contains=function(e,t){return e.contains&&"function"==typeof e.contains?e.contains(t):e.containsValue&&"function"==typeof e.containsValue?e.containsValue(t):goog.isArrayLike(e)||goog.isString(e)?goog.array.contains(e,t):goog.object.containsValue(e,t)},goog.structs.isEmpty=function(e){return e.isEmpty&&"function"==typeof e.isEmpty?e.isEmpty():goog.isArrayLike(e)||goog.isString(e)?goog.array.isEmpty(e):goog.object.isEmpty(e)},goog.structs.clear=function(e){e.clear&&"function"==typeof e.clear?e.clear():goog.isArrayLike(e)?goog.array.clear(e):goog.object.clear(e)},goog.structs.forEach=function(e,t,o){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,o);else if(goog.isArrayLike(e)||goog.isString(e))goog.array.forEach(e,t,o);else for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length,s=0;i>s;s++)t.call(o,r[s],n&&n[s],e)},goog.structs.filter=function(e,t,o){if("function"==typeof e.filter)return e.filter(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.filter(e,t,o);var n,r=goog.structs.getKeys(e),i=goog.structs.getValues(e),s=i.length;if(r){n={};for(var a=0;s>a;a++)t.call(o,i[a],r[a],e)&&(n[r[a]]=i[a])}else for(n=[],a=0;s>a;a++)t.call(o,i[a],void 0,e)&&n.push(i[a]);return n},goog.structs.map=function(e,t,o){if("function"==typeof e.map)return e.map(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.map(e,t,o);var n,r=goog.structs.getKeys(e),i=goog.structs.getValues(e),s=i.length;if(r){n={};for(var a=0;s>a;a++)n[r[a]]=t.call(o,i[a],r[a],e)}else for(n=[],a=0;s>a;a++)n[a]=t.call(o,i[a],void 0,e);return n},goog.structs.some=function(e,t,o){if("function"==typeof e.some)return e.some(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.some(e,t,o);for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length,s=0;i>s;s++)if(t.call(o,r[s],n&&n[s],e))return!0;return!1},goog.structs.every=function(e,t,o){if("function"==typeof e.every)return e.every(t,o);if(goog.isArrayLike(e)||goog.isString(e))return goog.array.every(e,t,o);for(var n=goog.structs.getKeys(e),r=goog.structs.getValues(e),i=r.length,s=0;i>s;s++)if(!t.call(o,r[s],n&&n[s],e))return!1;return!0},goog.structs.Collection=function(){},goog.structs.Map=function(e,t){this.map_={},this.keys_=[],this.version_=this.count_=0;var o=arguments.length;if(o>1){if(o%2)throw Error("Uneven number of arguments");for(var n=0;o>n;n+=2)this.set(arguments[n],arguments[n+1])}else e&&this.addAll(e)},goog.structs.Map.prototype.getCount=function(){return this.count_},goog.structs.Map.prototype.getValues=function(){this.cleanupKeysArray_();for(var e=[],t=0;t<this.keys_.length;t++)e.push(this.map_[this.keys_[t]]);return e},goog.structs.Map.prototype.getKeys=function(){return this.cleanupKeysArray_(),this.keys_.concat()},goog.structs.Map.prototype.containsKey=function(e){return goog.structs.Map.hasKey_(this.map_,e)},goog.structs.Map.prototype.containsValue=function(e){for(var t=0;t<this.keys_.length;t++){var o=this.keys_[t];if(goog.structs.Map.hasKey_(this.map_,o)&&this.map_[o]==e)return!0}return!1},goog.structs.Map.prototype.equals=function(e,t){if(this===e)return!0;if(this.count_!=e.getCount())return!1;var o=t||goog.structs.Map.defaultEquals;this.cleanupKeysArray_();for(var n,r=0;n=this.keys_[r];r++)if(!o(this.get(n),e.get(n)))return!1;return!0},goog.structs.Map.defaultEquals=function(e,t){return e===t},goog.structs.Map.prototype.isEmpty=function(){return 0==this.count_},goog.structs.Map.prototype.clear=function(){this.map_={},this.version_=this.count_=this.keys_.length=0},goog.structs.Map.prototype.remove=function(e){return goog.structs.Map.hasKey_(this.map_,e)?(delete this.map_[e],this.count_--,this.version_++,this.keys_.length>2*this.count_&&this.cleanupKeysArray_(),!0):!1},goog.structs.Map.prototype.cleanupKeysArray_=function(){if(this.count_!=this.keys_.length){for(var e=0,t=0;e<this.keys_.length;){var o=this.keys_[e];goog.structs.Map.hasKey_(this.map_,o)&&(this.keys_[t++]=o),e++}this.keys_.length=t}if(this.count_!=this.keys_.length){for(var n={},t=e=0;e<this.keys_.length;)o=this.keys_[e],goog.structs.Map.hasKey_(n,o)||(this.keys_[t++]=o,n[o]=1),e++;this.keys_.length=t}},goog.structs.Map.prototype.get=function(e,t){return goog.structs.Map.hasKey_(this.map_,e)?this.map_[e]:t},goog.structs.Map.prototype.set=function(e,t){goog.structs.Map.hasKey_(this.map_,e)||(this.count_++,this.keys_.push(e),this.version_++),this.map_[e]=t},goog.structs.Map.prototype.addAll=function(e){var t;e instanceof goog.structs.Map?(t=e.getKeys(),e=e.getValues()):(t=goog.object.getKeys(e),e=goog.object.getValues(e));for(var o=0;o<t.length;o++)this.set(t[o],e[o])},goog.structs.Map.prototype.forEach=function(e,t){for(var o=this.getKeys(),n=0;n<o.length;n++){var r=o[n],i=this.get(r);e.call(t,i,r,this)}},goog.structs.Map.prototype.clone=function(){return new goog.structs.Map(this)},goog.structs.Map.prototype.transpose=function(){for(var e=new goog.structs.Map,t=0;t<this.keys_.length;t++){var o=this.keys_[t];e.set(this.map_[o],o)}return e},goog.structs.Map.prototype.toObject=function(){this.cleanupKeysArray_();for(var e={},t=0;t<this.keys_.length;t++){var o=this.keys_[t];e[o]=this.map_[o]}return e},goog.structs.Map.prototype.getKeyIterator=function(){return this.__iterator__(!0)},goog.structs.Map.prototype.getValueIterator=function(){return this.__iterator__(!1)},goog.structs.Map.prototype.__iterator__=function(e){this.cleanupKeysArray_();var t=0,o=this.version_,n=this,r=new goog.iter.Iterator;return r.next=function(){if(o!=n.version_)throw Error("The map has changed since the iterator was created");if(t>=n.keys_.length)throw goog.iter.StopIteration;var r=n.keys_[t++];return e?r:n.map_[r]},r},goog.structs.Map.hasKey_=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},goog.structs.Set=function(e){this.map_=new goog.structs.Map,e&&this.addAll(e)},goog.structs.Set.getKey_=function(e){var t=typeof e;return"object"==t&&e||"function"==t?"o"+goog.getUid(e):t.substr(0,1)+e},goog.structs.Set.prototype.getCount=function(){return this.map_.getCount()},goog.structs.Set.prototype.add=function(e){this.map_.set(goog.structs.Set.getKey_(e),e)},goog.structs.Set.prototype.addAll=function(e){e=goog.structs.getValues(e);for(var t=e.length,o=0;t>o;o++)this.add(e[o])},goog.structs.Set.prototype.removeAll=function(e){e=goog.structs.getValues(e);for(var t=e.length,o=0;t>o;o++)this.remove(e[o])},goog.structs.Set.prototype.remove=function(e){return this.map_.remove(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.clear=function(){this.map_.clear()},goog.structs.Set.prototype.isEmpty=function(){return this.map_.isEmpty()},goog.structs.Set.prototype.contains=function(e){return this.map_.containsKey(goog.structs.Set.getKey_(e))},goog.structs.Set.prototype.containsAll=function(e){return goog.structs.every(e,this.contains,this)},goog.structs.Set.prototype.intersection=function(e){var t=new goog.structs.Set;e=goog.structs.getValues(e);for(var o=0;o<e.length;o++){var n=e[o];this.contains(n)&&t.add(n)}return t},goog.structs.Set.prototype.difference=function(e){var t=this.clone();return t.removeAll(e),t},goog.structs.Set.prototype.getValues=function(){return this.map_.getValues()},goog.structs.Set.prototype.clone=function(){return new goog.structs.Set(this)},goog.structs.Set.prototype.equals=function(e){return this.getCount()==goog.structs.getCount(e)&&this.isSubsetOf(e)},goog.structs.Set.prototype.isSubsetOf=function(e){var t=goog.structs.getCount(e);return this.getCount()>t?!1:(!(e instanceof goog.structs.Set)&&t>5&&(e=new goog.structs.Set(e)),goog.structs.every(this,function(t){return goog.structs.contains(e,t)}))},goog.structs.Set.prototype.__iterator__=function(e){return this.map_.__iterator__(!1)},goog.debug.LOGGING_ENABLED=goog.DEBUG,goog.debug.FORCE_SLOPPY_STACKS=!1,goog.debug.catchErrors=function(e,t,o){o=o||goog.global;var n=o.onerror,r=!!t;goog.userAgent.WEBKIT&&!goog.userAgent.isVersionOrHigher("535.3")&&(r=!r),o.onerror=function(t,o,i,s,a){return n&&n(t,o,i,s,a),e({message:t,fileName:o,line:i,col:s,error:a}),r}},goog.debug.expose=function(e,t){if("undefined"==typeof e)return"undefined";if(null==e)return"NULL";var o,n=[];for(o in e)if(t||!goog.isFunction(e[o])){var r=o+" = ";try{r+=e[o]}catch(i){r+="*** "+i+" ***"}n.push(r)}return n.join("\n")},goog.debug.deepExpose=function(e,t){var o=[],n=function(e,r,i){var s=r+"  ";i=new goog.structs.Set(i);try{if(goog.isDef(e))if(goog.isNull(e))o.push("NULL");else if(goog.isString(e))o.push('"'+e.replace(/\n/g,"\n"+r)+'"');else if(goog.isFunction(e))o.push(String(e).replace(/\n/g,"\n"+r));else if(goog.isObject(e))if(i.contains(e))o.push("*** reference loop detected ***");else{i.add(e),o.push("{");for(var a in e)!t&&goog.isFunction(e[a])||(o.push("\n"),o.push(s),o.push(a+" = "),n(e[a],s,i));o.push("\n"+r+"}")}else o.push(e);else o.push("undefined")}catch(l){o.push("*** "+l+" ***")}};return n(e,"",new goog.structs.Set),o.join("")},goog.debug.exposeArray=function(e){for(var t=[],o=0;o<e.length;o++)goog.isArray(e[o])?t.push(goog.debug.exposeArray(e[o])):t.push(e[o]);return"[ "+t.join(", ")+" ]"},goog.debug.exposeException=function(e,t){var o=goog.debug.exposeExceptionAsHtml(e,t);return goog.html.SafeHtml.unwrap(o)},goog.debug.exposeExceptionAsHtml=function(e,t){try{var o=goog.debug.normalizeErrorObject(e),n=goog.debug.createViewSourceUrl_(o.fileName);return goog.html.SafeHtml.concat(goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Message: "+o.message+"\nUrl: "),goog.html.SafeHtml.create("a",{href:n,target:"_new"},o.fileName),goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("\nLine: "+o.lineNumber+"\n\nBrowser stack:\n"+o.stack+"-> [end]\n\nJS stack traversal:\n"+goog.debug.getStacktrace(t)+"-> "))}catch(r){return goog.html.SafeHtml.htmlEscapePreservingNewlinesAndSpaces("Exception trying to expose exception! You win, we lose. "+r)}},goog.debug.createViewSourceUrl_=function(e){return goog.isDefAndNotNull(e)||(e=""),/^https?:\/\//i.test(e)?(e=goog.html.SafeUrl.sanitize(e),goog.html.uncheckedconversions.safeUrlFromStringKnownToSatisfyTypeContract(goog.string.Const.from("view-source scheme plus HTTP/HTTPS URL"),"view-source:"+goog.html.SafeUrl.unwrap(e))):goog.html.SafeUrl.fromConstant(goog.string.Const.from("sanitizedviewsrc"))},goog.debug.normalizeErrorObject=function(e){var t=goog.getObjectByName("window.location.href");if(goog.isString(e))return{message:e,name:"Unknown error",lineNumber:"Not available",fileName:t,stack:"Not available"};var o,n,r=!1;try{o=e.lineNumber||e.line||"Not available"}catch(i){o="Not available",r=!0}try{n=e.fileName||e.filename||e.sourceURL||goog.global.$googDebugFname||t}catch(i){n="Not available",r=!0}return!r&&e.lineNumber&&e.fileName&&e.stack&&e.message&&e.name?e:{message:e.message||"Not available",name:e.name||"UnknownError",lineNumber:o,fileName:n,stack:e.stack||"Not available"}},goog.debug.enhanceError=function(e,t){var o;if("string"==typeof e?(o=Error(e),Error.captureStackTrace&&Error.captureStackTrace(o,goog.debug.enhanceError)):o=e,o.stack||(o.stack=goog.debug.getStacktrace(goog.debug.enhanceError)),t){for(var n=0;o["message"+n];)++n;o["message"+n]=String(t)}return o},goog.debug.getStacktraceSimple=function(e){if(!goog.debug.FORCE_SLOPPY_STACKS){var t=goog.debug.getNativeStackTrace_(goog.debug.getStacktraceSimple);if(t)return t}for(var t=[],o=arguments.callee.caller,n=0;o&&(!e||e>n);){t.push(goog.debug.getFunctionName(o)),t.push("()\n");try{o=o.caller}catch(r){t.push("[exception trying to get caller]\n");break}if(n++,n>=goog.debug.MAX_STACK_DEPTH){t.push("[...long stack...]");break}}return e&&n>=e?t.push("[...reached max depth limit...]"):t.push("[end]"),t.join("")},goog.debug.MAX_STACK_DEPTH=50,goog.debug.getNativeStackTrace_=function(e){var t=Error();if(Error.captureStackTrace)return Error.captureStackTrace(t,e),String(t.stack);try{throw t}catch(o){t=o}return(e=t.stack)?String(e):null},goog.debug.getStacktrace=function(e){var t;return goog.debug.FORCE_SLOPPY_STACKS||(t=goog.debug.getNativeStackTrace_(e||goog.debug.getStacktrace)),t||(t=goog.debug.getStacktraceHelper_(e||arguments.callee.caller,[])),t},goog.debug.getStacktraceHelper_=function(e,t){var o=[];if(goog.array.contains(t,e))o.push("[...circular reference...]");else if(e&&t.length<goog.debug.MAX_STACK_DEPTH){o.push(goog.debug.getFunctionName(e)+"(");for(var n=e.arguments,r=0;n&&r<n.length;r++){r>0&&o.push(", ");var i;switch(i=n[r],typeof i){case"object":i=i?"object":"null";break;case"string":break;case"number":i=String(i);break;case"boolean":i=i?"true":"false";break;case"function":i=(i=goog.debug.getFunctionName(i))?i:"[fn]";break;default:i=typeof i}40<i.length&&(i=i.substr(0,40)+"..."),o.push(i)}t.push(e),o.push(")\n");try{o.push(goog.debug.getStacktraceHelper_(e.caller,t))}catch(s){o.push("[exception trying to get caller]\n")}}else e?o.push("[...long stack...]"):o.push("[end]");return o.join("")},goog.debug.setFunctionResolver=function(e){goog.debug.fnNameResolver_=e},goog.debug.getFunctionName=function(e){if(goog.debug.fnNameCache_[e])return goog.debug.fnNameCache_[e];if(goog.debug.fnNameResolver_){var t=goog.debug.fnNameResolver_(e);if(t)return goog.debug.fnNameCache_[e]=t}return e=String(e),goog.debug.fnNameCache_[e]||(t=/function ([^\(]+)/.exec(e),goog.debug.fnNameCache_[e]=t?t[1]:"[Anonymous]"),goog.debug.fnNameCache_[e]},goog.debug.makeWhitespaceVisible=function(e){return e.replace(/ /g,"[_]").replace(/\f/g,"[f]").replace(/\n/g,"[n]\n").replace(/\r/g,"[r]").replace(/\t/g,"[t]")},goog.debug.runtimeType=function(e){return e instanceof Function?e.displayName||e.name||"unknown type name":e instanceof Object?e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e):null===e?"null":typeof e},goog.debug.fnNameCache_={},goog.debug.LogRecord=function(e,t,o,n,r){this.reset(e,t,o,n,r)},goog.debug.LogRecord.prototype.sequenceNumber_=0,goog.debug.LogRecord.prototype.exception_=null,goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS=!0,goog.debug.LogRecord.nextSequenceNumber_=0,goog.debug.LogRecord.prototype.reset=function(e,t,o,n,r){goog.debug.LogRecord.ENABLE_SEQUENCE_NUMBERS&&(this.sequenceNumber_="number"==typeof r?r:goog.debug.LogRecord.nextSequenceNumber_++),this.time_=n||goog.now(),this.level_=e,this.msg_=t,this.loggerName_=o,delete this.exception_},goog.debug.LogRecord.prototype.getLoggerName=function(){return this.loggerName_},goog.debug.LogRecord.prototype.getException=function(){return this.exception_},goog.debug.LogRecord.prototype.setException=function(e){this.exception_=e},goog.debug.LogRecord.prototype.setLoggerName=function(e){this.loggerName_=e},goog.debug.LogRecord.prototype.getLevel=function(){return this.level_},goog.debug.LogRecord.prototype.setLevel=function(e){this.level_=e},goog.debug.LogRecord.prototype.getMessage=function(){return this.msg_},goog.debug.LogRecord.prototype.setMessage=function(e){this.msg_=e},goog.debug.LogRecord.prototype.getMillis=function(){return this.time_},goog.debug.LogRecord.prototype.setMillis=function(e){this.time_=e},goog.debug.LogRecord.prototype.getSequenceNumber=function(){return this.sequenceNumber_},goog.debug.LogBuffer=function(){goog.asserts.assert(goog.debug.LogBuffer.isBufferingEnabled(),"Cannot use goog.debug.LogBuffer without defining goog.debug.LogBuffer.CAPACITY."),this.clear()},goog.debug.LogBuffer.getInstance=function(){return goog.debug.LogBuffer.instance_||(goog.debug.LogBuffer.instance_=new goog.debug.LogBuffer),goog.debug.LogBuffer.instance_},goog.debug.LogBuffer.CAPACITY=0,goog.debug.LogBuffer.prototype.addRecord=function(e,t,o){var n=(this.curIndex_+1)%goog.debug.LogBuffer.CAPACITY;return this.curIndex_=n,this.isFull_?(n=this.buffer_[n],n.reset(e,t,o),n):(this.isFull_=n==goog.debug.LogBuffer.CAPACITY-1,this.buffer_[n]=new goog.debug.LogRecord(e,t,o))},goog.debug.LogBuffer.isBufferingEnabled=function(){return 0<goog.debug.LogBuffer.CAPACITY},goog.debug.LogBuffer.prototype.clear=function(){this.buffer_=Array(goog.debug.LogBuffer.CAPACITY),this.curIndex_=-1,this.isFull_=!1},goog.debug.LogBuffer.prototype.forEachRecord=function(e){var t=this.buffer_;if(t[0]){var o=this.curIndex_,n=this.isFull_?o:-1;do n=(n+1)%goog.debug.LogBuffer.CAPACITY,e(t[n]);while(n!=o)}},goog.debug.Logger=function(e){this.name_=e,this.handlers_=this.children_=this.level_=this.parent_=null},goog.debug.Logger.ROOT_LOGGER_NAME="",goog.debug.Logger.ENABLE_HIERARCHY=!0,goog.debug.Logger.ENABLE_HIERARCHY||(goog.debug.Logger.rootHandlers_=[]),goog.debug.Logger.Level=function(e,t){this.name=e,this.value=t},goog.debug.Logger.Level.prototype.toString=function(){return this.name},goog.debug.Logger.Level.OFF=new goog.debug.Logger.Level("OFF",1/0),goog.debug.Logger.Level.SHOUT=new goog.debug.Logger.Level("SHOUT",1200),goog.debug.Logger.Level.SEVERE=new goog.debug.Logger.Level("SEVERE",1e3),goog.debug.Logger.Level.WARNING=new goog.debug.Logger.Level("WARNING",900),goog.debug.Logger.Level.INFO=new goog.debug.Logger.Level("INFO",800),goog.debug.Logger.Level.CONFIG=new goog.debug.Logger.Level("CONFIG",700),goog.debug.Logger.Level.FINE=new goog.debug.Logger.Level("FINE",500),goog.debug.Logger.Level.FINER=new goog.debug.Logger.Level("FINER",400),goog.debug.Logger.Level.FINEST=new goog.debug.Logger.Level("FINEST",300),goog.debug.Logger.Level.ALL=new goog.debug.Logger.Level("ALL",0),goog.debug.Logger.Level.PREDEFINED_LEVELS=[goog.debug.Logger.Level.OFF,goog.debug.Logger.Level.SHOUT,goog.debug.Logger.Level.SEVERE,goog.debug.Logger.Level.WARNING,goog.debug.Logger.Level.INFO,goog.debug.Logger.Level.CONFIG,goog.debug.Logger.Level.FINE,goog.debug.Logger.Level.FINER,goog.debug.Logger.Level.FINEST,goog.debug.Logger.Level.ALL],goog.debug.Logger.Level.predefinedLevelsCache_=null,goog.debug.Logger.Level.createPredefinedLevelsCache_=function(){goog.debug.Logger.Level.predefinedLevelsCache_={};for(var e,t=0;e=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];t++)goog.debug.Logger.Level.predefinedLevelsCache_[e.value]=e,goog.debug.Logger.Level.predefinedLevelsCache_[e.name]=e},goog.debug.Logger.Level.getPredefinedLevel=function(e){return goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),goog.debug.Logger.Level.predefinedLevelsCache_[e]||null},goog.debug.Logger.Level.getPredefinedLevelByValue=function(e){if(goog.debug.Logger.Level.predefinedLevelsCache_||goog.debug.Logger.Level.createPredefinedLevelsCache_(),e in goog.debug.Logger.Level.predefinedLevelsCache_)return goog.debug.Logger.Level.predefinedLevelsCache_[e];
for(var t=0;t<goog.debug.Logger.Level.PREDEFINED_LEVELS.length;++t){var o=goog.debug.Logger.Level.PREDEFINED_LEVELS[t];if(o.value<=e)return o}return null},goog.debug.Logger.getLogger=function(e){return goog.debug.LogManager.getLogger(e)},goog.debug.Logger.logToProfilers=function(e){goog.global.console&&(goog.global.console.timeStamp?goog.global.console.timeStamp(e):goog.global.console.markTimeline&&goog.global.console.markTimeline(e)),goog.global.msWriteProfilerMark&&goog.global.msWriteProfilerMark(e)},goog.debug.Logger.prototype.getName=function(){return this.name_},goog.debug.Logger.prototype.addHandler=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?(this.handlers_||(this.handlers_=[]),this.handlers_.push(e)):(goog.asserts.assert(!this.name_,"Cannot call addHandler on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootHandlers_.push(e)))},goog.debug.Logger.prototype.removeHandler=function(e){if(goog.debug.LOGGING_ENABLED){var t=goog.debug.Logger.ENABLE_HIERARCHY?this.handlers_:goog.debug.Logger.rootHandlers_;return!!t&&goog.array.remove(t,e)}return!1},goog.debug.Logger.prototype.getParent=function(){return this.parent_},goog.debug.Logger.prototype.getChildren=function(){return this.children_||(this.children_={}),this.children_},goog.debug.Logger.prototype.setLevel=function(e){goog.debug.LOGGING_ENABLED&&(goog.debug.Logger.ENABLE_HIERARCHY?this.level_=e:(goog.asserts.assert(!this.name_,"Cannot call setLevel() on a non-root logger when goog.debug.Logger.ENABLE_HIERARCHY is false."),goog.debug.Logger.rootLevel_=e))},goog.debug.Logger.prototype.getLevel=function(){return goog.debug.LOGGING_ENABLED?this.level_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.getEffectiveLevel=function(){return goog.debug.LOGGING_ENABLED?goog.debug.Logger.ENABLE_HIERARCHY?this.level_?this.level_:this.parent_?this.parent_.getEffectiveLevel():(goog.asserts.fail("Root logger has no level set."),null):goog.debug.Logger.rootLevel_:goog.debug.Logger.Level.OFF},goog.debug.Logger.prototype.isLoggable=function(e){return goog.debug.LOGGING_ENABLED&&e.value>=this.getEffectiveLevel().value},goog.debug.Logger.prototype.log=function(e,t,o){goog.debug.LOGGING_ENABLED&&this.isLoggable(e)&&(goog.isFunction(t)&&(t=t()),this.doLogRecord_(this.getLogRecord(e,t,o)))},goog.debug.Logger.prototype.getLogRecord=function(e,t,o){return e=goog.debug.LogBuffer.isBufferingEnabled()?goog.debug.LogBuffer.getInstance().addRecord(e,t,this.name_):new goog.debug.LogRecord(e,String(t),this.name_),o&&e.setException(o),e},goog.debug.Logger.prototype.shout=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SHOUT,e,t)},goog.debug.Logger.prototype.severe=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.SEVERE,e,t)},goog.debug.Logger.prototype.warning=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.WARNING,e,t)},goog.debug.Logger.prototype.info=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.INFO,e,t)},goog.debug.Logger.prototype.config=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.CONFIG,e,t)},goog.debug.Logger.prototype.fine=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINE,e,t)},goog.debug.Logger.prototype.finer=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINER,e,t)},goog.debug.Logger.prototype.finest=function(e,t){goog.debug.LOGGING_ENABLED&&this.log(goog.debug.Logger.Level.FINEST,e,t)},goog.debug.Logger.prototype.logRecord=function(e){goog.debug.LOGGING_ENABLED&&this.isLoggable(e.getLevel())&&this.doLogRecord_(e)},goog.debug.Logger.prototype.doLogRecord_=function(e){if(goog.debug.Logger.logToProfilers("log:"+e.getMessage()),goog.debug.Logger.ENABLE_HIERARCHY)for(var t=this;t;)t.callPublish_(e),t=t.getParent();else for(var o,t=0;o=goog.debug.Logger.rootHandlers_[t++];)o(e)},goog.debug.Logger.prototype.callPublish_=function(e){if(this.handlers_)for(var t,o=0;t=this.handlers_[o];o++)t(e)},goog.debug.Logger.prototype.setParent_=function(e){this.parent_=e},goog.debug.Logger.prototype.addChild_=function(e,t){this.getChildren()[e]=t},goog.debug.LogManager={},goog.debug.LogManager.loggers_={},goog.debug.LogManager.rootLogger_=null,goog.debug.LogManager.initialize=function(){goog.debug.LogManager.rootLogger_||(goog.debug.LogManager.rootLogger_=new goog.debug.Logger(goog.debug.Logger.ROOT_LOGGER_NAME),goog.debug.LogManager.loggers_[goog.debug.Logger.ROOT_LOGGER_NAME]=goog.debug.LogManager.rootLogger_,goog.debug.LogManager.rootLogger_.setLevel(goog.debug.Logger.Level.CONFIG))},goog.debug.LogManager.getLoggers=function(){return goog.debug.LogManager.loggers_},goog.debug.LogManager.getRoot=function(){return goog.debug.LogManager.initialize(),goog.debug.LogManager.rootLogger_},goog.debug.LogManager.getLogger=function(e){return goog.debug.LogManager.initialize(),goog.debug.LogManager.loggers_[e]||goog.debug.LogManager.createLogger_(e)},goog.debug.LogManager.createFunctionForCatchErrors=function(e){return function(t){(e||goog.debug.LogManager.getRoot()).severe("Error: "+t.message+" ("+t.fileName+" @ Line: "+t.line+")")}},goog.debug.LogManager.createLogger_=function(e){var t=new goog.debug.Logger(e);if(goog.debug.Logger.ENABLE_HIERARCHY){var o=e.lastIndexOf("."),n=e.substr(0,o),o=e.substr(o+1),n=goog.debug.LogManager.getLogger(n);n.addChild_(o,t),t.setParent_(n)}return goog.debug.LogManager.loggers_[e]=t},goog.log={},goog.log.ENABLED=goog.debug.LOGGING_ENABLED,goog.log.ROOT_LOGGER_NAME=goog.debug.Logger.ROOT_LOGGER_NAME,goog.log.Logger=goog.debug.Logger,goog.log.Level=goog.debug.Logger.Level,goog.log.LogRecord=goog.debug.LogRecord,goog.log.getLogger=function(e,t){if(goog.log.ENABLED){var o=goog.debug.LogManager.getLogger(e);return t&&o&&o.setLevel(t),o}return null},goog.log.addHandler=function(e,t){goog.log.ENABLED&&e&&e.addHandler(t)},goog.log.removeHandler=function(e,t){return goog.log.ENABLED&&e?e.removeHandler(t):!1},goog.log.log=function(e,t,o,n){goog.log.ENABLED&&e&&e.log(t,o,n)},goog.log.error=function(e,t,o){goog.log.ENABLED&&e&&e.severe(t,o)},goog.log.warning=function(e,t,o){goog.log.ENABLED&&e&&e.warning(t,o)},goog.log.info=function(e,t,o){goog.log.ENABLED&&e&&e.info(t,o)},goog.log.fine=function(e,t,o){goog.log.ENABLED&&e&&e.fine(t,o)},goog.string.StringBuffer=function(e,t){null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.buffer_="",goog.string.StringBuffer.prototype.set=function(e){this.buffer_=""+e},goog.string.StringBuffer.prototype.append=function(e,t,o){if(this.buffer_+=String(e),null!=t)for(var n=1;n<arguments.length;n++)this.buffer_+=arguments[n];return this},goog.string.StringBuffer.prototype.clear=function(){this.buffer_=""},goog.string.StringBuffer.prototype.getLength=function(){return this.buffer_.length},goog.string.StringBuffer.prototype.toString=function(){return this.buffer_},goog.ui.tree={},goog.ui.tree.BaseNode=function(e,t,o){goog.ui.Component.call(this,o),this.config_=t||goog.ui.tree.BaseNode.defaultConfig,this.html_=goog.html.SafeHtml.htmlEscapePreservingNewlines(e),this.expanded_=this.selected_=!1,this.toolTip_=null,this.afterLabelHtml_=goog.html.SafeHtml.EMPTY,this.isUserCollapsible_=!0,this.depth_=-1},goog.inherits(goog.ui.tree.BaseNode,goog.ui.Component),goog.ui.tree.BaseNode.EventType={BEFORE_EXPAND:"beforeexpand",EXPAND:"expand",BEFORE_COLLAPSE:"beforecollapse",COLLAPSE:"collapse"},goog.ui.tree.BaseNode.allNodes={},goog.ui.tree.BaseNode.prototype.disposeInternal=function(){goog.ui.tree.BaseNode.superClass_.disposeInternal.call(this),this.tree&&(this.tree.removeNode(this),this.tree=null),this.setElementInternal(null)},goog.ui.tree.BaseNode.prototype.initAccessibility=function(){var e=this.getElement();if(e){var t=this.getLabelElement();if(t&&!t.id&&(t.id=this.getId()+".label"),goog.a11y.aria.setRole(e,"treeitem"),goog.a11y.aria.setState(e,"selected",!1),goog.a11y.aria.setState(e,"expanded",!1),goog.a11y.aria.setState(e,"level",this.getDepth()),t&&goog.a11y.aria.setState(e,"labelledby",t.id),(e=this.getIconElement())&&goog.a11y.aria.setRole(e,"presentation"),(e=this.getExpandIconElement())&&goog.a11y.aria.setRole(e,"presentation"),(e=this.getChildrenElement())&&(goog.a11y.aria.setRole(e,"group"),e.hasChildNodes()))for(e=this.getChildCount(),t=1;e>=t;t++){var o=this.getChildAt(t-1).getElement();goog.asserts.assert(o,"The child element cannot be null"),goog.a11y.aria.setState(o,"setsize",e),goog.a11y.aria.setState(o,"posinset",t)}}},goog.ui.tree.BaseNode.prototype.createDom=function(){var e=this.getDomHelper().safeHtmlToNode(this.toSafeHtml());this.setElementInternal(e)},goog.ui.tree.BaseNode.prototype.enterDocument=function(){goog.ui.tree.BaseNode.superClass_.enterDocument.call(this),goog.ui.tree.BaseNode.allNodes[this.getId()]=this,this.initAccessibility()},goog.ui.tree.BaseNode.prototype.exitDocument=function(){goog.ui.tree.BaseNode.superClass_.exitDocument.call(this),delete goog.ui.tree.BaseNode.allNodes[this.getId()]},goog.ui.tree.BaseNode.prototype.addChildAt=function(e,t,o){goog.asserts.assert(!e.getParent()),goog.asserts.assertInstanceof(e,goog.ui.tree.BaseNode),o=this.getChildAt(t-1);var n=this.getChildAt(t);if(goog.ui.tree.BaseNode.superClass_.addChildAt.call(this,e,t),e.previousSibling_=o,e.nextSibling_=n,o?o.nextSibling_=e:this.firstChild_=e,n?n.previousSibling_=e:this.lastChild_=e,(t=this.getTree())&&e.setTreeInternal(t),e.setDepth_(this.getDepth()+1),this.getElement()&&(this.updateExpandIcon(),this.getExpanded())){t=this.getChildrenElement(),e.getElement()||e.createDom();var r=e.getElement(),i=n&&n.getElement();t.insertBefore(r,i),this.isInDocument()&&e.enterDocument(),n||(o?o.updateExpandIcon():(goog.style.setElementShown(t,!0),this.setExpanded(this.getExpanded())))}},goog.ui.tree.BaseNode.prototype.add=function(e,t){return goog.asserts.assert(!t||t.getParent()==this,"Can only add nodes before siblings"),e.getParent()&&e.getParent().removeChild(e),this.addChildAt(e,t?this.indexOfChild(t):this.getChildCount()),e},goog.ui.tree.BaseNode.prototype.removeChild=function(e,t){var o=this.getTree(),n=o?o.getSelectedItem():null;if((n==e||e.contains(n))&&(o.hasFocus()?(this.select(),goog.Timer.callOnce(this.onTimeoutSelect_,10,this)):this.select()),goog.ui.tree.BaseNode.superClass_.removeChild.call(this,e),this.lastChild_==e&&(this.lastChild_=e.previousSibling_),this.firstChild_==e&&(this.firstChild_=e.nextSibling_),e.previousSibling_&&(e.previousSibling_.nextSibling_=e.nextSibling_),e.nextSibling_&&(e.nextSibling_.previousSibling_=e.previousSibling_),n=e.isLastSibling(),e.tree=null,e.depth_=-1,o&&(o.removeNode(this),this.isInDocument())){if(o=this.getChildrenElement(),e.isInDocument()){var r=e.getElement();o.removeChild(r),e.exitDocument()}n&&(n=this.getLastChild())&&n.updateExpandIcon(),this.hasChildren()||(o.style.display="none",this.updateExpandIcon(),this.updateIcon_())}return e},goog.ui.tree.BaseNode.prototype.remove=goog.ui.tree.BaseNode.prototype.removeChild,goog.ui.tree.BaseNode.prototype.onTimeoutSelect_=function(){this.select()},goog.ui.tree.BaseNode.prototype.getDepth=function(){var e=this.depth_;return 0>e&&(e=this.computeDepth_(),this.setDepth_(e)),e},goog.ui.tree.BaseNode.prototype.computeDepth_=function(){var e=this.getParent();return e?e.getDepth()+1:0},goog.ui.tree.BaseNode.prototype.setDepth_=function(e){if(e!=this.depth_){this.depth_=e;var t=this.getRowElement();if(t){var o=this.getPixelIndent_()+"px";this.isRightToLeft()?t.style.paddingRight=o:t.style.paddingLeft=o}this.forEachChild(function(t){t.setDepth_(e+1)})}},goog.ui.tree.BaseNode.prototype.contains=function(e){for(;e;){if(e==this)return!0;e=e.getParent()}return!1},goog.ui.tree.BaseNode.EMPTY_CHILDREN_=[],goog.ui.tree.BaseNode.prototype.getChildren=function(){var e=[];return this.forEachChild(function(t){e.push(t)}),e},goog.ui.tree.BaseNode.prototype.getFirstChild=function(){return this.getChildAt(0)},goog.ui.tree.BaseNode.prototype.getLastChild=function(){return this.getChildAt(this.getChildCount()-1)},goog.ui.tree.BaseNode.prototype.getPreviousSibling=function(){return this.previousSibling_},goog.ui.tree.BaseNode.prototype.getNextSibling=function(){return this.nextSibling_},goog.ui.tree.BaseNode.prototype.isLastSibling=function(){return!this.nextSibling_},goog.ui.tree.BaseNode.prototype.isSelected=function(){return this.selected_},goog.ui.tree.BaseNode.prototype.select=function(){var e=this.getTree();e&&e.setSelectedItem(this)},goog.ui.tree.BaseNode.prototype.deselect=goog.nullFunction,goog.ui.tree.BaseNode.prototype.setSelectedInternal=function(e){if(this.selected_!=e){this.selected_=e,this.updateRow();var t=this.getElement();t&&(goog.a11y.aria.setState(t,"selected",e),e&&(e=this.getTree().getElement(),goog.asserts.assert(e,"The DOM element for the tree cannot be null"),goog.a11y.aria.setState(e,"activedescendant",this.getId())))}},goog.ui.tree.BaseNode.prototype.getExpanded=function(){return this.expanded_},goog.ui.tree.BaseNode.prototype.setExpandedInternal=function(e){this.expanded_=e},goog.ui.tree.BaseNode.prototype.setExpanded=function(e){var t=e!=this.expanded_;if(!t||this.dispatchEvent(e?goog.ui.tree.BaseNode.EventType.BEFORE_EXPAND:goog.ui.tree.BaseNode.EventType.BEFORE_COLLAPSE)){var o;this.expanded_=e,o=this.getTree();var n=this.getElement();if(this.hasChildren()){if(!e&&o&&this.contains(o.getSelectedItem())&&this.select(),n){if((o=this.getChildrenElement())&&(goog.style.setElementShown(o,e),e&&this.isInDocument()&&!o.hasChildNodes())){var r=[];this.forEachChild(function(e){r.push(e.toSafeHtml())}),goog.dom.safe.setInnerHtml(o,goog.html.SafeHtml.concat(r)),this.forEachChild(function(e){e.enterDocument()})}this.updateExpandIcon()}}else(o=this.getChildrenElement())&&goog.style.setElementShown(o,!1);n&&(this.updateIcon_(),goog.a11y.aria.setState(n,"expanded",e)),t&&this.dispatchEvent(e?goog.ui.tree.BaseNode.EventType.EXPAND:goog.ui.tree.BaseNode.EventType.COLLAPSE)}},goog.ui.tree.BaseNode.prototype.toggle=function(){this.setExpanded(!this.getExpanded())},goog.ui.tree.BaseNode.prototype.expand=function(){this.setExpanded(!0)},goog.ui.tree.BaseNode.prototype.collapse=function(){this.setExpanded(!1)},goog.ui.tree.BaseNode.prototype.collapseChildren=function(){this.forEachChild(function(e){e.collapseAll()})},goog.ui.tree.BaseNode.prototype.collapseAll=function(){this.collapseChildren(),this.collapse()},goog.ui.tree.BaseNode.prototype.expandChildren=function(){this.forEachChild(function(e){e.expandAll()})},goog.ui.tree.BaseNode.prototype.expandAll=function(){this.expandChildren(),this.expand()},goog.ui.tree.BaseNode.prototype.reveal=function(){var e=this.getParent();e&&(e.setExpanded(!0),e.reveal())},goog.ui.tree.BaseNode.prototype.setIsUserCollapsible=function(e){(this.isUserCollapsible_=e)||this.expand(),this.getElement()&&this.updateExpandIcon()},goog.ui.tree.BaseNode.prototype.isUserCollapsible=function(){return this.isUserCollapsible_},goog.ui.tree.BaseNode.prototype.toSafeHtml=function(){var e=this.getTree(),t=!e.getShowLines()||e==this.getParent()&&!e.getShowRootLines()?this.config_.cssChildrenNoLines:this.config_.cssChildren,e=this.getExpanded()&&this.hasChildren(),t={"class":t,style:this.getLineStyle()},o=[];return e&&this.forEachChild(function(e){o.push(e.toSafeHtml())}),e=goog.html.SafeHtml.create("div",t,o),goog.html.SafeHtml.create("div",{"class":this.config_.cssItem,id:this.getId()},[this.getRowSafeHtml(),e])},goog.ui.tree.BaseNode.prototype.getPixelIndent_=function(){return Math.max(0,(this.getDepth()-1)*this.config_.indentWidth)},goog.ui.tree.BaseNode.prototype.getRowSafeHtml=function(){var e={};e["padding-"+(this.isRightToLeft()?"right":"left")]=this.getPixelIndent_()+"px";var e={"class":this.getRowClassName(),style:e},t=[this.getExpandIconSafeHtml(),this.getIconSafeHtml(),this.getLabelSafeHtml()];return goog.html.SafeHtml.create("div",e,t)},goog.ui.tree.BaseNode.prototype.getRowClassName=function(){var e;return e=this.isSelected()?" "+this.config_.cssSelectedRow:"",this.config_.cssTreeRow+e},goog.ui.tree.BaseNode.prototype.getLabelSafeHtml=function(){var e=goog.html.SafeHtml.create("span",{"class":this.config_.cssItemLabel,title:this.getToolTip()||null},this.getSafeHtml());return goog.html.SafeHtml.concat(e,goog.html.SafeHtml.create("span",{},this.getAfterLabelSafeHtml()))},goog.ui.tree.BaseNode.prototype.getAfterLabelHtml=function(){return goog.html.SafeHtml.unwrap(this.getAfterLabelSafeHtml())},goog.ui.tree.BaseNode.prototype.getAfterLabelSafeHtml=function(){return this.afterLabelHtml_},goog.ui.tree.BaseNode.prototype.setAfterLabelSafeHtml=function(e){this.afterLabelHtml_=e;var t=this.getAfterLabelElement();t&&goog.dom.safe.setInnerHtml(t,e)},goog.ui.tree.BaseNode.prototype.getIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{style:{display:"inline-block"},"class":this.getCalculatedIconClass()})},goog.ui.tree.BaseNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span",{type:"expand",style:{display:"inline-block"},"class":this.getExpandIconClass()})},goog.ui.tree.BaseNode.prototype.getExpandIconClass=function(){var e=this.getTree(),t=!e.getShowLines()||e==this.getParent()&&!e.getShowRootLines(),o=this.config_,n=new goog.string.StringBuffer;if(n.append(o.cssTreeIcon," ",o.cssExpandTreeIcon," "),this.hasChildren()){var r=0;switch(e.getShowExpandIcons()&&this.isUserCollapsible_&&(r=this.getExpanded()?2:1),t||(r=this.isLastSibling()?r+4:r+8),r){case 1:n.append(o.cssExpandTreeIconPlus);break;case 2:n.append(o.cssExpandTreeIconMinus);break;case 4:n.append(o.cssExpandTreeIconL);break;case 5:n.append(o.cssExpandTreeIconLPlus);break;case 6:n.append(o.cssExpandTreeIconLMinus);break;case 8:n.append(o.cssExpandTreeIconT);break;case 9:n.append(o.cssExpandTreeIconTPlus);break;case 10:n.append(o.cssExpandTreeIconTMinus);break;default:n.append(o.cssExpandTreeIconBlank)}}else t?n.append(o.cssExpandTreeIconBlank):this.isLastSibling()?n.append(o.cssExpandTreeIconL):n.append(o.cssExpandTreeIconT);return n.toString()},goog.ui.tree.BaseNode.prototype.getLineStyle=function(){var e=this.getExpanded()&&this.hasChildren();return goog.html.SafeStyle.create({"background-position":this.getBackgroundPosition(),display:e?null:"none"})},goog.ui.tree.BaseNode.prototype.getBackgroundPosition=function(){return(this.isLastSibling()?"-100":(this.getDepth()-1)*this.config_.indentWidth)+"px 0"},goog.ui.tree.BaseNode.prototype.getElement=function(){var e=goog.ui.tree.BaseNode.superClass_.getElement.call(this);return e||(e=this.getDomHelper().getElement(this.getId()),this.setElementInternal(e)),e},goog.ui.tree.BaseNode.prototype.getRowElement=function(){var e=this.getElement();return e?e.firstChild:null},goog.ui.tree.BaseNode.prototype.getExpandIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},goog.ui.tree.BaseNode.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.childNodes[1]:null},goog.ui.tree.BaseNode.prototype.getLabelElement=function(){var e=this.getRowElement();return e&&e.lastChild?e.lastChild.previousSibling:null},goog.ui.tree.BaseNode.prototype.getAfterLabelElement=function(){var e=this.getRowElement();return e?e.lastChild:null},goog.ui.tree.BaseNode.prototype.getChildrenElement=function(){var e=this.getElement();return e?e.lastChild:null},goog.ui.tree.BaseNode.prototype.setIconClass=function(e){this.iconClass_=e,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getIconClass=function(){return this.iconClass_},goog.ui.tree.BaseNode.prototype.setExpandedIconClass=function(e){this.expandedIconClass_=e,this.isInDocument()&&this.updateIcon_()},goog.ui.tree.BaseNode.prototype.getExpandedIconClass=function(){return this.expandedIconClass_},goog.ui.tree.BaseNode.prototype.setText=function(e){this.setSafeHtml(goog.html.SafeHtml.htmlEscape(e))},goog.ui.tree.BaseNode.prototype.getText=function(){return goog.string.unescapeEntities(goog.html.SafeHtml.unwrap(this.html_))},goog.ui.tree.BaseNode.prototype.setSafeHtml=function(e){this.html_=e;var t=this.getLabelElement();t&&goog.dom.safe.setInnerHtml(t,e),(e=this.getTree())&&e.setNode(this)},goog.ui.tree.BaseNode.prototype.getHtml=function(){return goog.html.SafeHtml.unwrap(this.getSafeHtml())},goog.ui.tree.BaseNode.prototype.getSafeHtml=function(){return this.html_},goog.ui.tree.BaseNode.prototype.setToolTip=function(e){this.toolTip_=e;var t=this.getLabelElement();t&&(t.title=e)},goog.ui.tree.BaseNode.prototype.getToolTip=function(){return this.toolTip_},goog.ui.tree.BaseNode.prototype.updateRow=function(){var e=this.getRowElement();e&&(e.className=this.getRowClassName())},goog.ui.tree.BaseNode.prototype.updateExpandIcon=function(){var e=this.getExpandIconElement();e&&(e.className=this.getExpandIconClass()),(e=this.getChildrenElement())&&(e.style.backgroundPosition=this.getBackgroundPosition())},goog.ui.tree.BaseNode.prototype.updateIcon_=function(){this.getIconElement().className=this.getCalculatedIconClass()},goog.ui.tree.BaseNode.prototype.onMouseDown=function(e){"expand"==e.target.getAttribute("type")&&this.hasChildren()?this.isUserCollapsible_&&this.toggle():(this.select(),this.updateRow())},goog.ui.tree.BaseNode.prototype.onClick_=goog.events.Event.preventDefault,goog.ui.tree.BaseNode.prototype.onDoubleClick_=function(e){"expand"==e.target.getAttribute("type")&&this.hasChildren()||this.isUserCollapsible_&&this.toggle()},goog.ui.tree.BaseNode.prototype.onKeyDown=function(e){var t=!0;switch(e.keyCode){case goog.events.KeyCodes.RIGHT:if(e.altKey)break;this.hasChildren()&&(this.getExpanded()?this.getFirstChild().select():this.setExpanded(!0));break;case goog.events.KeyCodes.LEFT:if(e.altKey)break;if(this.hasChildren()&&this.getExpanded()&&this.isUserCollapsible_)this.setExpanded(!1);else{var o=this.getParent(),n=this.getTree();o&&(n.getShowRootNode()||o!=n)&&o.select()}break;case goog.events.KeyCodes.DOWN:(o=this.getNextShownNode())&&o.select();break;case goog.events.KeyCodes.UP:(o=this.getPreviousShownNode())&&o.select();break;default:t=!1}return t&&(e.preventDefault(),(n=this.getTree())&&n.clearTypeAhead()),t},goog.ui.tree.BaseNode.prototype.getLastShownDescendant=function(){return this.getExpanded()&&this.hasChildren()?this.getLastChild().getLastShownDescendant():this},goog.ui.tree.BaseNode.prototype.getNextShownNode=function(){if(this.hasChildren()&&this.getExpanded())return this.getFirstChild();for(var e,t=this;t!=this.getTree();){if(e=t.getNextSibling(),null!=e)return e;t=t.getParent()}return null},goog.ui.tree.BaseNode.prototype.getPreviousShownNode=function(){var e=this.getPreviousSibling();if(null!=e)return e.getLastShownDescendant();var e=this.getParent(),t=this.getTree();return!t.getShowRootNode()&&e==t||this==t?null:e},goog.ui.tree.BaseNode.prototype.getClientData=goog.ui.tree.BaseNode.prototype.getModel,goog.ui.tree.BaseNode.prototype.setClientData=goog.ui.tree.BaseNode.prototype.setModel,goog.ui.tree.BaseNode.prototype.getConfig=function(){return this.config_},goog.ui.tree.BaseNode.prototype.setTreeInternal=function(e){this.tree!=e&&(this.tree=e,e.setNode(this),this.forEachChild(function(t){t.setTreeInternal(e)}))},goog.ui.tree.BaseNode.defaultConfig={indentWidth:19,cssRoot:"goog-tree-root goog-tree-item",cssHideRoot:"goog-tree-hide-root",cssItem:"goog-tree-item",cssChildren:"goog-tree-children",cssChildrenNoLines:"goog-tree-children-nolines",cssTreeRow:"goog-tree-row",cssItemLabel:"goog-tree-item-label",cssTreeIcon:"goog-tree-icon",cssExpandTreeIcon:"goog-tree-expand-icon",cssExpandTreeIconPlus:"goog-tree-expand-icon-plus",cssExpandTreeIconMinus:"goog-tree-expand-icon-minus",cssExpandTreeIconTPlus:"goog-tree-expand-icon-tplus",cssExpandTreeIconTMinus:"goog-tree-expand-icon-tminus",cssExpandTreeIconLPlus:"goog-tree-expand-icon-lplus",cssExpandTreeIconLMinus:"goog-tree-expand-icon-lminus",cssExpandTreeIconT:"goog-tree-expand-icon-t",cssExpandTreeIconL:"goog-tree-expand-icon-l",cssExpandTreeIconBlank:"goog-tree-expand-icon-blank",cssExpandedFolderIcon:"goog-tree-expanded-folder-icon",cssCollapsedFolderIcon:"goog-tree-collapsed-folder-icon",cssFileIcon:"goog-tree-file-icon",cssExpandedRootIcon:"goog-tree-expanded-folder-icon",cssCollapsedRootIcon:"goog-tree-collapsed-folder-icon",cssSelectedRow:"selected"},goog.ui.tree.TreeNode=function(e,t,o){goog.ui.tree.BaseNode.call(this,e,t,o)},goog.inherits(goog.ui.tree.TreeNode,goog.ui.tree.BaseNode),goog.ui.tree.TreeNode.prototype.getTree=function(){if(this.tree)return this.tree;var e=this.getParent();return e&&(e=e.getTree())?(this.setTreeInternal(e),e):null},goog.ui.tree.TreeNode.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),t=this.getExpandedIconClass();if(e&&t)return t;if(t=this.getIconClass(),!e&&t)return t;if(t=this.getConfig(),this.hasChildren()){if(e&&t.cssExpandedFolderIcon)return t.cssTreeIcon+" "+t.cssExpandedFolderIcon;if(!e&&t.cssCollapsedFolderIcon)return t.cssTreeIcon+" "+t.cssCollapsedFolderIcon}else if(t.cssFileIcon)return t.cssTreeIcon+" "+t.cssFileIcon;return""},goog.structs.Trie=function(e){this.value_=void 0,this.childNodes_={},e&&this.setAll(e)},goog.structs.Trie.prototype.set=function(e,t){this.setOrAdd_(e,t,!1)},goog.structs.Trie.prototype.add=function(e,t){this.setOrAdd_(e,t,!0)},goog.structs.Trie.prototype.setOrAdd_=function(e,t,o){for(var n=this,r=0;r<e.length;r++){var i=e.charAt(r);n.childNodes_[i]||(n.childNodes_[i]=new goog.structs.Trie),n=n.childNodes_[i]}if(o&&void 0!==n.value_)throw Error('The collection already contains the key "'+e+'"');n.value_=t},goog.structs.Trie.prototype.setAll=function(e){var t=goog.structs.getKeys(e);e=goog.structs.getValues(e);for(var o=0;o<t.length;o++)this.set(t[o],e[o])},goog.structs.Trie.prototype.getChildNode_=function(e){for(var t=this,o=0;o<e.length;o++){var n=e.charAt(o),t=t.childNodes_[n];if(!t)return}return t},goog.structs.Trie.prototype.get=function(e){return(e=this.getChildNode_(e))?e.value_:void 0},goog.structs.Trie.prototype.getKeyAndPrefixes=function(e,t){var o=this,n={},r=t||0;for(void 0!==o.value_&&(n[r]=o.value_);r<e.length;r++){var i=e.charAt(r);if(!(i in o.childNodes_))break;o=o.childNodes_[i],void 0!==o.value_&&(n[r]=o.value_)}return n},goog.structs.Trie.prototype.getValues=function(){var e=[];return this.getValuesInternal_(e),e},goog.structs.Trie.prototype.getValuesInternal_=function(e){void 0!==this.value_&&e.push(this.value_);for(var t in this.childNodes_)this.childNodes_[t].getValuesInternal_(e)},goog.structs.Trie.prototype.getKeys=function(e){var t=[];if(e){for(var o=this,n=0;n<e.length;n++){var r=e.charAt(n);if(!o.childNodes_[r])return[];o=o.childNodes_[r]}o.getKeysInternal_(e,t)}else this.getKeysInternal_("",t);return t},goog.structs.Trie.prototype.getKeysInternal_=function(e,t){void 0!==this.value_&&t.push(e);for(var o in this.childNodes_)this.childNodes_[o].getKeysInternal_(e+o,t)},goog.structs.Trie.prototype.containsKey=function(e){return void 0!==this.get(e)},goog.structs.Trie.prototype.containsPrefix=function(e){return 0==e.length?!this.isEmpty():!!this.getChildNode_(e)},goog.structs.Trie.prototype.containsValue=function(e){if(this.value_===e)return!0;for(var t in this.childNodes_)if(this.childNodes_[t].containsValue(e))return!0;return!1},goog.structs.Trie.prototype.clear=function(){this.childNodes_={},this.value_=void 0},goog.structs.Trie.prototype.remove=function(e){for(var t=this,o=[],n=0;n<e.length;n++){var r=e.charAt(n);if(!t.childNodes_[r])throw Error('The collection does not have the key "'+e+'"');o.push([t,r]),t=t.childNodes_[r]}for(e=t.value_,delete t.value_;0<o.length&&(r=o.pop(),t=r[0],r=r[1],t.childNodes_[r].isEmpty());)delete t.childNodes_[r];return e},goog.structs.Trie.prototype.clone=function(){return new goog.structs.Trie(this)},goog.structs.Trie.prototype.getCount=function(){return goog.structs.getCount(this.getValues())},goog.structs.Trie.prototype.isEmpty=function(){return void 0===this.value_&&goog.object.isEmpty(this.childNodes_)},goog.ui.tree.TypeAhead=function(){this.nodeMap_=new goog.structs.Trie,this.buffer_="",this.matchingNodes_=this.matchingLabels_=null,this.matchingNodeIndex_=this.matchingLabelIndex_=0},goog.ui.tree.TypeAhead.Offset={DOWN:1,UP:-1},goog.ui.tree.TypeAhead.prototype.handleNavigation=function(e){var t=!1;switch(e.keyCode){case goog.events.KeyCodes.DOWN:case goog.events.KeyCodes.UP:e.ctrlKey&&(this.jumpTo_(e.keyCode==goog.events.KeyCodes.DOWN?goog.ui.tree.TypeAhead.Offset.DOWN:goog.ui.tree.TypeAhead.Offset.UP),t=!0);break;case goog.events.KeyCodes.BACKSPACE:e=this.buffer_.length-1,t=!0,e>0?(this.buffer_=this.buffer_.substring(0,e),this.jumpToLabel_(this.buffer_)):0==e?this.buffer_="":t=!1;break;case goog.events.KeyCodes.ESC:this.buffer_="",t=!0}return t},goog.ui.tree.TypeAhead.prototype.handleTypeAheadChar=function(e){var t=!1;return e.ctrlKey||e.altKey||(e=String.fromCharCode(e.charCode||e.keyCode).toLowerCase(),goog.string.isUnicodeChar(e)&&(" "!=e||this.buffer_)&&(this.buffer_+=e,t=this.jumpToLabel_(this.buffer_))),t},goog.ui.tree.TypeAhead.prototype.setNodeInMap=function(e){var t=e.getText();if(t&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))){var t=t.toLowerCase(),o=this.nodeMap_.get(t);o?o.push(e):this.nodeMap_.set(t,[e])}},goog.ui.tree.TypeAhead.prototype.removeNodeFromMap=function(e){var t=e.getText();if(t&&!goog.string.isEmptyOrWhitespace(goog.string.makeSafe(t))){var t=t.toLowerCase(),o=this.nodeMap_.get(t);o&&(goog.array.remove(o,e),o.length&&this.nodeMap_.remove(t))}},goog.ui.tree.TypeAhead.prototype.jumpToLabel_=function(e){var t=!1;return(e=this.nodeMap_.getKeys(e))&&e.length&&(this.matchingLabelIndex_=this.matchingNodeIndex_=0,t=this.nodeMap_.get(e[0]),t=this.selectMatchingNode_(t))&&(this.matchingLabels_=e),t},goog.ui.tree.TypeAhead.prototype.jumpTo_=function(e){var t=!1,o=this.matchingLabels_;if(o){var t=null,n=!1;if(this.matchingNodes_){var r=this.matchingNodeIndex_+e;r>=0&&r<this.matchingNodes_.length?(this.matchingNodeIndex_=r,t=this.matchingNodes_):n=!0}t||(r=this.matchingLabelIndex_+e,r>=0&&r<o.length&&(this.matchingLabelIndex_=r),o.length>this.matchingLabelIndex_&&(t=this.nodeMap_.get(o[this.matchingLabelIndex_])),t&&t.length&&n&&(this.matchingNodeIndex_=e==goog.ui.tree.TypeAhead.Offset.UP?t.length-1:0)),(t=this.selectMatchingNode_(t))&&(this.matchingLabels_=o)}return t},goog.ui.tree.TypeAhead.prototype.selectMatchingNode_=function(e){var t;return e&&(this.matchingNodeIndex_<e.length&&(t=e[this.matchingNodeIndex_],this.matchingNodes_=e),t&&(t.reveal(),t.select())),!!t},goog.ui.tree.TypeAhead.prototype.clear=function(){this.buffer_=""},goog.ui.tree.TreeControl=function(e,t,o){if(goog.ui.tree.BaseNode.call(this,e,t,o),this.setExpandedInternal(!0),this.setSelectedInternal(!0),this.selectedItem_=this,this.typeAhead_=new goog.ui.tree.TypeAhead,this.focusHandler_=this.keyHandler_=null,this.logger_=goog.log.getLogger("this"),this.focused_=!1,this.focusedNode_=null,this.showRootLines_=this.showRootNode_=this.showExpandIcons_=this.showLines_=!0,goog.userAgent.IE)try{document.execCommand("BackgroundImageCache",!1,!0)}catch(n){goog.log.warning(this.logger_,"Failed to enable background image cache")}},goog.inherits(goog.ui.tree.TreeControl,goog.ui.tree.BaseNode),goog.ui.tree.TreeControl.prototype.getTree=function(){return this},goog.ui.tree.TreeControl.prototype.getDepth=function(){return 0},goog.ui.tree.TreeControl.prototype.reveal=function(){},goog.ui.tree.TreeControl.prototype.handleFocus_=function(e){this.focused_=!0,goog.dom.classlist.add(goog.asserts.assert(this.getElement()),"focused"),this.selectedItem_&&this.selectedItem_.select()},goog.ui.tree.TreeControl.prototype.handleBlur_=function(e){this.focused_=!1,goog.dom.classlist.remove(goog.asserts.assert(this.getElement()),"focused")},goog.ui.tree.TreeControl.prototype.hasFocus=function(){return this.focused_},goog.ui.tree.TreeControl.prototype.getExpanded=function(){return!this.showRootNode_||goog.ui.tree.TreeControl.superClass_.getExpanded.call(this)},goog.ui.tree.TreeControl.prototype.setExpanded=function(e){
this.showRootNode_?goog.ui.tree.TreeControl.superClass_.setExpanded.call(this,e):this.setExpandedInternal(e)},goog.ui.tree.TreeControl.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.EMPTY},goog.ui.tree.TreeControl.prototype.getIconElement=function(){var e=this.getRowElement();return e?e.firstChild:null},goog.ui.tree.TreeControl.prototype.getExpandIconElement=function(){return null},goog.ui.tree.TreeControl.prototype.updateExpandIcon=function(){},goog.ui.tree.TreeControl.prototype.getRowClassName=function(){return goog.ui.tree.TreeControl.superClass_.getRowClassName.call(this)+(this.showRootNode_?"":" "+this.getConfig().cssHideRoot)},goog.ui.tree.TreeControl.prototype.getCalculatedIconClass=function(){var e=this.getExpanded(),t=this.getExpandedIconClass();return e&&t?t:(t=this.getIconClass(),!e&&t?t:(t=this.getConfig(),e&&t.cssExpandedRootIcon?t.cssTreeIcon+" "+t.cssExpandedRootIcon:!e&&t.cssCollapsedRootIcon?t.cssTreeIcon+" "+t.cssCollapsedRootIcon:""))},goog.ui.tree.TreeControl.prototype.setSelectedItem=function(e){if(this.selectedItem_!=e){var t=!1;this.selectedItem_&&(t=this.selectedItem_==this.focusedNode_,this.selectedItem_.setSelectedInternal(!1)),(this.selectedItem_=e)&&(e.setSelectedInternal(!0),t&&e.select()),this.dispatchEvent(goog.events.EventType.CHANGE)}},goog.ui.tree.TreeControl.prototype.getSelectedItem=function(){return this.selectedItem_},goog.ui.tree.TreeControl.prototype.setShowLines=function(e){this.showLines_!=e&&(this.showLines_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowLines=function(){return this.showLines_},goog.ui.tree.TreeControl.prototype.updateLinesAndExpandIcons_=function(){function e(r){var i=r.getChildrenElement();if(i){var s=!o||t==r.getParent()&&!n?r.getConfig().cssChildrenNoLines:r.getConfig().cssChildren;i.className=s,(i=r.getExpandIconElement())&&(i.className=r.getExpandIconClass())}r.forEachChild(e)}var t=this,o=t.getShowLines(),n=t.getShowRootLines();e(this)},goog.ui.tree.TreeControl.prototype.setShowRootLines=function(e){this.showRootLines_!=e&&(this.showRootLines_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowRootLines=function(){return this.showRootLines_},goog.ui.tree.TreeControl.prototype.setShowExpandIcons=function(e){this.showExpandIcons_!=e&&(this.showExpandIcons_=e,this.isInDocument()&&this.updateLinesAndExpandIcons_())},goog.ui.tree.TreeControl.prototype.getShowExpandIcons=function(){return this.showExpandIcons_},goog.ui.tree.TreeControl.prototype.setShowRootNode=function(e){if(this.showRootNode_!=e){if(this.showRootNode_=e,this.isInDocument()){var t=this.getRowElement();t&&(t.className=this.getRowClassName())}!e&&this.getSelectedItem()==this&&this.getFirstChild()&&this.setSelectedItem(this.getFirstChild())}},goog.ui.tree.TreeControl.prototype.getShowRootNode=function(){return this.showRootNode_},goog.ui.tree.TreeControl.prototype.initAccessibility=function(){goog.ui.tree.TreeControl.superClass_.initAccessibility.call(this);var e=this.getElement();goog.asserts.assert(e,"The DOM element for the tree cannot be null."),goog.a11y.aria.setRole(e,"tree"),goog.a11y.aria.setState(e,"labelledby",this.getLabelElement().id)},goog.ui.tree.TreeControl.prototype.enterDocument=function(){goog.ui.tree.TreeControl.superClass_.enterDocument.call(this);var e=this.getElement();e.className=this.getConfig().cssRoot,e.setAttribute("hideFocus","true"),this.attachEvents_(),this.initAccessibility()},goog.ui.tree.TreeControl.prototype.exitDocument=function(){goog.ui.tree.TreeControl.superClass_.exitDocument.call(this),this.detachEvents_()},goog.ui.tree.TreeControl.prototype.attachEvents_=function(){var e=this.getElement();e.tabIndex=0;var t=this.keyHandler_=new goog.events.KeyHandler(e),o=this.focusHandler_=new goog.events.FocusHandler(e);this.getHandler().listen(o,goog.events.FocusHandler.EventType.FOCUSOUT,this.handleBlur_).listen(o,goog.events.FocusHandler.EventType.FOCUSIN,this.handleFocus_).listen(t,goog.events.KeyHandler.EventType.KEY,this.handleKeyEvent).listen(e,goog.events.EventType.MOUSEDOWN,this.handleMouseEvent_).listen(e,goog.events.EventType.CLICK,this.handleMouseEvent_).listen(e,goog.events.EventType.DBLCLICK,this.handleMouseEvent_)},goog.ui.tree.TreeControl.prototype.detachEvents_=function(){this.keyHandler_.dispose(),this.keyHandler_=null,this.focusHandler_.dispose(),this.focusHandler_=null},goog.ui.tree.TreeControl.prototype.handleMouseEvent_=function(e){goog.log.fine(this.logger_,"Received event "+e.type);var t=this.getNodeFromEvent_(e);if(t)switch(e.type){case goog.events.EventType.MOUSEDOWN:t.onMouseDown(e);break;case goog.events.EventType.CLICK:t.onClick_(e);break;case goog.events.EventType.DBLCLICK:t.onDoubleClick_(e)}},goog.ui.tree.TreeControl.prototype.handleKeyEvent=function(e){var t=!1;return(t=this.typeAhead_.handleNavigation(e)||this.selectedItem_&&this.selectedItem_.onKeyDown(e)||this.typeAhead_.handleTypeAheadChar(e))&&e.preventDefault(),t},goog.ui.tree.TreeControl.prototype.getNodeFromEvent_=function(e){var t=null;for(e=e.target;null!=e;){if(t=goog.ui.tree.BaseNode.allNodes[e.id])return t;if(e==this.getElement())break;e=e.parentNode}return null},goog.ui.tree.TreeControl.prototype.createNode=function(e){return new goog.ui.tree.TreeNode(e||goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())},goog.ui.tree.TreeControl.prototype.setNode=function(e){this.typeAhead_.setNodeInMap(e)},goog.ui.tree.TreeControl.prototype.removeNode=function(e){this.typeAhead_.removeNodeFromMap(e)},goog.ui.tree.TreeControl.prototype.clearTypeAhead=function(){this.typeAhead_.clear()},goog.ui.tree.TreeControl.defaultConfig=goog.ui.tree.BaseNode.defaultConfig;var Blockly={Blocks:{}};Blockly.Workspace=function(e){this.id=Blockly.genUid(),Blockly.Workspace.WorkspaceDB_[this.id]=this,this.options=e||{},this.RTL=!!this.options.RTL,this.topBlocks_=[],this.listeners_=[],this.undoStack_=[],this.redoStack_=[],this.blockDB_=Object.create(null)},Blockly.Workspace.prototype.rendered=!1,Blockly.Workspace.prototype.MAX_UNDO=1024,Blockly.Workspace.prototype.dispose=function(){this.listeners_.length=0,this.clear(),delete Blockly.Workspace.WorkspaceDB_[this.id]},Blockly.Workspace.SCAN_ANGLE=3,Blockly.Workspace.prototype.addTopBlock=function(e){this.topBlocks_.push(e)},Blockly.Workspace.prototype.removeTopBlock=function(e){for(var t,o=!1,n=0;t=this.topBlocks_[n];n++)if(t==e){this.topBlocks_.splice(n,1),o=!0;break}if(!o)throw"Block not present in workspace's list of top-most blocks."},Blockly.Workspace.prototype.getTopBlocks=function(e){var t=[].concat(this.topBlocks_);if(e&&1<t.length){var o=Math.sin(goog.math.toRadians(Blockly.Workspace.SCAN_ANGLE));this.RTL&&(o*=-1),t.sort(function(e,t){var n=e.getRelativeToSurfaceXY(),r=t.getRelativeToSurfaceXY();return n.y+o*n.x-(r.y+o*r.x)})}return t},Blockly.Workspace.prototype.getAllBlocks=function(){for(var e=this.getTopBlocks(!1),t=0;t<e.length;t++)e.push.apply(e,e[t].getChildren());return e},Blockly.Workspace.prototype.clear=function(){var e=Blockly.Events.getGroup();for(e||Blockly.Events.setGroup(!0);this.topBlocks_.length;)this.topBlocks_[0].dispose();e||Blockly.Events.setGroup(!1)},Blockly.Workspace.prototype.getWidth=function(){return 0},Blockly.Workspace.prototype.newBlock=function(e,t){return new Blockly.Block(this,e,t)},Blockly.Workspace.prototype.remainingCapacity=function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks().length},Blockly.Workspace.prototype.undo=function(e){var t=e?this.redoStack_:this.undoStack_,o=e?this.undoStack_:this.redoStack_,n=t.pop();if(n){for(var r=[n];t.length&&n.group&&n.group==t[t.length-1].group;)r.push(t.pop());for(t=0;n=r[t];t++)o.push(n);for(r=Blockly.Events.filter(r,e),Blockly.Events.recordUndo=!1,t=0;n=r[t];t++)n.run(e);Blockly.Events.recordUndo=!0}},Blockly.Workspace.prototype.clearUndo=function(){this.undoStack_.length=0,this.redoStack_.length=0,Blockly.Events.clearPendingUndo()},Blockly.Workspace.prototype.addChangeListener=function(e){return this.listeners_.push(e),e},Blockly.Workspace.prototype.removeChangeListener=function(e){e=this.listeners_.indexOf(e),-1!=e&&this.listeners_.splice(e,1)},Blockly.Workspace.prototype.fireChangeListener=function(e){e.recordUndo&&(this.undoStack_.push(e),this.redoStack_.length=0,this.undoStack_.length>this.MAX_UNDO&&this.undoStack_.unshift());for(var t,o=0;t=this.listeners_[o];o++)t(e)},Blockly.Workspace.prototype.getBlockById=function(e){return this.blockDB_[e]||null},Blockly.Workspace.WorkspaceDB_=Object.create(null),Blockly.Workspace.getById=function(e){return Blockly.Workspace.WorkspaceDB_[e]||null},Blockly.Workspace.prototype.clear=Blockly.Workspace.prototype.clear,Blockly.Workspace.prototype.clearUndo=Blockly.Workspace.prototype.clearUndo,Blockly.Workspace.prototype.addChangeListener=Blockly.Workspace.prototype.addChangeListener,Blockly.Workspace.prototype.removeChangeListener=Blockly.Workspace.prototype.removeChangeListener,Blockly.Bubble=function(e,t,o,n,r,i){this.workspace_=e,this.content_=t,this.shape_=o,o=Blockly.Bubble.ARROW_ANGLE,this.workspace_.RTL&&(o=-o),this.arrow_radians_=goog.math.toRadians(o),e.getBubbleCanvas().appendChild(this.createDom_(t,!(!r||!i))),this.setAnchorLocation(n),r&&i||(t=this.content_.getBBox(),r=t.width+2*Blockly.Bubble.BORDER_WIDTH,i=t.height+2*Blockly.Bubble.BORDER_WIDTH),this.setBubbleSize(r,i),this.positionBubble_(),this.renderArrow_(),this.rendered_=!0,e.options.readOnly||(Blockly.bindEvent_(this.bubbleBack_,"mousedown",this,this.bubbleMouseDown_),this.resizeGroup_&&Blockly.bindEvent_(this.resizeGroup_,"mousedown",this,this.resizeMouseDown_))},Blockly.Bubble.BORDER_WIDTH=6,Blockly.Bubble.ARROW_THICKNESS=10,Blockly.Bubble.ARROW_ANGLE=20,Blockly.Bubble.ARROW_BEND=4,Blockly.Bubble.ANCHOR_RADIUS=8,Blockly.Bubble.onMouseUpWrapper_=null,Blockly.Bubble.onMouseMoveWrapper_=null,Blockly.Bubble.unbindDragEvents_=function(){Blockly.Bubble.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseUpWrapper_),Blockly.Bubble.onMouseUpWrapper_=null),Blockly.Bubble.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Bubble.onMouseMoveWrapper_),Blockly.Bubble.onMouseMoveWrapper_=null)},Blockly.Bubble.prototype.rendered_=!1,Blockly.Bubble.prototype.anchorXY_=null,Blockly.Bubble.prototype.relativeLeft_=0,Blockly.Bubble.prototype.relativeTop_=0,Blockly.Bubble.prototype.width_=0,Blockly.Bubble.prototype.height_=0,Blockly.Bubble.prototype.autoLayout_=!0,Blockly.Bubble.prototype.createDom_=function(e,t){this.bubbleGroup_=Blockly.createSvgElement("g",{},null);var o={filter:"url(#"+this.workspace_.options.embossFilterId+")"};return-1!=goog.userAgent.getUserAgentString().indexOf("JavaFX")&&(o={}),o=Blockly.createSvgElement("g",o,this.bubbleGroup_),this.bubbleArrow_=Blockly.createSvgElement("path",{},o),this.bubbleBack_=Blockly.createSvgElement("rect",{"class":"blocklyDraggable",x:0,y:0,rx:Blockly.Bubble.BORDER_WIDTH,ry:Blockly.Bubble.BORDER_WIDTH},o),t?(this.resizeGroup_=Blockly.createSvgElement("g",{"class":this.workspace_.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.bubbleGroup_),o=2*Blockly.Bubble.BORDER_WIDTH,Blockly.createSvgElement("polygon",{points:"0,x x,x x,0".replace(/x/g,o.toString())},this.resizeGroup_),Blockly.createSvgElement("line",{"class":"blocklyResizeLine",x1:o/3,y1:o-1,x2:o-1,y2:o/3},this.resizeGroup_),Blockly.createSvgElement("line",{"class":"blocklyResizeLine",x1:2*o/3,y1:o-1,x2:o-1,y2:2*o/3},this.resizeGroup_)):this.resizeGroup_=null,this.bubbleGroup_.appendChild(e),this.bubbleGroup_},Blockly.Bubble.prototype.bubbleMouseDown_=function(e){this.promote_(),Blockly.Bubble.unbindDragEvents_(),Blockly.isRightButton(e)?e.stopPropagation():Blockly.isTargetInput_(e)||(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),this.workspace_.startDrag(e,new goog.math.Coordinate(this.workspace_.RTL?-this.relativeLeft_:this.relativeLeft_,this.relativeTop_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,Blockly.Bubble.unbindDragEvents_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.bubbleMouseMove_),Blockly.hideChaff(),e.stopPropagation())},Blockly.Bubble.prototype.bubbleMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.relativeLeft_=this.workspace_.RTL?-e.x:e.x,this.relativeTop_=e.y,this.positionBubble_(),this.renderArrow_()},Blockly.Bubble.prototype.resizeMouseDown_=function(e){this.promote_(),Blockly.Bubble.unbindDragEvents_(),Blockly.isRightButton(e)||(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),this.workspace_.startDrag(e,new goog.math.Coordinate(this.workspace_.RTL?-this.width_:this.width_,this.height_)),Blockly.Bubble.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,Blockly.Bubble.unbindDragEvents_),Blockly.Bubble.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.resizeMouseMove_),Blockly.hideChaff()),e.stopPropagation()},Blockly.Bubble.prototype.resizeMouseMove_=function(e){this.autoLayout_=!1,e=this.workspace_.moveDrag(e),this.setBubbleSize(this.workspace_.RTL?-e.x:e.x,e.y),this.workspace_.RTL&&this.positionBubble_()},Blockly.Bubble.prototype.registerResizeEvent=function(e,t){Blockly.bindEvent_(this.bubbleGroup_,"resize",e,t)},Blockly.Bubble.prototype.promote_=function(){this.bubbleGroup_.parentNode.appendChild(this.bubbleGroup_)},Blockly.Bubble.prototype.setAnchorLocation=function(e){this.anchorXY_=e,this.rendered_&&this.positionBubble_()},Blockly.Bubble.prototype.layoutBubble_=function(){var e=-this.width_/4,t=-this.height_-Blockly.BlockSvg.MIN_BLOCK_Y,o=this.workspace_.getMetrics();o.viewWidth/=this.workspace_.scale,o.viewLeft/=this.workspace_.scale;var n=this.anchorXY_.x;this.workspace_.RTL?n-o.viewLeft-e-this.width_<Blockly.Scrollbar.scrollbarThickness?e=n-o.viewLeft-this.width_-Blockly.Scrollbar.scrollbarThickness:n-o.viewLeft-e>o.viewWidth&&(e=n-o.viewLeft-o.viewWidth):n+e<o.viewLeft?e=o.viewLeft-n:o.viewLeft+o.viewWidth<n+e+this.width_+Blockly.BlockSvg.SEP_SPACE_X+Blockly.Scrollbar.scrollbarThickness&&(e=o.viewLeft+o.viewWidth-n-this.width_-Blockly.Scrollbar.scrollbarThickness),this.anchorXY_.y+t<o.viewTop&&(t=this.shape_.getBBox().height),this.relativeLeft_=e,this.relativeTop_=t},Blockly.Bubble.prototype.positionBubble_=function(){var e=this.anchorXY_.x,e=this.workspace_.RTL?e-(this.relativeLeft_+this.width_):e+this.relativeLeft_;this.bubbleGroup_.setAttribute("transform","translate("+e+","+(this.relativeTop_+this.anchorXY_.y)+")")},Blockly.Bubble.prototype.getBubbleSize=function(){return{width:this.width_,height:this.height_}},Blockly.Bubble.prototype.setBubbleSize=function(e,t){var o=2*Blockly.Bubble.BORDER_WIDTH;e=Math.max(e,o+45),t=Math.max(t,o+20),this.width_=e,this.height_=t,this.bubbleBack_.setAttribute("width",e),this.bubbleBack_.setAttribute("height",t),this.resizeGroup_&&(this.workspace_.RTL?this.resizeGroup_.setAttribute("transform","translate("+2*Blockly.Bubble.BORDER_WIDTH+","+(t-o)+") scale(-1 1)"):this.resizeGroup_.setAttribute("transform","translate("+(e-o)+","+(t-o)+")")),this.rendered_&&(this.autoLayout_&&this.layoutBubble_(),this.positionBubble_(),this.renderArrow_()),Blockly.fireUiEvent(this.bubbleGroup_,"resize")},Blockly.Bubble.prototype.renderArrow_=function(){var e=[],t=this.width_/2,o=this.height_/2,n=-this.relativeLeft_,r=-this.relativeTop_;if(t==n&&o==r)e.push("M "+t+","+o);else{r-=o,n-=t,this.workspace_.RTL&&(n*=-1);var i=Math.sqrt(r*r+n*n),s=Math.acos(n/i);0>r&&(s=2*Math.PI-s);var a=s+Math.PI/2;a>2*Math.PI&&(a-=2*Math.PI);var l=Math.sin(a),g=Math.cos(a),c=this.getBubbleSize(),a=(c.width+c.height)/Blockly.Bubble.ARROW_THICKNESS,a=Math.min(a,c.width,c.height)/2,c=1-Blockly.Bubble.ANCHOR_RADIUS/i,n=t+c*n,r=o+c*r,c=t+a*g,u=o+a*l,t=t-a*g,o=o-a*l,l=s+this.arrow_radians_;l>2*Math.PI&&(l-=2*Math.PI),s=Math.sin(l)*i/Blockly.Bubble.ARROW_BEND,i=Math.cos(l)*i/Blockly.Bubble.ARROW_BEND,e.push("M"+c+","+u),e.push("C"+(c+i)+","+(u+s)+" "+n+","+r+" "+n+","+r),e.push("C"+n+","+r+" "+(t+i)+","+(o+s)+" "+t+","+o)}e.push("z"),this.bubbleArrow_.setAttribute("d",e.join(" "))},Blockly.Bubble.prototype.setColour=function(e){this.bubbleBack_.setAttribute("fill",e),this.bubbleArrow_.setAttribute("fill",e)},Blockly.Bubble.prototype.dispose=function(){Blockly.Bubble.unbindDragEvents_(),goog.dom.removeNode(this.bubbleGroup_),this.shape_=this.content_=this.workspace_=this.resizeGroup_=this.bubbleBack_=this.bubbleArrow_=this.bubbleGroup_=null},Blockly.Icon=function(e){this.block_=e},Blockly.Icon.prototype.collapseHidden=!0,Blockly.Icon.prototype.SIZE=17,Blockly.Icon.prototype.bubble_=null,Blockly.Icon.prototype.iconXY_=null,Blockly.Icon.prototype.createIcon=function(){this.iconGroup_||(this.iconGroup_=Blockly.createSvgElement("g",{"class":"blocklyIconGroup"},null),this.drawIcon_(this.iconGroup_),this.block_.getSvgRoot().appendChild(this.iconGroup_),Blockly.bindEvent_(this.iconGroup_,"mouseup",this,this.iconClick_),this.updateEditable())},Blockly.Icon.prototype.dispose=function(){goog.dom.removeNode(this.iconGroup_),this.iconGroup_=null,this.setVisible(!1),this.block_=null},Blockly.Icon.prototype.updateEditable=function(){this.block_.isInFlyout||!this.block_.isEditable()?Blockly.addClass_(this.iconGroup_,"blocklyIconGroupReadonly"):Blockly.removeClass_(this.iconGroup_,"blocklyIconGroupReadonly")},Blockly.Icon.prototype.isVisible=function(){return!!this.bubble_},Blockly.Icon.prototype.iconClick_=function(e){Blockly.dragMode_!=Blockly.DRAG_FREE&&(this.block_.isInFlyout||Blockly.isRightButton(e)||this.setVisible(!this.isVisible()))},Blockly.Icon.prototype.updateColour=function(){this.isVisible()&&this.bubble_.setColour(this.block_.getColour())},Blockly.Icon.prototype.renderIcon=function(e){if(this.collapseHidden&&this.block_.isCollapsed())return this.iconGroup_.setAttribute("display","none"),e;this.iconGroup_.setAttribute("display","block");var t=this.SIZE;return this.block_.RTL&&(e-=t),this.iconGroup_.setAttribute("transform","translate("+e+",5)"),this.computeIconLocation(),e=this.block_.RTL?e-Blockly.BlockSvg.SEP_SPACE_X:e+(t+Blockly.BlockSvg.SEP_SPACE_X)},Blockly.Icon.prototype.setIconLocation=function(e){this.iconXY_=e,this.isVisible()&&this.bubble_.setAnchorLocation(e)},Blockly.Icon.prototype.computeIconLocation=function(){var e=this.block_.getRelativeToSurfaceXY(),t=Blockly.getRelativeXY_(this.iconGroup_),e=new goog.math.Coordinate(e.x+t.x+this.SIZE/2,e.y+t.y+this.SIZE/2);goog.math.Coordinate.equals(this.getIconLocation(),e)||this.setIconLocation(e)},Blockly.Icon.prototype.getIconLocation=function(){return this.iconXY_},Blockly.Comment=function(e){Blockly.Comment.superClass_.constructor.call(this,e),this.createIcon()},goog.inherits(Blockly.Comment,Blockly.Icon),Blockly.Comment.prototype.text_="",Blockly.Comment.prototype.width_=160,Blockly.Comment.prototype.height_=80,Blockly.Comment.prototype.drawIcon_=function(e){Blockly.createSvgElement("circle",{"class":"blocklyIconShape",r:"8",cx:"8",cy:"8"},e),Blockly.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.405 0.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25 -1.201,0.998 -1.201,1.528 -1.204,2.19z"},e),Blockly.createSvgElement("rect",{"class":"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},e)},Blockly.Comment.prototype.createEditor_=function(){this.foreignObject_=Blockly.createSvgElement("foreignObject",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null);var e=document.createElementNS(Blockly.HTML_NS,"body");return e.setAttribute("xmlns",Blockly.HTML_NS),e.className="blocklyMinimalBody",this.textarea_=document.createElementNS(Blockly.HTML_NS,"textarea"),this.textarea_.className="blocklyCommentTextarea",this.textarea_.setAttribute("dir",this.block_.RTL?"RTL":"LTR"),e.appendChild(this.textarea_),this.foreignObject_.appendChild(e),Blockly.bindEvent_(this.textarea_,"mouseup",this,this.textareaFocus_),Blockly.bindEvent_(this.textarea_,"wheel",this,function(e){e.stopPropagation()}),Blockly.bindEvent_(this.textarea_,"change",this,function(e){this.text_!=this.textarea_.value&&(Blockly.Events.fire(new Blockly.Events.Change(this.block_,"comment",null,this.text_,this.textarea_.value)),this.text_=this.textarea_.value)}),this.foreignObject_},Blockly.Comment.prototype.updateEditable=function(){this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)),Blockly.Icon.prototype.updateEditable.call(this)},Blockly.Comment.prototype.resizeBubble_=function(){var e=this.bubble_.getBubbleSize(),t=2*Blockly.Bubble.BORDER_WIDTH;this.foreignObject_.setAttribute("width",e.width-t),this.foreignObject_.setAttribute("height",e.height-t),this.textarea_.style.width=e.width-t-4+"px",this.textarea_.style.height=e.height-t-4+"px"},Blockly.Comment.prototype.setVisible=function(e){if(e!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"commentOpen",!e,e)),!this.block_.isEditable()&&!this.textarea_||goog.userAgent.IE)Blockly.Warning.prototype.setVisible.call(this,e);else{var t=this.getText(),o=this.getBubbleSize();e?(this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,this.width_,this.height_),this.bubble_.registerResizeEvent(this,this.resizeBubble_),this.updateColour()):(this.bubble_.dispose(),this.foreignObject_=this.textarea_=this.bubble_=null),this.setText(t),this.setBubbleSize(o.width,o.height)}},Blockly.Comment.prototype.textareaFocus_=function(e){this.bubble_.promote_(),this.textarea_.focus()},Blockly.Comment.prototype.getBubbleSize=function(){return this.isVisible()?this.bubble_.getBubbleSize():{width:this.width_,height:this.height_}},Blockly.Comment.prototype.setBubbleSize=function(e,t){this.textarea_?this.bubble_.setBubbleSize(e,t):(this.width_=e,this.height_=t)},Blockly.Comment.prototype.getText=function(){return this.textarea_?this.textarea_.value:this.text_},Blockly.Comment.prototype.setText=function(e){this.text_!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this.block_,"comment",null,this.text_,e)),this.text_=e),this.textarea_&&(this.textarea_.value=e)},Blockly.Comment.prototype.dispose=function(){Blockly.Events.isEnabled()&&this.setText(""),this.block_.comment=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Connection=function(e,t){this.sourceBlock_=e,this.type=t,e.workspace.connectionDBList&&(this.db_=e.workspace.connectionDBList[t],this.dbOpposite_=e.workspace.connectionDBList[Blockly.OPPOSITE_TYPE[t]],this.hidden_=!this.db_)},Blockly.Connection.CAN_CONNECT=0,Blockly.Connection.REASON_SELF_CONNECTION=1,Blockly.Connection.REASON_WRONG_TYPE=2,Blockly.Connection.REASON_TARGET_NULL=3,Blockly.Connection.REASON_CHECKS_FAILED=4,Blockly.Connection.REASON_DIFFERENT_WORKSPACES=5,Blockly.Connection.connect_=function(e,t){var o=e.getSourceBlock(),n=t.getSourceBlock();if(t.isConnected()&&t.disconnect(),e.isConnected()){var r=e.targetBlock(),i=e.getShadowDom();if(e.setShadowDom(null),r.isShadow())i=Blockly.Xml.blockToDom(r),r.dispose(),r=null;else if(e.type==Blockly.INPUT_VALUE){if(!r.outputConnection)throw"Orphan block does not have an output connection.";var s=Blockly.Connection.lastConnectionInRow_(n,r);s&&(r.outputConnection.connect(s),r=null)}else if(e.type==Blockly.NEXT_STATEMENT){if(!r.previousConnection)throw"Orphan block does not have a previous connection.";for(s=n;s.nextConnection;){if(!s.nextConnection.isConnected()){r.previousConnection.checkType_(s.nextConnection)&&(s.nextConnection.connect(r.previousConnection),r=null);break}s=s.getNextBlock()}}if(r&&(e.disconnect(),Blockly.Events.recordUndo)){var a=Blockly.Events.getGroup();setTimeout(function(){r.workspace&&!r.getParent()&&(Blockly.Events.setGroup(a),r.outputConnection?r.outputConnection.bumpAwayFrom_(e):r.previousConnection&&r.previousConnection.bumpAwayFrom_(e),Blockly.Events.setGroup(!1))},Blockly.BUMP_DELAY)}e.setShadowDom(i)}var l;Blockly.Events.isEnabled()&&(l=new Blockly.Events.Move(n)),Blockly.Connection.connectReciprocally_(e,t),n.setParent(o),l&&(l.recordNew(),Blockly.Events.fire(l)),o.rendered&&o.updateDisabled(),n.rendered&&n.updateDisabled(),o.rendered&&n.rendered&&(e.type==Blockly.NEXT_STATEMENT||e.type==Blockly.PREVIOUS_STATEMENT?n.render():o.render())},Blockly.Connection.prototype.targetConnection=null,Blockly.Connection.prototype.check_=null,Blockly.Connection.prototype.shadowDom_=null,Blockly.Connection.prototype.x_=0,Blockly.Connection.prototype.y_=0,Blockly.Connection.prototype.inDB_=!1,Blockly.Connection.prototype.db_=null,Blockly.Connection.prototype.dbOpposite_=null,Blockly.Connection.prototype.hidden_=null,Blockly.Connection.prototype.dispose=function(){if(this.isConnected())throw"Disconnect connection before disposing of it.";this.inDB_&&this.db_.removeConnection_(this),Blockly.highlightedConnection_==this&&(Blockly.highlightedConnection_=null),Blockly.localConnection_==this&&(Blockly.localConnection_=null),this.dbOpposite_=this.db_=null},Blockly.Connection.prototype.getSourceBlock=function(){return this.sourceBlock_},Blockly.Connection.prototype.isSuperior=function(){return this.type==Blockly.INPUT_VALUE||this.type==Blockly.NEXT_STATEMENT},Blockly.Connection.prototype.isConnected=function(){return!!this.targetConnection},Blockly.Connection.prototype.distanceFrom=function(e){var t=this.x_-e.x_;return e=this.y_-e.y_,Math.sqrt(t*t+e*e)},Blockly.Connection.prototype.canConnectWithReason_=function(e){return e?this.sourceBlock_&&e.getSourceBlock()==this.sourceBlock_?Blockly.Connection.REASON_SELF_CONNECTION:e.type!=Blockly.OPPOSITE_TYPE[this.type]?Blockly.Connection.REASON_WRONG_TYPE:this.sourceBlock_&&e.getSourceBlock()&&this.sourceBlock_.workspace!==e.getSourceBlock().workspace?Blockly.Connection.REASON_DIFFERENT_WORKSPACES:this.checkType_(e)?Blockly.Connection.CAN_CONNECT:Blockly.Connection.REASON_CHECKS_FAILED:Blockly.Connection.REASON_TARGET_NULL},Blockly.Connection.prototype.checkConnection_=function(e){switch(this.canConnectWithReason_(e)){case Blockly.Connection.CAN_CONNECT:break;case Blockly.Connection.REASON_SELF_CONNECTION:throw"Attempted to connect a block to itself.";case Blockly.Connection.REASON_DIFFERENT_WORKSPACES:throw"Blocks not on same workspace.";case Blockly.Connection.REASON_WRONG_TYPE:throw"Attempt to connect incompatible types.";case Blockly.Connection.REASON_TARGET_NULL:throw"Target connection is null.";case Blockly.Connection.REASON_CHECKS_FAILED:throw"Connection checks failed.";default:throw"Unknown connection failure: this should never happen!"}},Blockly.Connection.prototype.isConnectionAllowed=function(e,t){if(this.distanceFrom(e)>t)return!1;var o=this.canConnectWithReason_(e);if(o!=Blockly.Connection.CAN_CONNECT&&o!=Blockly.Connection.REASON_MUST_DISCONNECT)return!1;if((e.type==Blockly.OUTPUT_VALUE||e.type==Blockly.PREVIOUS_STATEMENT)&&(e.isConnected()||this.isConnected()))return!1;if(e.type==Blockly.INPUT_VALUE&&e.isConnected()&&!e.targetBlock().isMovable()&&!e.targetBlock().isShadow()||this.type==Blockly.PREVIOUS_STATEMENT&&e.isConnected()&&!this.sourceBlock_.nextConnection)return!1;var o=e.getSourceBlock(),n=this.sourceBlock_;if(o&&n)do{if(n==o)return!1;o=o.getParent()}while(o);return!0},Blockly.Connection.prototype.connect=function(e){this.targetConnection!=e&&(this.checkConnection_(e),this.isSuperior()?Blockly.Connection.connect_(this,e):Blockly.Connection.connect_(e,this))},Blockly.Connection.connectReciprocally_=function(e,t){goog.asserts.assert(e&&t,"Cannot connect null connections."),e.targetConnection=t,t.targetConnection=e},Blockly.Connection.singleConnection_=function(e,t){for(var o=!1,n=0;n<e.inputList.length;n++){var r=e.inputList[n].connection;if(r&&r.type==Blockly.INPUT_VALUE&&t.outputConnection.checkType_(r)){if(o)return null;o=r}}return o},Blockly.Connection.lastConnectionInRow_=function(e,t){for(var o,n=e;o=Blockly.Connection.singleConnection_(n,t);)if(n=o.targetBlock(),!n||n.isShadow())return o;return null},Blockly.Connection.prototype.disconnect=function(){var e=this.targetConnection;goog.asserts.assert(e,"Source connection not connected."),goog.asserts.assert(e.targetConnection==this,"Target connection not connected to source connection.");var t,o,n;this.isSuperior()?(t=this.sourceBlock_,o=e.getSourceBlock(),n=this):(t=e.getSourceBlock(),o=this.sourceBlock_,n=e);var r;if(Blockly.Events.isEnabled()&&(r=new Blockly.Events.Move(o)),this.targetConnection=e.targetConnection=null,o.setParent(null),r&&(r.recordNew(),Blockly.Events.fire(r)),e=n.getShadowDom(),t.workspace&&e&&Blockly.Events.recordUndo){if(e=Blockly.Xml.domToBlock(e,t.workspace),e.outputConnection)n.connect(e.outputConnection);else{if(!e.previousConnection)throw"Child block does not have output or previous statement.";n.connect(e.previousConnection)}e.initSvg&&e.initSvg(),e.render(!1)}t.rendered&&t.render(),o.rendered&&(o.updateDisabled(),o.render())},Blockly.Connection.prototype.targetBlock=function(){return this.isConnected()?this.targetConnection.getSourceBlock():null},Blockly.Connection.prototype.bumpAwayFrom_=function(e){if(Blockly.dragMode_==Blockly.DRAG_NONE){var t=this.sourceBlock_.getRootBlock();if(!t.isInFlyout){var o=!1;if(!t.isMovable()){if(t=e.getSourceBlock().getRootBlock(),!t.isMovable())return;e=this,o=!0}t.getSvgRoot().parentNode.appendChild(t.getSvgRoot());var n=e.x_+Blockly.SNAP_RADIUS-this.x_;e=e.y_+Blockly.SNAP_RADIUS-this.y_,o&&(e=-e),t.RTL&&(n=-n),t.moveBy(n,e)}}},Blockly.Connection.prototype.moveTo=function(e,t){this.inDB_&&this.db_.removeConnection_(this),this.x_=e,this.y_=t,this.hidden_||this.db_.addConnection(this)},Blockly.Connection.prototype.moveBy=function(e,t){this.moveTo(this.x_+e,this.y_+t)},Blockly.Connection.prototype.tighten_=function(){var e=this.targetConnection.x_-this.x_,t=this.targetConnection.y_-this.y_;if(0!=e||0!=t){var o=this.targetBlock(),n=o.getSvgRoot();if(!n)throw"block is not rendered.";n=Blockly.getRelativeXY_(n),o.getSvgRoot().setAttribute("transform","translate("+(n.x-e)+","+(n.y-t)+")"),o.moveConnections_(-e,-t)}},Blockly.Connection.prototype.closest=function(e,t){return this.dbOpposite_.searchForClosest(this,e,t)},Blockly.Connection.prototype.checkType_=function(e){if(!this.check_||!e.check_)return!0;for(var t=0;t<this.check_.length;t++)if(-1!=e.check_.indexOf(this.check_[t]))return!0;return!1},Blockly.Connection.prototype.setCheck=function(e){return e?(goog.isArray(e)||(e=[e]),this.check_=e,this.isConnected()&&!this.checkType_(this.targetConnection)&&((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours_())):this.check_=null,this},Blockly.Connection.prototype.setShadowDom=function(e){this.shadowDom_=e},Blockly.Connection.prototype.getShadowDom=function(){return this.shadowDom_},Blockly.Connection.prototype.neighbours_=function(e){return this.dbOpposite_.getNeighbours(this,e)},Blockly.Connection.prototype.setHidden=function(e){(this.hidden_=e)&&this.inDB_?this.db_.removeConnection_(this):e||this.inDB_||this.db_.addConnection(this)},Blockly.Connection.prototype.hideAll=function(){if(this.setHidden(!0),this.isConnected())for(var e=this.targetBlock().getDescendants(),t=0;t<e.length;t++){for(var o=e[t],n=o.getConnections_(!0),r=0;r<n.length;r++)n[r].setHidden(!0);for(o=o.getIcons(),n=0;n<o.length;n++)o[n].setVisible(!1)}},Blockly.Connection.prototype.unhideAll=function(){this.setHidden(!1);var e=[];if(this.type!=Blockly.INPUT_VALUE&&this.type!=Blockly.NEXT_STATEMENT)return e;var t=this.targetBlock();if(t){var o;t.isCollapsed()?(o=[],t.outputConnection&&o.push(t.outputConnection),t.nextConnection&&o.push(t.nextConnection),t.previousConnection&&o.push(t.previousConnection)):o=t.getConnections_(!0);for(var n=0;n<o.length;n++)e.push.apply(e,o[n].unhideAll());e.length||(e[0]=t)}return e},Blockly.Connection.prototype.highlight=function(){var e;e=this.type==Blockly.INPUT_VALUE||this.type==Blockly.OUTPUT_VALUE?"m 0,0 "+Blockly.BlockSvg.TAB_PATH_DOWN+" v 5":"m -20,0 h 5 "+Blockly.BlockSvg.NOTCH_PATH_LEFT+" h 5";var t=this.sourceBlock_.getRelativeToSurfaceXY();Blockly.Connection.highlightedPath_=Blockly.createSvgElement("path",{
"class":"blocklyHighlightedConnectionPath",d:e,transform:"translate("+(this.x_-t.x)+","+(this.y_-t.y)+")"+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())},Blockly.Connection.prototype.unhighlight=function(){goog.dom.removeNode(Blockly.Connection.highlightedPath_),delete Blockly.Connection.highlightedPath_},Blockly.Field=function(e,t){this.size_=new goog.math.Size(0,25),this.setValue(e),this.setValidator(t)},Blockly.Field.cacheWidths_=null,Blockly.Field.cacheReference_=0,Blockly.Field.prototype.name=void 0,Blockly.Field.prototype.maxDisplayLength=50,Blockly.Field.prototype.text_="",Blockly.Field.prototype.sourceBlock_=null,Blockly.Field.prototype.visible_=!0,Blockly.Field.prototype.validator_=null,Blockly.Field.NBSP=" ",Blockly.Field.prototype.EDITABLE=!0,Blockly.Field.prototype.setSourceBlock=function(e){goog.asserts.assert(!this.sourceBlock_,"Field already bound to a block."),this.sourceBlock_=e},Blockly.Field.prototype.init=function(){this.fieldGroup_||(this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.borderRect_=Blockly.createSvgElement("rect",{rx:4,ry:4,x:-Blockly.BlockSvg.SEP_SPACE_X/2,y:0,height:16},this.fieldGroup_,this.sourceBlock_.workspace),this.textElement_=Blockly.createSvgElement("text",{"class":"blocklyText",y:this.size_.height-12.5},this.fieldGroup_),this.updateEditable(),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.mouseUpWrapper_=Blockly.bindEvent_(this.fieldGroup_,"mouseup",this,this.onMouseUp_),this.updateTextNode_(),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,"",this.getValue())))},Blockly.Field.prototype.dispose=function(){this.mouseUpWrapper_&&(Blockly.unbindEvent_(this.mouseUpWrapper_),this.mouseUpWrapper_=null),this.sourceBlock_=null,goog.dom.removeNode(this.fieldGroup_),this.validator_=this.borderRect_=this.textElement_=this.fieldGroup_=null},Blockly.Field.prototype.updateEditable=function(){this.EDITABLE&&this.sourceBlock_&&(this.sourceBlock_.isEditable()?(Blockly.addClass_(this.fieldGroup_,"blocklyEditableText"),Blockly.removeClass_(this.fieldGroup_,"blocklyNoNEditableText"),this.fieldGroup_.style.cursor=this.CURSOR):(Blockly.addClass_(this.fieldGroup_,"blocklyNonEditableText"),Blockly.removeClass_(this.fieldGroup_,"blocklyEditableText"),this.fieldGroup_.style.cursor=""))},Blockly.Field.prototype.isVisible=function(){return this.visible_},Blockly.Field.prototype.setVisible=function(e){if(this.visible_!=e){this.visible_=e;var t=this.getSvgRoot();t&&(t.style.display=e?"block":"none",this.render_())}},Blockly.Field.prototype.setValidator=function(e){this.validator_=e},Blockly.Field.prototype.getSvgRoot=function(){return this.fieldGroup_},Blockly.Field.prototype.render_=function(){if(this.visible_&&this.textElement_){var e=this.textElement_.textContent+"\n"+this.textElement_.className.baseVal;if(Blockly.Field.cacheWidths_&&Blockly.Field.cacheWidths_[e])var t=Blockly.Field.cacheWidths_[e];else{try{t=this.textElement_.getComputedTextLength()}catch(o){t=8*this.textElement_.textContent.length}Blockly.Field.cacheWidths_&&(Blockly.Field.cacheWidths_[e]=t)}this.borderRect_&&this.borderRect_.setAttribute("width",t+Blockly.BlockSvg.SEP_SPACE_X)}else t=0;this.size_.width=t},Blockly.Field.startCache=function(){Blockly.Field.cacheReference_++,Blockly.Field.cacheWidths_||(Blockly.Field.cacheWidths_={})},Blockly.Field.stopCache=function(){Blockly.Field.cacheReference_--,Blockly.Field.cacheReference_||(Blockly.Field.cacheWidths_=null)},Blockly.Field.prototype.getSize=function(){return this.size_.width||this.render_(),this.size_},Blockly.Field.prototype.getScaledBBox_=function(){var e=this.borderRect_.getBBox();return new goog.math.Size(e.width*this.sourceBlock_.workspace.scale,e.height*this.sourceBlock_.workspace.scale)},Blockly.Field.prototype.getText=function(){return this.text_},Blockly.Field.prototype.setText=function(e){null!==e&&(e=String(e),e!==this.text_&&(this.text_=e,this.updateTextNode_(),this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_())))},Blockly.Field.prototype.updateTextNode_=function(){if(this.textElement_){var e=this.text_;e.length>this.maxDisplayLength&&(e=e.substring(0,this.maxDisplayLength-2)+"…"),goog.dom.removeChildren(this.textElement_),e=e.replace(/\s/g,Blockly.Field.NBSP),this.sourceBlock_.RTL&&e&&(e+="‏"),e||(e=Blockly.Field.NBSP),e=document.createTextNode(e),this.textElement_.appendChild(e),this.size_.width=0}},Blockly.Field.prototype.getValue=function(){return this.getText()},Blockly.Field.prototype.setValue=function(e){if(null!==e){var t=this.getValue();t!=e&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,t,e)),this.setText(e))}},Blockly.Field.prototype.onMouseUp_=function(e){(!goog.userAgent.IPHONE&&!goog.userAgent.IPAD||goog.userAgent.isVersionOrHigher("537.51.2")||0===e.layerX||0===e.layerY)&&(Blockly.isRightButton(e)||Blockly.dragMode_!=Blockly.DRAG_FREE&&this.sourceBlock_.isEditable()&&this.showEditor_())},Blockly.Field.prototype.setTooltip=function(e){},Blockly.Field.prototype.getAbsoluteXY_=function(){return goog.style.getPageOffset(this.borderRect_)},Blockly.Tooltip={},Blockly.Tooltip.visible=!1,Blockly.Tooltip.LIMIT=50,Blockly.Tooltip.mouseOutPid_=0,Blockly.Tooltip.showPid_=0,Blockly.Tooltip.lastX_=0,Blockly.Tooltip.lastY_=0,Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.OFFSET_X=0,Blockly.Tooltip.OFFSET_Y=10,Blockly.Tooltip.RADIUS_OK=10,Blockly.Tooltip.HOVER_MS=750,Blockly.Tooltip.MARGINS=5,Blockly.Tooltip.DIV=null,Blockly.Tooltip.createDom=function(){Blockly.Tooltip.DIV||(Blockly.Tooltip.DIV=goog.dom.createDom("div","blocklyTooltipDiv"),document.body.appendChild(Blockly.Tooltip.DIV))},Blockly.Tooltip.bindMouseEvents=function(e){Blockly.bindEvent_(e,"mouseover",null,Blockly.Tooltip.onMouseOver_),Blockly.bindEvent_(e,"mouseout",null,Blockly.Tooltip.onMouseOut_),Blockly.bindEvent_(e,"mousemove",null,Blockly.Tooltip.onMouseMove_)},Blockly.Tooltip.onMouseOver_=function(e){for(e=e.target;!goog.isString(e.tooltip)&&!goog.isFunction(e.tooltip);)e=e.tooltip;Blockly.Tooltip.element_!=e&&(Blockly.Tooltip.hide(),Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.element_=e),clearTimeout(Blockly.Tooltip.mouseOutPid_)},Blockly.Tooltip.onMouseOut_=function(e){Blockly.Tooltip.mouseOutPid_=setTimeout(function(){Blockly.Tooltip.element_=null,Blockly.Tooltip.poisonedElement_=null,Blockly.Tooltip.hide()},1),clearTimeout(Blockly.Tooltip.showPid_)},Blockly.Tooltip.onMouseMove_=function(e){if(Blockly.Tooltip.element_&&Blockly.Tooltip.element_.tooltip&&Blockly.dragMode_==Blockly.DRAG_NONE&&!Blockly.WidgetDiv.isVisible())if(Blockly.Tooltip.visible){var t=Blockly.Tooltip.lastX_-e.pageX;e=Blockly.Tooltip.lastY_-e.pageY,Math.sqrt(t*t+e*e)>Blockly.Tooltip.RADIUS_OK&&Blockly.Tooltip.hide()}else Blockly.Tooltip.poisonedElement_!=Blockly.Tooltip.element_&&(clearTimeout(Blockly.Tooltip.showPid_),Blockly.Tooltip.lastX_=e.pageX,Blockly.Tooltip.lastY_=e.pageY,Blockly.Tooltip.showPid_=setTimeout(Blockly.Tooltip.show_,Blockly.Tooltip.HOVER_MS))},Blockly.Tooltip.hide=function(){Blockly.Tooltip.visible&&(Blockly.Tooltip.visible=!1,Blockly.Tooltip.DIV&&(Blockly.Tooltip.DIV.style.display="none")),clearTimeout(Blockly.Tooltip.showPid_)},Blockly.Tooltip.show_=function(){if(Blockly.Tooltip.poisonedElement_=Blockly.Tooltip.element_,Blockly.Tooltip.DIV){goog.dom.removeChildren(Blockly.Tooltip.DIV);for(var e=Blockly.Tooltip.element_.tooltip;goog.isFunction(e);)e=e();for(var e=Blockly.Tooltip.wrap_(e,Blockly.Tooltip.LIMIT),e=e.split("\n"),t=0;t<e.length;t++){var o=document.createElement("div");o.appendChild(document.createTextNode(e[t])),Blockly.Tooltip.DIV.appendChild(o)}e=Blockly.Tooltip.element_.RTL,t=goog.dom.getViewportSize(),Blockly.Tooltip.DIV.style.direction=e?"rtl":"ltr",Blockly.Tooltip.DIV.style.display="block",Blockly.Tooltip.visible=!0;var o=Blockly.Tooltip.lastX_,o=e?o-(Blockly.Tooltip.OFFSET_X+Blockly.Tooltip.DIV.offsetWidth):o+Blockly.Tooltip.OFFSET_X,n=Blockly.Tooltip.lastY_+Blockly.Tooltip.OFFSET_Y;n+Blockly.Tooltip.DIV.offsetHeight>t.height+window.scrollY&&(n-=Blockly.Tooltip.DIV.offsetHeight+2*Blockly.Tooltip.OFFSET_Y),e?o=Math.max(Blockly.Tooltip.MARGINS-window.scrollX,o):o+Blockly.Tooltip.DIV.offsetWidth>t.width+window.scrollX-2*Blockly.Tooltip.MARGINS&&(o=t.width-Blockly.Tooltip.DIV.offsetWidth-2*Blockly.Tooltip.MARGINS),Blockly.Tooltip.DIV.style.top=n+"px",Blockly.Tooltip.DIV.style.left=o+"px"}},Blockly.Tooltip.wrap_=function(e,t){if(e.length<=t)return e;for(var o=e.trim().split(/\s+/),n=0;n<o.length;n++)o[n].length>t&&(t=o[n].length);var r,i,n=-(1/0),s=1;do{r=n,i=e;for(var a=[],l=o.length/s,g=1,n=0;n<o.length-1;n++)(n+1.5)/l>g?(g++,a[n]=!0):a[n]=!1;a=Blockly.Tooltip.wrapMutate_(o,a,t),n=Blockly.Tooltip.wrapScore_(o,a,t),e=Blockly.Tooltip.wrapToText_(o,a),s++}while(n>r);return i},Blockly.Tooltip.wrapScore_=function(e,t,o){for(var n=[0],r=[],i=0;i<e.length;i++)n[n.length-1]+=e[i].length,!0===t[i]?(n.push(0),r.push(e[i].charAt(e[i].length-1))):!1===t[i]&&n[n.length-1]++;for(e=Math.max.apply(Math,n),i=t=0;i<n.length;i++)t-=2*Math.pow(Math.abs(o-n[i]),1.5),t-=Math.pow(e-n[i],1.5),-1!=".?!".indexOf(r[i])?t+=o/3:-1!=",;)]}".indexOf(r[i])&&(t+=o/4);return 1<n.length&&n[n.length-1]<=n[n.length-2]&&(t+=.5),t},Blockly.Tooltip.wrapMutate_=function(e,t,o){for(var n,r=Blockly.Tooltip.wrapScore_(e,t,o),i=0;i<t.length-1;i++)if(t[i]!=t[i+1]){var s=[].concat(t);s[i]=!s[i],s[i+1]=!s[i+1];var a=Blockly.Tooltip.wrapScore_(e,s,o);a>r&&(r=a,n=s)}return n?Blockly.Tooltip.wrapMutate_(e,n,o):t},Blockly.Tooltip.wrapToText_=function(e,t){for(var o=[],n=0;n<e.length;n++)o.push(e[n]),void 0!==t[n]&&o.push(t[n]?"\n":" ");return o.join("")},Blockly.FieldLabel=function(e,t){this.size_=new goog.math.Size(0,17.5),this.class_=t,this.setValue(e)},goog.inherits(Blockly.FieldLabel,Blockly.Field),Blockly.FieldLabel.prototype.EDITABLE=!1,Blockly.FieldLabel.prototype.init=function(){this.textElement_||(this.textElement_=Blockly.createSvgElement("text",{"class":"blocklyText",y:this.size_.height-5},null),this.class_&&Blockly.addClass_(this.textElement_,this.class_),this.visible_||(this.textElement_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.textElement_),this.textElement_.tooltip=this.sourceBlock_,Blockly.Tooltip.bindMouseEvents(this.textElement_),this.updateTextNode_())},Blockly.FieldLabel.prototype.dispose=function(){goog.dom.removeNode(this.textElement_),this.textElement_=null},Blockly.FieldLabel.prototype.getSvgRoot=function(){return this.textElement_},Blockly.FieldLabel.prototype.setTooltip=function(e){this.textElement_.tooltip=e},Blockly.Input=function(e,t,o,n){this.type=e,this.name=t,this.sourceBlock_=o,this.connection=n,this.fieldRow=[]},Blockly.Input.prototype.align=Blockly.ALIGN_LEFT,Blockly.Input.prototype.visible_=!0,Blockly.Input.prototype.appendField=function(e,t){return e||t?(goog.isString(e)&&(e=new Blockly.FieldLabel(e)),e.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&e.init(),e.name=t,e.prefixField&&this.appendField(e.prefixField),this.fieldRow.push(e),e.suffixField&&this.appendField(e.suffixField),this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()),this):this},Blockly.Input.prototype.appendTitle=function(e,t){return console.warn("Deprecated call to appendTitle, use appendField instead."),this.appendField(e,t)},Blockly.Input.prototype.removeField=function(e){for(var t,o=0;t=this.fieldRow[o];o++)if(t.name===e)return t.dispose(),this.fieldRow.splice(o,1),void(this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()));goog.asserts.fail('Field "%s" not found.',e)},Blockly.Input.prototype.isVisible=function(){return this.visible_},Blockly.Input.prototype.setVisible=function(e){var t=[];if(this.visible_==e)return t;for(var o,n=(this.visible_=e)?"block":"none",r=0;o=this.fieldRow[r];r++)o.setVisible(e);return this.connection&&(e?t=this.connection.unhideAll():this.connection.hideAll(),r=this.connection.targetBlock())&&(r.getSvgRoot().style.display=n,e||(r.rendered=!1)),t},Blockly.Input.prototype.setCheck=function(e){if(!this.connection)throw"This input does not have a connection.";return this.connection.setCheck(e),this},Blockly.Input.prototype.setAlign=function(e){return this.align=e,this.sourceBlock_.rendered&&this.sourceBlock_.render(),this},Blockly.Input.prototype.init=function(){if(this.sourceBlock_.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init(this.sourceBlock_)},Blockly.Input.prototype.dispose=function(){for(var e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose(),this.sourceBlock_=null},Blockly.ConnectionDB=function(){},Blockly.ConnectionDB.prototype=[],Blockly.ConnectionDB.constructor=Blockly.ConnectionDB,Blockly.ConnectionDB.prototype.addConnection=function(e){if(e.inDB_)throw"Connection already in database.";if(!e.getSourceBlock().isInFlyout){var t=this.findPositionForConnection_(e);this.splice(t,0,e),e.inDB_=!0}},Blockly.ConnectionDB.prototype.findConnection=function(e){if(!this.length)return-1;var t=this.findPositionForConnection_(e);if(t>=this.length)return-1;for(var o=e.y_,n=t;n>=0&&this[n].y_==o;){if(this[n]==e)return n;n--}for(;t<this.length&&this[t].y_==o;){if(this[t]==e)return t;t++}return-1},Blockly.ConnectionDB.prototype.findPositionForConnection_=function(e){if(!this.length)return 0;for(var t=0,o=this.length;o>t;){var n=Math.floor((t+o)/2);if(this[n].y_<e.y_)t=n+1;else{if(!(this[n].y_>e.y_)){t=n;break}o=n}}return t},Blockly.ConnectionDB.prototype.removeConnection_=function(e){if(!e.inDB_)throw"Connection not in database.";var t=this.findConnection(e);if(-1==t)throw"Unable to find connection in connectionDB.";e.inDB_=!1,this.splice(t,1)},Blockly.ConnectionDB.prototype.getNeighbours=function(e,t){function o(e){var o=r-n[e].x_,s=i-n[e].y_;return Math.sqrt(o*o+s*s)<=t&&g.push(n[e]),t>s}for(var n=this,r=e.x_,i=e.y_,s=0,a=n.length-2,l=a;l>s;)n[l].y_<i?s=l:a=l,l=Math.floor((s+a)/2);var a=s=l,g=[];if(e.getSourceBlock(),n.length){for(;s>=0&&o(s);)s--;do a++;while(a<n.length&&o(a))}return g},Blockly.ConnectionDB.prototype.isInYRange_=function(e,t,o){return Math.abs(this[e].y_-t)<=o},Blockly.ConnectionDB.prototype.searchForClosest=function(e,t,o){if(!this.length)return{connection:null,radius:t};var n=e.y_,r=e.x_;e.x_=r+o.x,e.y_=n+o.y;var i=this.findPositionForConnection_(e);o=null;for(var s,a=t,l=i-1;l>=0&&this.isInYRange_(l,e.y_,t);)s=this[l],e.isConnectionAllowed(s,a)&&(o=s,a=s.distanceFrom(e)),l--;for(;i<this.length&&this.isInYRange_(i,e.y_,t);)s=this[i],e.isConnectionAllowed(s,a)&&(o=s,a=s.distanceFrom(e)),i++;return e.x_=r,e.y_=n,{connection:o,radius:a}},Blockly.ConnectionDB.init=function(e){var t=[];t[Blockly.INPUT_VALUE]=new Blockly.ConnectionDB,t[Blockly.OUTPUT_VALUE]=new Blockly.ConnectionDB,t[Blockly.NEXT_STATEMENT]=new Blockly.ConnectionDB,t[Blockly.PREVIOUS_STATEMENT]=new Blockly.ConnectionDB,e.connectionDBList=t},Blockly.Options=function(e){var t=!!e.readOnly;if(t)var o=null,n=!1,r=!1,i=!1,s=!1,a=!1,l=!1;else o=Blockly.Options.parseToolboxTree(e.toolbox),n=!(!o||!o.getElementsByTagName("category").length),r=e.trashcan,void 0===r&&(r=n),i=e.collapse,void 0===i&&(i=n),s=e.comments,void 0===s&&(s=n),a=e.disable,void 0===a&&(a=n),l=e.sounds,void 0===l&&(l=!0);var g=e.scrollbars;void 0===g&&(g=n);var c=e.css;void 0===c&&(c=!0);var u="https://blockly-demo.appspot.com/static/media/";e.media?u=e.media:e.path&&(u=e.path+"media/"),this.RTL=!!e.rtl,this.collapse=i,this.comments=s,this.disable=a,this.readOnly=t,this.maxBlocks=e.maxBlocks||1/0,this.pathToMedia=u,this.hasCategories=n,this.hasScrollbars=g,this.hasTrashcan=r,this.hasSounds=l,this.hasCss=c,this.languageTree=o,this.gridOptions=Blockly.Options.parseGridOptions_(e),this.zoomOptions=Blockly.Options.parseZoomOptions_(e)},Blockly.Options.prototype.parentWorkspace=null,Blockly.Options.prototype.setMetrics=function(e){},Blockly.Options.prototype.getMetrics=function(){return null},Blockly.Options.parseZoomOptions_=function(e){e=e.zoom||{};var t={};return t.controls=void 0===e.controls?!1:!!e.controls,t.wheel=void 0===e.wheel?!1:!!e.wheel,t.startScale=void 0===e.startScale?1:parseFloat(e.startScale),t.maxScale=void 0===e.maxScale?3:parseFloat(e.maxScale),t.minScale=void 0===e.minScale?.3:parseFloat(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:parseFloat(e.scaleSpeed),t},Blockly.Options.parseGridOptions_=function(e){e=e.grid||{};var t={};return t.spacing=parseFloat(e.spacing)||0,t.colour=e.colour||"#888",t.length=parseFloat(e.length)||1,t.snap=0<t.spacing&&!!e.snap,t},Blockly.Options.parseToolboxTree=function(e){return e?("string"!=typeof e&&("undefined"==typeof XSLTProcessor&&e.outerHTML?e=e.outerHTML:e instanceof Element||(e=null)),"string"==typeof e&&(e=Blockly.Xml.textToDom(e))):e=null,e},Blockly.ScrollbarPair=function(e){this.workspace_=e,this.hScroll=new Blockly.Scrollbar(e,!0,!0),this.vScroll=new Blockly.Scrollbar(e,!1,!0),this.corner_=Blockly.createSvgElement("rect",{height:Blockly.Scrollbar.scrollbarThickness,width:Blockly.Scrollbar.scrollbarThickness,"class":"blocklyScrollbarBackground"},null),Blockly.Scrollbar.insertAfter_(this.corner_,e.getBubbleCanvas())},Blockly.ScrollbarPair.prototype.oldHostMetrics_=null,Blockly.ScrollbarPair.prototype.dispose=function(){goog.dom.removeNode(this.corner_),this.oldHostMetrics_=this.workspace_=this.corner_=null,this.hScroll.dispose(),this.hScroll=null,this.vScroll.dispose(),this.vScroll=null},Blockly.ScrollbarPair.prototype.resize=function(){var e=this.workspace_.getMetrics();if(e){var t=!1,o=!1;this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.contentWidth==e.contentWidth&&this.oldHostMetrics_.viewLeft==e.viewLeft&&this.oldHostMetrics_.contentLeft==e.contentLeft||(t=!0),this.oldHostMetrics_&&this.oldHostMetrics_.contentHeight==e.contentHeight&&this.oldHostMetrics_.viewTop==e.viewTop&&this.oldHostMetrics_.contentTop==e.contentTop||(o=!0)):o=t=!0,t&&this.hScroll.resize(e),o&&this.vScroll.resize(e),this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth==e.viewWidth&&this.oldHostMetrics_.absoluteLeft==e.absoluteLeft||this.corner_.setAttribute("x",this.vScroll.xCoordinate),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight==e.viewHeight&&this.oldHostMetrics_.absoluteTop==e.absoluteTop||this.corner_.setAttribute("y",this.hScroll.yCoordinate),this.oldHostMetrics_=e}},Blockly.ScrollbarPair.prototype.set=function(e,t){var o={},n=e*this.hScroll.ratio_,r=t*this.vScroll.ratio_,i=parseFloat(this.hScroll.svgBackground_.getAttribute("width")),s=parseFloat(this.vScroll.svgBackground_.getAttribute("height"));o.x=this.getRatio_(n,i),o.y=this.getRatio_(r,s),this.workspace_.setMetrics(o),this.hScroll.svgKnob_.setAttribute("x",n),this.vScroll.svgKnob_.setAttribute("y",r)},Blockly.ScrollbarPair.prototype.getRatio_=function(e,t){var o=e/t;return isNaN(o)?0:o},Blockly.Scrollbar=function(e,t,o){this.workspace_=e,this.pair_=o||!1,this.horizontal_=t,this.createDom_(),t?(this.svgBackground_.setAttribute("height",Blockly.Scrollbar.scrollbarThickness),this.svgKnob_.setAttribute("height",Blockly.Scrollbar.scrollbarThickness-5),this.svgKnob_.setAttribute("y",2.5)):(this.svgBackground_.setAttribute("width",Blockly.Scrollbar.scrollbarThickness),this.svgKnob_.setAttribute("width",Blockly.Scrollbar.scrollbarThickness-5),this.svgKnob_.setAttribute("x",2.5)),this.onMouseDownBarWrapper_=Blockly.bindEvent_(this.svgBackground_,"mousedown",this,this.onMouseDownBar_),this.onMouseDownKnobWrapper_=Blockly.bindEvent_(this.svgKnob_,"mousedown",this,this.onMouseDownKnob_)},Blockly.Scrollbar.scrollbarThickness=15,goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.Scrollbar.scrollbarThickness=25),Blockly.Scrollbar.prototype.dispose=function(){this.onMouseUpKnob_(),Blockly.unbindEvent_(this.onMouseDownBarWrapper_),this.onMouseDownBarWrapper_=null,Blockly.unbindEvent_(this.onMouseDownKnobWrapper_),this.onMouseDownKnobWrapper_=null,goog.dom.removeNode(this.svgGroup_),this.workspace_=this.svgKnob_=this.svgBackground_=this.svgGroup_=null},Blockly.Scrollbar.prototype.resize=function(e){(e||(e=this.workspace_.getMetrics()))&&(this.horizontal_?this.resizeHorizontal_(e):this.resizeVertical_(e),this.onScroll_())},Blockly.Scrollbar.prototype.resizeHorizontal_=function(e){var t=e.viewWidth-1;this.pair_?t-=Blockly.Scrollbar.scrollbarThickness:this.setVisible(t<e.contentWidth),this.ratio_=t/e.contentWidth,(-(1/0)===this.ratio_||1/0===this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0);var o=(e.viewLeft-e.contentLeft)*this.ratio_;this.svgKnob_.setAttribute("width",Math.max(0,e.viewWidth*this.ratio_)),this.xCoordinate=e.absoluteLeft+.5,this.pair_&&this.workspace_.RTL&&(this.xCoordinate+=e.absoluteLeft+Blockly.Scrollbar.scrollbarThickness),this.yCoordinate=e.absoluteTop+e.viewHeight-Blockly.Scrollbar.scrollbarThickness-.5,this.svgGroup_.setAttribute("transform","translate("+this.xCoordinate+","+this.yCoordinate+")"),this.svgBackground_.setAttribute("width",Math.max(0,t)),this.svgKnob_.setAttribute("x",this.constrainKnob_(o))},Blockly.Scrollbar.prototype.resizeVertical_=function(e){var t=e.viewHeight-1;this.pair_?t-=Blockly.Scrollbar.scrollbarThickness:this.setVisible(t<e.contentHeight),this.ratio_=t/e.contentHeight,(-(1/0)===this.ratio_||1/0===this.ratio_||isNaN(this.ratio_))&&(this.ratio_=0);var o=(e.viewTop-e.contentTop)*this.ratio_;this.svgKnob_.setAttribute("height",Math.max(0,e.viewHeight*this.ratio_)),this.xCoordinate=e.absoluteLeft+.5,this.workspace_.RTL||(this.xCoordinate+=e.viewWidth-Blockly.Scrollbar.scrollbarThickness-1),this.yCoordinate=e.absoluteTop+.5,this.svgGroup_.setAttribute("transform","translate("+this.xCoordinate+","+this.yCoordinate+")"),this.svgBackground_.setAttribute("height",Math.max(0,t)),this.svgKnob_.setAttribute("y",this.constrainKnob_(o))},Blockly.Scrollbar.prototype.createDom_=function(){this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyScrollbar"+(this.horizontal_?"Horizontal":"Vertical")},null),this.svgBackground_=Blockly.createSvgElement("rect",{"class":"blocklyScrollbarBackground"},this.svgGroup_);var e=Math.floor((Blockly.Scrollbar.scrollbarThickness-5)/2);this.svgKnob_=Blockly.createSvgElement("rect",{"class":"blocklyScrollbarKnob",rx:e,ry:e},this.svgGroup_),Blockly.Scrollbar.insertAfter_(this.svgGroup_,this.workspace_.getBubbleCanvas())},Blockly.Scrollbar.prototype.isVisible=function(){return"none"!=this.svgGroup_.getAttribute("display")},Blockly.Scrollbar.prototype.setVisible=function(e){if(e!=this.isVisible()){if(this.pair_)throw"Unable to toggle visibility of paired scrollbars.";e?this.svgGroup_.setAttribute("display","block"):(this.workspace_.setMetrics({x:0,y:0}),this.svgGroup_.setAttribute("display","none"))}},Blockly.Scrollbar.prototype.onMouseDownBar_=function(e){if(this.onMouseUpKnob_(),!Blockly.isRightButton(e)){var t=Blockly.mouseToSvg(e,this.workspace_.getParentSvg()),t=this.horizontal_?t.x:t.y,o=Blockly.getSvgXY_(this.svgKnob_,this.workspace_),o=this.horizontal_?o.x:o.y,n=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"width":"height")),r=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"x":"y")),i=.95*n;o>=t?r-=i:t>=o+n&&(r+=i),this.svgKnob_.setAttribute(this.horizontal_?"x":"y",this.constrainKnob_(r)),this.onScroll_()}e.stopPropagation()},Blockly.Scrollbar.prototype.onMouseDownKnob_=function(e){this.onMouseUpKnob_(),Blockly.isRightButton(e)||(Blockly.setPageSelectable(!1),this.startDragKnob=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"x":"y")),this.startDragMouse=this.horizontal_?e.clientX:e.clientY,Blockly.Scrollbar.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,this.onMouseUpKnob_),Blockly.Scrollbar.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.onMouseMoveKnob_)),e.stopPropagation()},Blockly.Scrollbar.prototype.onMouseMoveKnob_=function(e){this.svgKnob_.setAttribute(this.horizontal_?"x":"y",this.constrainKnob_(this.startDragKnob+((this.horizontal_?e.clientX:e.clientY)-this.startDragMouse))),this.onScroll_()},Blockly.Scrollbar.prototype.onMouseUpKnob_=function(){Blockly.setPageSelectable(!0),Blockly.hideChaff(!0),Blockly.Scrollbar.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseUpWrapper_),Blockly.Scrollbar.onMouseUpWrapper_=null),Blockly.Scrollbar.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Scrollbar.onMouseMoveWrapper_),Blockly.Scrollbar.onMouseMoveWrapper_=null)},Blockly.Scrollbar.prototype.constrainKnob_=function(e){if(0>=e||isNaN(e))e=0;else{var t=this.horizontal_?"width":"height",o=parseFloat(this.svgBackground_.getAttribute(t)),t=parseFloat(this.svgKnob_.getAttribute(t));e=Math.min(e,o-t)}return e},Blockly.Scrollbar.prototype.onScroll_=function(){var e=parseFloat(this.svgKnob_.getAttribute(this.horizontal_?"x":"y")),t=parseFloat(this.svgBackground_.getAttribute(this.horizontal_?"width":"height")),e=e/t;!isNaN(e)&&t||(e=0),t={},this.horizontal_?t.x=e:t.y=e,this.workspace_.setMetrics(t)},Blockly.Scrollbar.prototype.set=function(e){e=this.constrainKnob_(e*this.ratio_),this.svgKnob_.setAttribute(this.horizontal_?"x":"y",e),this.onScroll_()},Blockly.Scrollbar.insertAfter_=function(e,t){var o=t.nextSibling,n=t.parentNode;if(!n)throw"Reference node has no parent.";o?n.insertBefore(e,o):n.appendChild(e)},Blockly.Trashcan=function(e){this.workspace_=e},Blockly.Trashcan.prototype.WIDTH_=47,Blockly.Trashcan.prototype.BODY_HEIGHT_=44,Blockly.Trashcan.prototype.LID_HEIGHT_=16,Blockly.Trashcan.prototype.MARGIN_BOTTOM_=20,Blockly.Trashcan.prototype.MARGIN_SIDE_=20,Blockly.Trashcan.prototype.MARGIN_HOTSPOT_=10,Blockly.Trashcan.prototype.isOpen=!1,Blockly.Trashcan.prototype.svgGroup_=null,Blockly.Trashcan.prototype.svgLid_=null,Blockly.Trashcan.prototype.lidTask_=0,Blockly.Trashcan.prototype.lidOpen_=0,Blockly.Trashcan.prototype.left_=0,Blockly.Trashcan.prototype.top_=0,Blockly.Trashcan.prototype.createDom=function(){this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyTrash"},null);var e=String(Math.random()).substring(2),t=Blockly.createSvgElement("clipPath",{id:"blocklyTrashBodyClipPath"+e},this.svgGroup_);return Blockly.createSvgElement("rect",{width:this.WIDTH_,height:this.BODY_HEIGHT_,y:this.LID_HEIGHT_},t),Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-32,"clip-path":"url(#blocklyTrashBodyClipPath"+e+")"},this.svgGroup_).setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url),t=Blockly.createSvgElement("clipPath",{id:"blocklyTrashLidClipPath"+e},this.svgGroup_),Blockly.createSvgElement("rect",{width:this.WIDTH_,height:this.LID_HEIGHT_},t),this.svgLid_=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-32,"clip-path":"url(#blocklyTrashLidClipPath"+e+")"},this.svgGroup_),this.svgLid_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",this.workspace_.options.pathToMedia+Blockly.SPRITE.url),Blockly.bindEvent_(this.svgGroup_,"mouseup",this,this.click),this.animateLid_(),this.svgGroup_},Blockly.Trashcan.prototype.init=function(e){return this.bottom_=this.MARGIN_BOTTOM_+e,this.setOpen_(!1),this.bottom_+this.BODY_HEIGHT_+this.LID_HEIGHT_},Blockly.Trashcan.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=this.svgLid_=null,goog.Timer.clear(this.lidTask_)},Blockly.Trashcan.prototype.position=function(){var e=this.workspace_.getMetrics();e&&(this.left_=this.workspace_.RTL?this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness:e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness,this.top_=e.viewHeight+e.absoluteTop-(this.BODY_HEIGHT_+this.LID_HEIGHT_)-this.bottom_,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))},Blockly.Trashcan.prototype.getClientRect=function(){var e=this.svgGroup_.getBoundingClientRect();return new goog.math.Rect(e.left-this.MARGIN_HOTSPOT_,e.top-this.MARGIN_HOTSPOT_,e.width+2*this.MARGIN_HOTSPOT_,e.height+2*this.MARGIN_HOTSPOT_)},Blockly.Trashcan.prototype.setOpen_=function(e){this.isOpen!=e&&(goog.Timer.clear(this.lidTask_),this.isOpen=e,this.animateLid_())},Blockly.Trashcan.prototype.animateLid_=function(){this.lidOpen_+=this.isOpen?.2:-.2,this.lidOpen_=goog.math.clamp(this.lidOpen_,0,1);var e=45*this.lidOpen_;this.svgLid_.setAttribute("transform","rotate("+(this.workspace_.RTL?-e:e)+","+(this.workspace_.RTL?4:this.WIDTH_-4)+","+(this.LID_HEIGHT_-2)+")"),e=goog.math.lerp(.4,.8,this.lidOpen_),this.svgGroup_.style.opacity=e,0<this.lidOpen_&&1>this.lidOpen_&&(this.lidTask_=goog.Timer.callOnce(this.animateLid_,20,this))},Blockly.Trashcan.prototype.close=function(){this.setOpen_(!1)},Blockly.Trashcan.prototype.click=function(){var e=this.workspace_.startScrollX-this.workspace_.scrollX,t=this.workspace_.startScrollY-this.workspace_.scrollY;Math.sqrt(e*e+t*t)>Blockly.DRAG_RADIUS||console.log("TODO: Inspect trash.")},Blockly.Xml={},Blockly.Xml.workspaceToDom=function(e){var t=goog.dom.createDom("xml");e=e.getTopBlocks(!0);for(var o,n=0;o=e[n];n++)t.appendChild(Blockly.Xml.blockToDomWithXY(o));return t},Blockly.Xml.blockToDomWithXY=function(e){var t;e.workspace.RTL&&(t=e.workspace.getWidth());var o=Blockly.Xml.blockToDom(e),n=e.getRelativeToSurfaceXY();return o.setAttribute("x",Math.round(e.workspace.RTL?t-n.x:n.x)),o.setAttribute("y",Math.round(n.y)),o},Blockly.Xml.blockToDom=function(e){var t=goog.dom.createDom(e.isShadow()?"shadow":"block");if(t.setAttribute("type",e.type),t.setAttribute("id",e.id),e.mutationToDom){var o=e.mutationToDom();o&&(o.hasChildNodes()||o.hasAttributes())&&t.appendChild(o)}for(var n,o=0;n=e.inputList[o];o++)for(var r,i=0;r=n.fieldRow[i];i++)if(r.name&&r.EDITABLE){var s=goog.dom.createDom("field",null,r.getValue());s.setAttribute("name",r.name),t.appendChild(s)}for((o=e.getCommentText())&&(o=goog.dom.createDom("comment",null,o),"object"==typeof e.comment&&(o.setAttribute("pinned",e.comment.isVisible()),n=e.comment.getBubbleSize(),o.setAttribute("h",n.height),o.setAttribute("w",n.width)),t.appendChild(o)),e.data&&(o=goog.dom.createDom("data",null,e.data),t.appendChild(o)),o=0;n=e.inputList[o];o++){var a;r=!0,n.type!=Blockly.DUMMY_INPUT&&(s=n.connection.targetBlock(),n.type==Blockly.INPUT_VALUE?a=goog.dom.createDom("value"):n.type==Blockly.NEXT_STATEMENT&&(a=goog.dom.createDom("statement")),i=n.connection.getShadowDom(),!i||s&&s.isShadow()||a.appendChild(Blockly.Xml.cloneShadow_(i)),s&&(a.appendChild(Blockly.Xml.blockToDom(s)),r=!1),a.setAttribute("name",n.name),r||t.appendChild(a))}return e.inputsInlineDefault!=e.inputsInline&&t.setAttribute("inline",e.inputsInline),e.isCollapsed()&&t.setAttribute("collapsed",!0),e.disabled&&t.setAttribute("disabled",!0),e.isDeletable()||e.isShadow()||t.setAttribute("deletable",!1),e.isMovable()||e.isShadow()||t.setAttribute("movable",!1),e.isEditable()||t.setAttribute("editable",!1),(o=e.getNextBlock())&&(a=goog.dom.createDom("next",null,Blockly.Xml.blockToDom(o)),t.appendChild(a)),i=e.nextConnection&&e.nextConnection.getShadowDom(),!i||o&&o.isShadow()||a.appendChild(Blockly.Xml.cloneShadow_(i)),t},Blockly.Xml.cloneShadow_=function(e){for(var t,o=e=e.cloneNode(!0);o;)if(o.firstChild)o=o.firstChild;else{for(;o&&!o.nextSibling;)t=o,o=o.parentNode,3==t.nodeType&&""==t.data.trim()&&o.firstChild!=t&&goog.dom.removeNode(t);o&&(t=o,o=o.nextSibling,3==t.nodeType&&""==t.data.trim()&&goog.dom.removeNode(t))}return e},Blockly.Xml.domToText=function(e){return(new XMLSerializer).serializeToString(e)},Blockly.Xml.domToPrettyText=function(e){e=Blockly.Xml.domToText(e).split("<");for(var t="",o=1;o<e.length;o++){
var n=e[o];"/"==n[0]&&(t=t.substring(2)),e[o]=t+"<"+n,"/"!=n[0]&&"/>"!=n.slice(-2)&&(t+="  ")}return e=e.join("\n"),e=e.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),e.replace(/^\n/,"")},Blockly.Xml.textToDom=function(e){if(e=(new DOMParser).parseFromString(e,"text/xml"),!e||!e.firstChild||"xml"!=e.firstChild.nodeName.toLowerCase()||e.firstChild!==e.lastChild)throw"Blockly.Xml.textToDom did not obtain a valid XML tree.";return e.firstChild},Blockly.Xml.domToWorkspace=function(e,t){if(e instanceof Blockly.Workspace){var o=e;e=t,t=o,console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var n;t.RTL&&(n=t.getWidth()),Blockly.Field.startCache();var o=e.childNodes.length,r=Blockly.Events.getGroup();r||Blockly.Events.setGroup(!0);for(var i=0;o>i;i++){var s=e.childNodes[i],a=s.nodeName.toLowerCase();if("block"==a||"shadow"==a){var a=Blockly.Xml.domToBlock(s,t),l=parseInt(s.getAttribute("x"),10),s=parseInt(s.getAttribute("y"),10);isNaN(l)||isNaN(s)||a.moveBy(t.RTL?n-l:l,s)}}r||Blockly.Events.setGroup(!1),Blockly.Field.stopCache()},Blockly.Xml.domToBlock=function(e,t){if(e instanceof Blockly.Workspace){var o=e;e=t,t=o,console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}Blockly.Events.disable();var n=Blockly.Xml.domToBlockHeadless_(e,t);if(t.rendered){n.setConnectionsHidden(!0);for(var o=n.getDescendants(),r=o.length-1;r>=0;r--)o[r].initSvg();for(r=o.length-1;r>=0;r--)o[r].render(!1);setTimeout(function(){n.workspace&&n.setConnectionsHidden(!1)},1),n.updateDisabled(),Blockly.fireUiEvent(window,"resize")}return Blockly.Events.enable(),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Create(n)),n},Blockly.Xml.domToBlockHeadless_=function(e,t){var o=null,n=e.getAttribute("type");if(!n)throw"Block type unspecified: \n"+e.outerHTML;for(var r,i=e.getAttribute("id"),o=t.newBlock(n,i),s=null,i=0;r=e.childNodes[i];i++)if(3!=r.nodeType){for(var a,l=s=null,g=0;a=r.childNodes[g];g++)1==a.nodeType&&("block"==a.nodeName.toLowerCase()?s=a:"shadow"==a.nodeName.toLowerCase()&&(l=a));switch(!s&&l&&(s=l),g=r.getAttribute("name"),r.nodeName.toLowerCase()){case"mutation":o.domToMutation&&(o.domToMutation(r),o.initSvg&&o.initSvg());break;case"comment":o.setCommentText(r.textContent);var c=r.getAttribute("pinned");c&&!o.isInFlyout&&setTimeout(function(){o.comment&&o.comment.setVisible&&o.comment.setVisible("true"==c)},1),s=parseInt(r.getAttribute("w"),10),r=parseInt(r.getAttribute("h"),10),!isNaN(s)&&!isNaN(r)&&o.comment&&o.comment.setVisible&&o.comment.setBubbleSize(s,r);break;case"data":o.data=r.textContent;break;case"title":case"field":if(s=o.getField(g),!s){console.warn("Ignoring non-existent field "+g+" in block "+n);break}s.setValue(r.textContent);break;case"value":case"statement":if(r=o.getInput(g),!r){console.warn("Ignoring non-existent input "+g+" in block "+n);break}if(l&&r.connection.setShadowDom(l),s)if(s=Blockly.Xml.domToBlockHeadless_(s,t),s.outputConnection)r.connection.connect(s.outputConnection);else{if(!s.previousConnection)throw"Child block does not have output or previous statement.";r.connection.connect(s.previousConnection)}break;case"next":if(l&&o.nextConnection&&o.nextConnection.setShadowDom(l),s){if(!o.nextConnection)throw"Next statement does not exist.";if(o.nextConnection.isConnected())throw"Next statement is already connected.";if(s=Blockly.Xml.domToBlockHeadless_(s,t),!s.previousConnection)throw"Next block does not have previous statement.";o.nextConnection.connect(s.previousConnection)}break;default:console.warn("Ignoring unknown tag: "+r.nodeName)}}return(n=e.getAttribute("inline"))&&o.setInputsInline("true"==n),(n=e.getAttribute("disabled"))&&o.setDisabled("true"==n),(n=e.getAttribute("deletable"))&&o.setDeletable("true"==n),(n=e.getAttribute("movable"))&&o.setMovable("true"==n),(n=e.getAttribute("editable"))&&o.setEditable("true"==n),(n=e.getAttribute("collapsed"))&&o.setCollapsed("true"==n),"shadow"==e.nodeName.toLowerCase()&&o.setShadow(!0),o.validate&&o.validate(),o},Blockly.Xml.deleteNext=function(e){for(var t,o=0;t=e.childNodes[o];o++)if("next"==t.nodeName.toLowerCase()){e.removeChild(t);break}},goog.global.Blockly||(goog.global.Blockly={}),goog.global.Blockly.Xml||(goog.global.Blockly.Xml={}),goog.global.Blockly.Xml.domToText=Blockly.Xml.domToText,goog.global.Blockly.Xml.domToWorkspace=Blockly.Xml.domToWorkspace,goog.global.Blockly.Xml.textToDom=Blockly.Xml.textToDom,goog.global.Blockly.Xml.workspaceToDom=Blockly.Xml.workspaceToDom,Blockly.ZoomControls=function(e){this.workspace_=e},Blockly.ZoomControls.prototype.WIDTH_=32,Blockly.ZoomControls.prototype.HEIGHT_=110,Blockly.ZoomControls.prototype.MARGIN_BOTTOM_=20,Blockly.ZoomControls.prototype.MARGIN_SIDE_=20,Blockly.ZoomControls.prototype.svgGroup_=null,Blockly.ZoomControls.prototype.left_=0,Blockly.ZoomControls.prototype.top_=0,Blockly.ZoomControls.prototype.createDom=function(){var e=this.workspace_;this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyZoom"},null);var t=String(Math.random()).substring(2),o=Blockly.createSvgElement("clipPath",{id:"blocklyZoomoutClipPath"+t},this.svgGroup_);Blockly.createSvgElement("rect",{width:32,height:32,y:77},o);var n=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-64,y:-15,"clip-path":"url(#blocklyZoomoutClipPath"+t+")"},this.svgGroup_);n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.options.pathToMedia+Blockly.SPRITE.url),o=Blockly.createSvgElement("clipPath",{id:"blocklyZoominClipPath"+t},this.svgGroup_),Blockly.createSvgElement("rect",{width:32,height:32,y:43},o);var r=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,x:-32,y:-49,"clip-path":"url(#blocklyZoominClipPath"+t+")"},this.svgGroup_);return r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.options.pathToMedia+Blockly.SPRITE.url),o=Blockly.createSvgElement("clipPath",{id:"blocklyZoomresetClipPath"+t},this.svgGroup_),Blockly.createSvgElement("rect",{width:32,height:32},o),t=Blockly.createSvgElement("image",{width:Blockly.SPRITE.width,height:Blockly.SPRITE.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+t+")"},this.svgGroup_),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.options.pathToMedia+Blockly.SPRITE.url),Blockly.bindEvent_(t,"mousedown",null,function(t){e.setScale(1),e.scrollCenter(),t.stopPropagation(),t.preventDefault()}),Blockly.bindEvent_(r,"mousedown",null,function(t){e.zoomCenter(1),t.stopPropagation(),t.preventDefault()}),Blockly.bindEvent_(n,"mousedown",null,function(t){e.zoomCenter(-1),t.stopPropagation(),t.preventDefault()}),this.svgGroup_},Blockly.ZoomControls.prototype.init=function(e){return this.bottom_=this.MARGIN_BOTTOM_+e,this.bottom_+this.HEIGHT_},Blockly.ZoomControls.prototype.dispose=function(){this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.workspace_=null},Blockly.ZoomControls.prototype.position=function(){var e=this.workspace_.getMetrics();e&&(this.left_=this.workspace_.RTL?this.MARGIN_SIDE_+Blockly.Scrollbar.scrollbarThickness:e.viewWidth+e.absoluteLeft-this.WIDTH_-this.MARGIN_SIDE_-Blockly.Scrollbar.scrollbarThickness,this.top_=e.viewHeight+e.absoluteTop-this.HEIGHT_-this.bottom_,this.svgGroup_.setAttribute("transform","translate("+this.left_+","+this.top_+")"))},Blockly.WorkspaceSvg=function(e){Blockly.WorkspaceSvg.superClass_.constructor.call(this,e),this.getMetrics=e.getMetrics,this.setMetrics=e.setMetrics,Blockly.ConnectionDB.init(this),this.SOUNDS_=Object.create(null)},goog.inherits(Blockly.WorkspaceSvg,Blockly.Workspace),Blockly.WorkspaceSvg.prototype.rendered=!0,Blockly.WorkspaceSvg.prototype.isFlyout=!1,Blockly.WorkspaceSvg.prototype.isScrolling=!1,Blockly.WorkspaceSvg.prototype.scrollX=0,Blockly.WorkspaceSvg.prototype.scrollY=0,Blockly.WorkspaceSvg.prototype.startScrollX=0,Blockly.WorkspaceSvg.prototype.startScrollY=0,Blockly.WorkspaceSvg.prototype.dragDeltaXY_=null,Blockly.WorkspaceSvg.prototype.scale=1,Blockly.WorkspaceSvg.prototype.trashcan=null,Blockly.WorkspaceSvg.prototype.scrollbar=null,Blockly.WorkspaceSvg.prototype.createDom=function(e){this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyWorkspace"},null),e&&(this.svgBackground_=Blockly.createSvgElement("rect",{height:"100%",width:"100%","class":e},this.svgGroup_),"blocklyMainBackground"==e&&(this.svgBackground_.style.fill="url(#"+this.options.gridPattern.id+")")),this.svgBlockCanvas_=Blockly.createSvgElement("g",{"class":"blocklyBlockCanvas"},this.svgGroup_,this),this.svgBubbleCanvas_=Blockly.createSvgElement("g",{"class":"blocklyBubbleCanvas"},this.svgGroup_,this),e=Blockly.Scrollbar.scrollbarThickness,this.options.hasTrashcan&&(e=this.addTrashcan_(e)),this.options.zoomOptions&&this.options.zoomOptions.controls&&(e=this.addZoomControls_(e)),Blockly.bindEvent_(this.svgGroup_,"mousedown",this,this.onMouseDown_);var t=this;return Blockly.bindEvent_(this.svgGroup_,"touchstart",null,function(e){Blockly.longStart_(e,t)}),this.options.zoomOptions&&this.options.zoomOptions.wheel&&Blockly.bindEvent_(this.svgGroup_,"wheel",this,this.onMouseWheel_),this.options.hasCategories?this.toolbox_=new Blockly.Toolbox(this):this.options.languageTree&&this.addFlyout_(),this.updateGridPattern_(),this.svgGroup_},Blockly.WorkspaceSvg.prototype.dispose=function(){this.rendered=!1,Blockly.WorkspaceSvg.superClass_.dispose.call(this),this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.svgBubbleCanvas_=this.svgBlockCanvas_=null,this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout_&&(this.flyout_.dispose(),this.flyout_=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&(this.zoomControls_.dispose(),this.zoomControls_=null),this.options.parentWorkspace||goog.dom.removeNode(this.getParentSvg())},Blockly.WorkspaceSvg.prototype.newBlock=function(e,t){return new Blockly.BlockSvg(this,e,t)},Blockly.WorkspaceSvg.prototype.addTrashcan_=function(e){this.trashcan=new Blockly.Trashcan(this);var t=this.trashcan.createDom();return this.svgGroup_.insertBefore(t,this.svgBlockCanvas_),this.trashcan.init(e)},Blockly.WorkspaceSvg.prototype.addZoomControls_=function(e){this.zoomControls_=new Blockly.ZoomControls(this);var t=this.zoomControls_.createDom();return this.svgGroup_.appendChild(t),this.zoomControls_.init(e)},Blockly.WorkspaceSvg.prototype.addFlyout_=function(){this.flyout_=new Blockly.Flyout({disabledPatternId:this.options.disabledPatternId,parentWorkspace:this,RTL:this.RTL}),this.flyout_.autoClose=!1;var e=this.flyout_.createDom();this.svgGroup_.insertBefore(e,this.svgBlockCanvas_)},Blockly.WorkspaceSvg.prototype.resize=function(){this.toolbox_&&this.toolbox_.position(),this.flyout_&&this.flyout_.position(),this.trashcan&&this.trashcan.position(),this.zoomControls_&&this.zoomControls_.position(),this.scrollbar&&this.scrollbar.resize()},Blockly.WorkspaceSvg.prototype.getCanvas=function(){return this.svgBlockCanvas_},Blockly.WorkspaceSvg.prototype.getBubbleCanvas=function(){return this.svgBubbleCanvas_},Blockly.WorkspaceSvg.prototype.getParentSvg=function(){if(this.cachedParentSvg_)return this.cachedParentSvg_;for(var e=this.svgGroup_;e;){if("svg"==e.tagName)return this.cachedParentSvg_=e;e=e.parentNode}return null},Blockly.WorkspaceSvg.prototype.translate=function(e,t){var o="translate("+e+","+t+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",o),this.svgBubbleCanvas_.setAttribute("transform",o)},Blockly.WorkspaceSvg.prototype.getWidth=function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0},Blockly.WorkspaceSvg.prototype.setVisible=function(e){this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&(this.toolbox_.HtmlDiv.style.display=e?"block":"none"),e?(this.render(),this.toolbox_&&this.toolbox_.position()):Blockly.hideChaff(!0)},Blockly.WorkspaceSvg.prototype.render=function(){for(var e=this.getAllBlocks(),t=e.length-1;t>=0;t--)e[t].render(!1)},Blockly.WorkspaceSvg.prototype.traceOn=function(e){this.traceOn_=e,this.traceWrapper_&&(Blockly.unbindEvent_(this.traceWrapper_),this.traceWrapper_=null),e&&(this.traceWrapper_=Blockly.bindEvent_(this.svgBlockCanvas_,"blocklySelectChange",this,function(){this.traceOn_=!1}))},Blockly.WorkspaceSvg.prototype.highlightBlock=function(e){if(this.traceOn_&&Blockly.dragMode_!=Blockly.DRAG_NONE&&this.traceOn(!1),this.traceOn_){var t=null;if(e&&(t=this.getBlockById(e),!t))return;this.traceOn(!1),t?t.select():Blockly.selected&&Blockly.selected.unselect();var o=this;setTimeout(function(){o.traceOn(!0)},1)}},Blockly.WorkspaceSvg.prototype.paste=function(e){if(this.rendered&&!(e.getElementsByTagName("block").length>=this.remainingCapacity())){Blockly.terminateDrag_(),Blockly.Events.disable();var t=Blockly.Xml.domToBlock(e,this),o=parseInt(e.getAttribute("x"),10);if(e=parseInt(e.getAttribute("y"),10),!isNaN(o)&&!isNaN(e)){this.RTL&&(o=-o);do{for(var n,r=!1,i=this.getAllBlocks(),s=0;n=i[s];s++)if(n=n.getRelativeToSurfaceXY(),1>=Math.abs(o-n.x)&&1>=Math.abs(e-n.y)){r=!0;break}if(!r)for(i=t.getConnections_(!1),s=0;n=i[s];s++)if(n.closest(Blockly.SNAP_RADIUS,new goog.math.Coordinate(o,e)).connection){r=!0;break}r&&(o=this.RTL?o-Blockly.SNAP_RADIUS:o+Blockly.SNAP_RADIUS,e+=2*Blockly.SNAP_RADIUS)}while(r);t.moveBy(o,e)}Blockly.Events.enable(),Blockly.Events.isEnabled()&&!t.isShadow()&&Blockly.Events.fire(new Blockly.Events.Create(t)),t.select()}},Blockly.WorkspaceSvg.prototype.recordDeleteAreas=function(){this.deleteAreaTrash_=this.trashcan?this.trashcan.getClientRect():null,this.deleteAreaToolbox_=this.flyout_?this.flyout_.getClientRect():this.toolbox_?this.toolbox_.getClientRect():null},Blockly.WorkspaceSvg.prototype.isDeleteArea=function(e){if(e=new goog.math.Coordinate(e.clientX,e.clientY),this.deleteAreaTrash_){if(this.deleteAreaTrash_.contains(e))return this.trashcan.setOpen_(!0),Blockly.Css.setCursor(Blockly.Css.Cursor.DELETE),!0;this.trashcan.setOpen_(!1)}return this.deleteAreaToolbox_&&this.deleteAreaToolbox_.contains(e)?(Blockly.Css.setCursor(Blockly.Css.Cursor.DELETE),!0):(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),!1)},Blockly.WorkspaceSvg.prototype.onMouseDown_=function(e){this.markFocused(),Blockly.setPageSelectable(!1),Blockly.isTargetInput_(e)||(Blockly.svgResize(this),Blockly.terminateDrag_(),Blockly.hideChaff(),e.target&&e.target.nodeName&&("svg"==e.target.nodeName.toLowerCase()||e.target==this.svgBackground_)&&Blockly.selected&&!this.options.readOnly&&Blockly.selected.unselect(),Blockly.isRightButton(e)?this.showContextMenu_(e):this.scrollbar&&(this.isScrolling=!0,this.startDragMouseX=e.clientX,this.startDragMouseY=e.clientY,this.startDragMetrics=this.getMetrics(),this.startScrollX=this.scrollX,this.startScrollY=this.scrollY,"mouseup"in Blockly.bindEvent_.TOUCH_MAP&&(Blockly.onTouchUpWrapper_=Blockly.onTouchUpWrapper_||[],Blockly.onTouchUpWrapper_=Blockly.onTouchUpWrapper_.concat(Blockly.bindEvent_(document,"mouseup",null,Blockly.onMouseUp_))),Blockly.onMouseMoveWrapper_=Blockly.onMouseMoveWrapper_||[],Blockly.onMouseMoveWrapper_=Blockly.onMouseMoveWrapper_.concat(Blockly.bindEvent_(document,"mousemove",null,Blockly.onMouseMove_))),e.stopPropagation())},Blockly.WorkspaceSvg.prototype.startDrag=function(e,t){var o=Blockly.mouseToSvg(e,this.getParentSvg());o.x/=this.scale,o.y/=this.scale,this.dragDeltaXY_=goog.math.Coordinate.difference(t,o)},Blockly.WorkspaceSvg.prototype.moveDrag=function(e){return e=Blockly.mouseToSvg(e,this.getParentSvg()),e.x/=this.scale,e.y/=this.scale,goog.math.Coordinate.sum(this.dragDeltaXY_,e)},Blockly.WorkspaceSvg.prototype.onMouseWheel_=function(e){Blockly.terminateDrag_();var t=0<e.deltaY?-1:1,o=Blockly.mouseToSvg(e,this.getParentSvg());this.zoom(o.x,o.y,t),e.preventDefault()},Blockly.WorkspaceSvg.prototype.getBlocksBoundingBox=function(){var e=this.getTopBlocks();if(!e.length)return{x:0,y:0,width:0,height:0};for(var t=e[0].getBoundingRectangle(),o=1;o<e.length;o++){var n=e[o].getBoundingRectangle();n.topLeft.x<t.topLeft.x&&(t.topLeft.x=n.topLeft.x),n.bottomRight.x>t.bottomRight.x&&(t.bottomRight.x=n.bottomRight.x),n.topLeft.y<t.topLeft.y&&(t.topLeft.y=n.topLeft.y),n.bottomRight.y>t.bottomRight.y&&(t.bottomRight.y=n.bottomRight.y)}return{x:t.topLeft.x,y:t.topLeft.y,width:t.bottomRight.x-t.topLeft.x,height:t.bottomRight.y-t.topLeft.y}},Blockly.WorkspaceSvg.prototype.cleanUp_=function(){Blockly.Events.setGroup(!0);for(var e,t=this.getTopBlocks(!0),o=0,n=0;e=t[n];n++){var r=e.getRelativeToSurfaceXY();e.moveBy(-r.x,o-r.y),e.snapToGrid(),o=e.getRelativeToSurfaceXY().y+e.getHeightWidth().height+Blockly.BlockSvg.MIN_BLOCK_Y}Blockly.Events.setGroup(!1),Blockly.fireUiEvent(window,"resize")},Blockly.WorkspaceSvg.prototype.showContextMenu_=function(e){function t(e){if(e.isDeletable())u=u.concat(e.getDescendants());else{e=e.getChildren();for(var o=0;o<e.length;o++)t(e[o])}}function o(){Blockly.Events.setGroup(i);var e=u.shift();e&&(e.workspace?(e.dispose(!1,!0),setTimeout(o,10)):o()),Blockly.Events.setGroup(!1)}if(!this.options.readOnly&&!this.isFlyout){var n=[],r=this.getTopBlocks(!0),i=Blockly.genUid(),s={};if(s.text=Blockly.Msg.UNDO,s.enabled=0<this.undoStack_.length,s.callback=this.undo.bind(this,!1),n.push(s),s={},s.text=Blockly.Msg.REDO,s.enabled=0<this.redoStack_.length,s.callback=this.undo.bind(this,!0),n.push(s),this.scrollbar&&(s={},s.text=Blockly.Msg.CLEAN_UP,s.enabled=1<r.length,s.callback=this.cleanUp_.bind(this),n.push(s)),this.options.collapse){for(var a=s=!1,l=0;l<r.length;l++)for(var g=r[l];g;)g.isCollapsed()?s=!0:a=!0,g=g.getNextBlock();var c=function(e){for(var t=0,o=0;o<r.length;o++)for(var n=r[o];n;)setTimeout(n.setCollapsed.bind(n,e),t),n=n.getNextBlock(),t+=10},a={enabled:a};a.text=Blockly.Msg.COLLAPSE_ALL,a.callback=function(){c(!0)},n.push(a),s={enabled:s},s.text=Blockly.Msg.EXPAND_ALL,s.callback=function(){c(!1)},n.push(s)}for(var u=[],l=0;l<r.length;l++)t(r[l]);s={text:1==u.length?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(u.length)),enabled:0<u.length,callback:function(){(2>u.length||window.confirm(Blockly.Msg.DELETE_ALL_BLOCKS.replace("%1",String(u.length))))&&o()}},n.push(s),Blockly.ContextMenu.show(e,n,this.RTL)}},Blockly.WorkspaceSvg.prototype.loadAudio_=function(e,t){if(e.length){try{var o=new window.Audio}catch(n){return}for(var r,i=0;i<e.length;i++){var s=e[i],a=s.match(/\.(\w+)$/);if(a&&o.canPlayType("audio/"+a[1])){r=new window.Audio(s);break}}r&&r.play&&(this.SOUNDS_[t]=r)}},Blockly.WorkspaceSvg.prototype.preloadAudio_=function(){for(var e in this.SOUNDS_){var t=this.SOUNDS_[e];if(t.volume=.01,t.play(),t.pause(),goog.userAgent.IPAD||goog.userAgent.IPHONE)break}},Blockly.WorkspaceSvg.prototype.playAudio=function(e,t){var o=this.SOUNDS_[e];o?(o=goog.userAgent.DOCUMENT_MODE&&9===goog.userAgent.DOCUMENT_MODE||goog.userAgent.IPAD||goog.userAgent.ANDROID?o:o.cloneNode(),o.volume=void 0===t?1:t,o.play()):this.options.parentWorkspace&&this.options.parentWorkspace.playAudio(e,t)},Blockly.WorkspaceSvg.prototype.updateToolbox=function(e){if(e=Blockly.Options.parseToolboxTree(e)){if(!this.options.languageTree)throw"Existing toolbox is null.  Can't create new toolbox.";if(e.getElementsByTagName("category").length){if(!this.toolbox_)throw"Existing toolbox has no categories.  Can't change mode.";this.options.languageTree=e,this.toolbox_.populate_(e),this.toolbox_.addColour_()}else{if(!this.flyout_)throw"Existing toolbox has categories.  Can't change mode.";this.options.languageTree=e,this.flyout_.show(e.childNodes)}}else if(this.options.languageTree)throw"Can't nullify an existing toolbox."},Blockly.WorkspaceSvg.prototype.markFocused=function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():Blockly.mainWorkspace=this},Blockly.WorkspaceSvg.prototype.zoom=function(e,t,o){var n=this.options.zoomOptions.scaleSpeed,r=this.getMetrics(),i=this.getParentSvg().createSVGPoint();i.x=e,i.y=t,i=i.matrixTransform(this.getCanvas().getCTM().inverse()),e=i.x,t=i.y,i=this.getCanvas(),n=1==o?n:1/n,o=this.scale*n,o>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:o<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale),this.scale!=o&&(this.scrollbar&&(e=i.getCTM().translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=e.e-r.absoluteLeft,this.scrollY=e.f-r.absoluteTop),this.setScale(o))},Blockly.WorkspaceSvg.prototype.zoomCenter=function(e){var t=this.getMetrics();this.zoom(t.viewWidth/2,t.viewHeight/2,e)},Blockly.WorkspaceSvg.prototype.zoomToFit=function(){var e=this.getMetrics(),t=this.getBlocksBoundingBox(),o=t.width,t=t.height;if(o){var n=e.viewWidth,r=e.viewHeight;this.flyout_&&(n-=this.flyout_.width_),this.scrollbar||(o+=e.contentLeft,t+=e.contentTop),this.setScale(Math.min(n/o,r/t)),this.scrollCenter()}},Blockly.WorkspaceSvg.prototype.scrollCenter=function(){if(this.scrollbar){var e=this.getMetrics(),t=(e.contentWidth-e.viewWidth)/2;this.flyout_&&(t-=this.flyout_.width_/2),this.scrollbar.set(t,(e.contentHeight-e.viewHeight)/2)}},Blockly.WorkspaceSvg.prototype.setScale=function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.updateGridPattern_(),this.scrollbar?this.scrollbar.resize():this.translate(this.scrollX,this.scrollY),Blockly.hideChaff(!1),this.flyout_&&this.flyout_.reflow()},Blockly.WorkspaceSvg.prototype.updateGridPattern_=function(){if(this.options.gridPattern){var e=this.options.gridOptions.spacing*this.scale||100;this.options.gridPattern.setAttribute("width",e),this.options.gridPattern.setAttribute("height",e);var e=Math.floor(this.options.gridOptions.spacing/2)+.5,t=e-this.options.gridOptions.length/2,o=e+this.options.gridOptions.length/2,n=this.options.gridPattern.firstChild,r=n&&n.nextSibling,e=e*this.scale,t=t*this.scale,o=o*this.scale;n&&(n.setAttribute("stroke-width",this.scale),n.setAttribute("x1",t),n.setAttribute("y1",e),n.setAttribute("x2",o),n.setAttribute("y2",e)),r&&(r.setAttribute("stroke-width",this.scale),r.setAttribute("x1",e),r.setAttribute("y1",t),r.setAttribute("x2",e),r.setAttribute("y2",o))}},Blockly.WorkspaceSvg.prototype.setVisible=Blockly.WorkspaceSvg.prototype.setVisible,Blockly.Mutator=function(e){Blockly.Mutator.superClass_.constructor.call(this,null),this.quarkNames_=e},goog.inherits(Blockly.Mutator,Blockly.Icon),Blockly.Mutator.prototype.workspaceWidth_=0,Blockly.Mutator.prototype.workspaceHeight_=0,Blockly.Mutator.prototype.drawIcon_=function(e){Blockly.createSvgElement("rect",{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},e),Blockly.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},e),Blockly.createSvgElement("circle",{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},e)},Blockly.Mutator.prototype.iconClick_=function(e){this.block_.isEditable()&&Blockly.Icon.prototype.iconClick_.call(this,e)},Blockly.Mutator.prototype.createEditor_=function(){if(this.svgDialog_=Blockly.createSvgElement("svg",{x:Blockly.Bubble.BORDER_WIDTH,y:Blockly.Bubble.BORDER_WIDTH},null),this.quarkNames_.length)for(var e,t=goog.dom.createDom("xml"),o=0;e=this.quarkNames_[o];o++)t.appendChild(goog.dom.createDom("block",{type:e}));else t=null;return t={languageTree:t,parentWorkspace:this.block_.workspace,pathToMedia:this.block_.workspace.options.pathToMedia,RTL:this.block_.RTL,getMetrics:this.getFlyoutMetrics_.bind(this),setMetrics:null},this.workspace_=new Blockly.WorkspaceSvg(t),this.svgDialog_.appendChild(this.workspace_.createDom("blocklyMutatorBackground")),this.svgDialog_},Blockly.Mutator.prototype.updateEditable=function(){this.block_.isEditable()?Blockly.Icon.prototype.updateEditable.call(this):(this.setVisible(!1),this.iconGroup_&&Blockly.addClass_(this.iconGroup_,"blocklyIconGroupReadonly"))},Blockly.Mutator.prototype.resizeBubble_=function(){var e,t=2*Blockly.Bubble.BORDER_WIDTH,o=this.workspace_.getCanvas().getBBox();if(e=this.block_.RTL?-o.x:o.width+o.x,o=o.height+3*t,this.workspace_.flyout_)var n=this.workspace_.flyout_.getMetrics_(),o=Math.max(o,n.contentHeight+20);e+=3*t,(Math.abs(this.workspaceWidth_-e)>t||Math.abs(this.workspaceHeight_-o)>t)&&(this.workspaceWidth_=e,this.workspaceHeight_=o,this.bubble_.setBubbleSize(e+t,o+t),this.svgDialog_.setAttribute("width",this.workspaceWidth_),this.svgDialog_.setAttribute("height",this.workspaceHeight_)),this.block_.RTL&&(t="translate("+this.workspaceWidth_+",0)",this.workspace_.getCanvas().setAttribute("transform",t)),this.workspace_.resize()},Blockly.Mutator.prototype.setVisible=function(e){if(e!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"mutatorOpen",!e,e)),e){this.bubble_=new Blockly.Bubble(this.block_.workspace,this.createEditor_(),this.block_.svgPath_,this.iconXY_,null,null),(e=this.workspace_.options.languageTree)&&(this.workspace_.flyout_.init(this.workspace_),this.workspace_.flyout_.show(e.childNodes)),this.rootBlock_=this.block_.decompose(this.workspace_),e=this.rootBlock_.getDescendants();for(var t,o=0;t=e[o];o++)t.render();if(this.rootBlock_.setMovable(!1),this.rootBlock_.setDeletable(!1),this.workspace_.flyout_?(e=2*this.workspace_.flyout_.CORNER_RADIUS,o=this.workspace_.flyout_.width_+e):o=e=16,this.block_.RTL&&(o=-o),this.rootBlock_.moveBy(o,e),this.block_.saveConnections){var n=this;this.block_.saveConnections(this.rootBlock_),this.sourceListener_=function(){n.block_.saveConnections(n.rootBlock_)},this.block_.workspace.addChangeListener(this.sourceListener_)}this.resizeBubble_(),this.workspace_.addChangeListener(this.workspaceChanged_.bind(this)),this.updateColour()}else this.svgDialog_=null,this.workspace_.dispose(),this.rootBlock_=this.workspace_=null,this.bubble_.dispose(),this.bubble_=null,this.workspaceHeight_=this.workspaceWidth_=0,this.sourceListener_&&(this.block_.workspace.removeChangeListener(this.sourceListener_),this.sourceListener_=null)},Blockly.Mutator.prototype.workspaceChanged_=function(){if(Blockly.dragMode_==Blockly.DRAG_NONE)for(var e,t=this.workspace_.getTopBlocks(!1),o=0;e=t[o];o++){var n=e.getRelativeToSurfaceXY(),r=e.getHeightWidth();20>n.y+r.height&&e.moveBy(0,20-r.height-n.y)}if(this.rootBlock_.workspace==this.workspace_){if(Blockly.Events.setGroup(!0),e=this.block_,t=(t=e.mutationToDom())&&Blockly.Xml.domToText(t),o=e.rendered,e.rendered=!1,e.compose(this.rootBlock_),e.rendered=o,e.initSvg(),o=(o=e.mutationToDom())&&Blockly.Xml.domToText(o),t!=o){Blockly.Events.fire(new Blockly.Events.Change(e,"mutation",null,t,o));var i=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(i),e.bumpNeighbours_(),Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY)}e.rendered&&e.render(),this.resizeBubble_(),Blockly.Events.setGroup(!1)}},Blockly.Mutator.prototype.getFlyoutMetrics_=function(){return{viewHeight:this.workspaceHeight_,viewWidth:this.workspaceWidth_,absoluteTop:0,absoluteLeft:0}},Blockly.Mutator.prototype.dispose=function(){this.block_.mutator=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Mutator.reconnect=function(e,t,o){if(!e||!e.getSourceBlock().workspace)return!1;o=t.getInput(o).connection;var n=e.targetBlock();return n&&n!=t||o.targetConnection==e?!1:(o.isConnected()&&o.disconnect(),o.connect(e),!0)},goog.global.Blockly||(goog.global.Blockly={}),goog.global.Blockly.Mutator||(goog.global.Blockly.Mutator={}),goog.global.Blockly.Mutator.reconnect=Blockly.Mutator.reconnect,Blockly.Warning=function(e){Blockly.Warning.superClass_.constructor.call(this,e),this.createIcon(),this.text_={}},goog.inherits(Blockly.Warning,Blockly.Icon),Blockly.Warning.prototype.collapseHidden=!1,Blockly.Warning.prototype.drawIcon_=function(e){Blockly.createSvgElement("path",{"class":"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},e),Blockly.createSvgElement("path",{"class":"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},e),Blockly.createSvgElement("rect",{"class":"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},e)},Blockly.Warning.textToDom_=function(e){var t=Blockly.createSvgElement("text",{"class":"blocklyText blocklyBubbleText",y:Blockly.Bubble.BORDER_WIDTH},null);e=e.split("\n");for(var o=0;o<e.length;o++){var n=Blockly.createSvgElement("tspan",{dy:"1em",x:Blockly.Bubble.BORDER_WIDTH},t),r=document.createTextNode(e[o]);n.appendChild(r)}return t},Blockly.Warning.prototype.setVisible=function(e){if(e!=this.isVisible())if(Blockly.Events.fire(new Blockly.Events.Ui(this.block_,"warningOpen",!e,e)),e){if(e=Blockly.Warning.textToDom_(this.getText()),this.bubble_=new Blockly.Bubble(this.block_.workspace,e,this.block_.svgPath_,this.iconXY_,null,null),this.block_.RTL)for(var t,o=e.getBBox().width,n=0;t=e.childNodes[n];n++)t.setAttribute("text-anchor","end"),t.setAttribute("x",o+Blockly.Bubble.BORDER_WIDTH);this.updateColour(),e=this.bubble_.getBubbleSize(),this.bubble_.setBubbleSize(e.width,e.height)}else this.bubble_.dispose(),this.body_=this.bubble_=null},Blockly.Warning.prototype.bodyFocus_=function(e){this.bubble_.promote_()},Blockly.Warning.prototype.setText=function(e,t){this.text_[t]!=e&&(e?this.text_[t]=e:delete this.text_[t],this.isVisible()&&(this.setVisible(!1),this.setVisible(!0)))},Blockly.Warning.prototype.getText=function(){var e,t=[];for(e in this.text_)t.push(this.text_[e]);return t.join("\n")},Blockly.Warning.prototype.dispose=function(){this.block_.warning=null,Blockly.Icon.prototype.dispose.call(this)},Blockly.Block=function(e,t,o){this.id=o&&!e.getBlockById(o)?o:Blockly.genUid(),e.blockDB_[this.id]=this,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.inputsInline=void 0,this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.comment=null,this.xy_=new goog.math.Coordinate(0,0),this.workspace=e,this.isInFlyout=e.isFlyout,this.RTL=e.RTL,t&&(this.type=t,o=Blockly.Blocks[t],goog.asserts.assertObject(o,'Error: "%s" is an unknown language block.',t),goog.mixin(this,o)),e.addTopBlock(this),goog.isFunction(this.init)&&this.init(),this.inputsInlineDefault=this.inputsInline,Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Create(this)),goog.isFunction(this.onchange)&&(this.onchangeWrapper_=this.onchange.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_))},Blockly.Block.obtain=function(e,t){return console.warn("Deprecated call to Blockly.Block.obtain, use workspace.newBlock instead."),e.newBlock(t)},Blockly.Block.prototype.data=null,Blockly.Block.prototype.colour_="#000000",Blockly.Block.prototype.dispose=function(e){for(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Delete(this)),Blockly.Events.disable(),this.workspace&&(this.workspace.removeTopBlock(this),delete this.workspace.blockDB_[this.id],this.workspace=null),e=this.childBlocks_.length-1;e>=0;e--)this.childBlocks_[e].dispose(!1);e=0;for(var t;t=this.inputList[e];e++)t.dispose();for(this.inputList.length=0,t=this.getConnections_(!0),e=0;e<t.length;e++){var o=t[e];o.isConnected()&&o.disconnect(),t[e].dispose()}Blockly.Events.enable()},Blockly.Block.prototype.unplug=function(e){if(this.outputConnection)this.outputConnection.isConnected()&&this.outputConnection.disconnect();else if(this.previousConnection){var t=null;this.previousConnection.isConnected()&&(t=this.previousConnection.targetConnection,
this.previousConnection.disconnect());var o=this.getNextBlock();e&&o&&(e=this.nextConnection.targetConnection,e.disconnect(),t&&t.checkType_(e)&&t.connect(e))}},Blockly.Block.prototype.getConnections_=function(){var e=[];this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var t,o=0;t=this.inputList[o];o++)t.connection&&e.push(t.connection);return e},Blockly.Block.prototype.lastConnectionInStack_=function(){for(var e=this.nextConnection;e;){var t=e.targetBlock();if(!t)return e;e=t.nextConnection}return null},Blockly.Block.prototype.bumpNeighbours_=function(){if(this.workspace&&Blockly.dragMode_==Blockly.DRAG_NONE){var e=this.getRootBlock();if(!e.isInFlyout)for(var t,o=this.getConnections_(!1),n=0;t=o[n];n++){t.isConnected()&&t.isSuperior()&&t.targetBlock().bumpNeighbours_();for(var r,i=t.neighbours_(Blockly.SNAP_RADIUS),s=0;r=i[s];s++)t.isConnected()&&r.isConnected()||r.getSourceBlock().getRootBlock()!=e&&(t.isSuperior()?r.bumpAwayFrom_(t):t.bumpAwayFrom_(r))}}},Blockly.Block.prototype.getParent=function(){return this.parentBlock_},Blockly.Block.prototype.getInputWithBlock=function(e){for(var t,o=0;t=this.inputList[o];o++)if(t.connection&&t.connection.targetBlock()==e)return t;return null},Blockly.Block.prototype.getSurroundParent=function(){var e=this;do{var t=e,e=e.getParent();if(!e)return null}while(e.getNextBlock()==t);return e},Blockly.Block.prototype.getNextBlock=function(){return this.nextConnection&&this.nextConnection.targetBlock()},Blockly.Block.prototype.getRootBlock=function(){var e,t=this;do e=t,t=e.parentBlock_;while(t);return e},Blockly.Block.prototype.getChildren=function(){return this.childBlocks_},Blockly.Block.prototype.setParent=function(e){if(e!=this.parentBlock_){if(this.parentBlock_){for(var t,o=this.parentBlock_.childBlocks_,n=0;t=o[n];n++)if(t==this){o.splice(n,1);break}if(this.previousConnection&&this.previousConnection.isConnected())throw"Still connected to previous block.";if(this.outputConnection&&this.outputConnection.isConnected())throw"Still connected to parent block.";this.parentBlock_=null}else this.workspace.removeTopBlock(this);(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}},Blockly.Block.prototype.getDescendants=function(){for(var e,t=[this],o=0;e=this.childBlocks_[o];o++)t.push.apply(t,e.getDescendants());return t},Blockly.Block.prototype.isDeletable=function(){return this.deletable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setDeletable=function(e){this.deletable_=e},Blockly.Block.prototype.isMovable=function(){return this.movable_&&!this.isShadow_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setMovable=function(e){this.movable_=e},Blockly.Block.prototype.isShadow=function(){return this.isShadow_},Blockly.Block.prototype.setShadow=function(e){this.isShadow_=e},Blockly.Block.prototype.isEditable=function(){return this.editable_&&!(this.workspace&&this.workspace.options.readOnly)},Blockly.Block.prototype.setEditable=function(e){this.editable_=e,e=0;for(var t;t=this.inputList[e];e++)for(var o,n=0;o=t.fieldRow[n];n++)o.updateEditable()},Blockly.Block.prototype.setConnectionsHidden=function(e){if(!e&&this.isCollapsed()){if(this.outputConnection&&this.outputConnection.setHidden(e),this.previousConnection&&this.previousConnection.setHidden(e),this.nextConnection){this.nextConnection.setHidden(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionsHidden(e)}}else for(var o=this.getConnections_(!0),n=0;t=o[n];n++)t.setHidden(e),t.isSuperior()&&(t=t.targetBlock())&&t.setConnectionsHidden(e)},Blockly.Block.prototype.setHelpUrl=function(e){this.helpUrl=e},Blockly.Block.prototype.setTooltip=function(e){this.tooltip=e},Blockly.Block.prototype.getColour=function(){return this.colour_},Blockly.Block.prototype.setColour=function(e){var t=parseFloat(e);if(isNaN(t)){if(!goog.isString(e)||!e.match(/^#[0-9a-fA-F]{6}$/))throw"Invalid colour: "+e;this.colour_=e}else this.colour_=Blockly.hueToRgb(t)},Blockly.Block.prototype.getField=function(e){for(var t,o=0;t=this.inputList[o];o++)for(var n,r=0;n=t.fieldRow[r];r++)if(n.name===e)return n;return null},Blockly.Block.prototype.getVars=function(){for(var e,t=[],o=0;e=this.inputList[o];o++)for(var n,r=0;n=e.fieldRow[r];r++)n instanceof Blockly.FieldVariable&&t.push(n.getValue());return t},Blockly.Block.prototype.renameVar=function(e,t){for(var o,n=0;o=this.inputList[n];n++)for(var r,i=0;r=o.fieldRow[i];i++)r instanceof Blockly.FieldVariable&&Blockly.Names.equals(e,r.getValue())&&r.setValue(t)},Blockly.Block.prototype.getFieldValue=function(e){return(e=this.getField(e))?e.getValue():null},Blockly.Block.prototype.getTitleValue=function(e){return console.warn("Deprecated call to getTitleValue, use getFieldValue instead."),this.getFieldValue(e)},Blockly.Block.prototype.setFieldValue=function(e,t){var o=this.getField(t);goog.asserts.assertObject(o,'Field "%s" not found.',t),o.setValue(e)},Blockly.Block.prototype.setTitleValue=function(e,t){console.warn("Deprecated call to setTitleValue, use setFieldValue instead."),this.setFieldValue(e,t)},Blockly.Block.prototype.setPreviousStatement=function(e,t){e?(void 0===t&&(t=null),this.previousConnection||(goog.asserts.assert(!this.outputConnection,"Remove output connection prior to adding previous connection."),this.previousConnection=new Blockly.Connection(this,Blockly.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t)):this.previousConnection&&(goog.asserts.assert(!this.previousConnection.isConnected(),"Must disconnect previous statement before removing connection."),this.previousConnection.dispose(),this.previousConnection=null)},Blockly.Block.prototype.setNextStatement=function(e,t){e?(void 0===t&&(t=null),this.nextConnection||(this.nextConnection=new Blockly.Connection(this,Blockly.NEXT_STATEMENT)),this.nextConnection.setCheck(t)):this.nextConnection&&(goog.asserts.assert(!this.nextConnection.isConnected(),"Must disconnect next statement before removing connection."),this.nextConnection.dispose(),this.nextConnection=null)},Blockly.Block.prototype.setOutput=function(e,t){e?(void 0===t&&(t=null),this.outputConnection||(goog.asserts.assert(!this.previousConnection,"Remove previous connection prior to adding output connection."),this.outputConnection=new Blockly.Connection(this,Blockly.OUTPUT_VALUE)),this.outputConnection.setCheck(t)):this.outputConnection&&(goog.asserts.assert(!this.outputConnection.isConnected(),"Must disconnect output value before removing connection."),this.outputConnection.dispose(),this.outputConnection=null)},Blockly.Block.prototype.setInputsInline=function(e){this.inputsInline!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)},Blockly.Block.prototype.getInputsInline=function(){if(void 0!=this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==Blockly.DUMMY_INPUT&&this.inputList[e].type==Blockly.DUMMY_INPUT)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1].type==Blockly.INPUT_VALUE&&this.inputList[e].type==Blockly.DUMMY_INPUT)return!0;return!1},Blockly.Block.prototype.setDisabled=function(e){this.disabled!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this,"disabled",null,this.disabled,e)),this.disabled=e)},Blockly.Block.prototype.getInheritedDisabled=function(){for(var e=this;;){if(e=e.getSurroundParent(),!e)return!1;if(e.disabled)return!0}},Blockly.Block.prototype.isCollapsed=function(){return this.collapsed_},Blockly.Block.prototype.setCollapsed=function(e){this.collapsed_!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)},Blockly.Block.prototype.toString=function(e){var t=[];if(this.collapsed_)t.push(this.getInput("_TEMP_COLLAPSED_INPUT").fieldRow[0].text_);else for(var o,n=0;o=this.inputList[n];n++){for(var r,i=0;r=o.fieldRow[i];i++)t.push(r.getText());o.connection&&((o=o.connection.targetBlock())?t.push(o.toString()):t.push("?"))}return t=goog.string.trim(t.join(" "))||"???",e&&(t=goog.string.truncate(t,e)),t},Blockly.Block.prototype.appendValueInput=function(e){return this.appendInput_(Blockly.INPUT_VALUE,e)},Blockly.Block.prototype.appendStatementInput=function(e){return this.appendInput_(Blockly.NEXT_STATEMENT,e)},Blockly.Block.prototype.appendDummyInput=function(e){return this.appendInput_(Blockly.DUMMY_INPUT,e||"")},Blockly.Block.prototype.jsonInit=function(e){goog.asserts.assert(void 0==e.output||void 0==e.previousStatement,"Must not have both an output and a previousStatement."),void 0!==e.colour&&this.setColour(e.colour);for(var t=0;void 0!==e["message"+t];)this.interpolate_(e["message"+t],e["args"+t]||[],e["lastDummyAlign"+t]),t++;void 0!==e.inputsInline&&this.setInputsInline(e.inputsInline),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&this.setTooltip(e.tooltip),void 0!==e.helpUrl&&this.setHelpUrl(e.helpUrl)},Blockly.Block.prototype.interpolate_=function(e,t,o){var n=Blockly.tokenizeInterpolation(e),r=[],i=0;e=[];for(var s=0;s<n.length;s++){var a=n[s];"number"==typeof a?(goog.asserts.assert(a>0&&a<=t.length,'Message index "%s" out of range.',a),goog.asserts.assert(!r[a],'Message index "%s" duplicated.',a),r[a]=!0,i++,e.push(t[a-1])):(a=a.trim())&&e.push(a)}for(goog.asserts.assert(i==t.length,"Message does not reference all %s arg(s).",t.length),!e.length||"string"!=typeof e[e.length-1]&&0!=e[e.length-1].type.indexOf("field_")||(t={type:"input_dummy"},o&&(t.align=o),e.push(t)),o={LEFT:Blockly.ALIGN_LEFT,RIGHT:Blockly.ALIGN_RIGHT,CENTRE:Blockly.ALIGN_CENTRE},n=[],s=0;s<e.length;s++)if(r=e[s],"string"==typeof r)n.push([r,void 0]);else{t=i=null;do switch(a=!1,r.type){case"input_value":t=this.appendValueInput(r.name);break;case"input_statement":t=this.appendStatementInput(r.name);break;case"input_dummy":t=this.appendDummyInput(r.name);break;case"field_label":i=new Blockly.FieldLabel(r.text,r["class"]);break;case"field_input":i=new Blockly.FieldTextInput(r.text),"boolean"==typeof r.spellcheck&&i.setSpellcheck(r.spellcheck);break;case"field_angle":i=new Blockly.FieldAngle(r.angle);break;case"field_checkbox":i=new Blockly.FieldCheckbox(r.checked?"TRUE":"FALSE");break;case"field_colour":i=new Blockly.FieldColour(r.colour);break;case"field_variable":i=new Blockly.FieldVariable(r.variable);break;case"field_dropdown":i=new Blockly.FieldDropdown(r.options);break;case"field_image":i=new Blockly.FieldImage(r.src,r.width,r.height,r.alt);break;case"field_date":if(Blockly.FieldDate){i=new Blockly.FieldDate(r.date);break}default:r.alt&&(r=r.alt,a=!0)}while(a);if(i)n.push([i,r.name]);else if(t){for(r.check&&t.setCheck(r.check),r.align&&t.setAlign(o[r.align]),r=0;r<n.length;r++)t.appendField(n[r][0],n[r][1]);n.length=0}}},Blockly.Block.prototype.appendInput_=function(e,t){var o=null;return e!=Blockly.INPUT_VALUE&&e!=Blockly.NEXT_STATEMENT||(o=new Blockly.Connection(this,e)),o=new Blockly.Input(e,t,this,o),this.inputList.push(o),o},Blockly.Block.prototype.moveInputBefore=function(e,t){if(e!=t){for(var o,n=-1,r=t?-1:this.inputList.length,i=0;o=this.inputList[i];i++)if(o.name==e){if(n=i,-1!=r)break}else if(t&&o.name==t&&(r=i,-1!=n))break;goog.asserts.assert(-1!=n,'Named input "%s" not found.',e),goog.asserts.assert(-1!=r,'Reference input "%s" not found.',t),this.moveNumberedInputBefore(n,r)}},Blockly.Block.prototype.moveNumberedInputBefore=function(e,t){goog.asserts.assert(e!=t,"Can't move input to itself."),goog.asserts.assert(e<this.inputList.length,"Input index "+e+" out of bounds."),goog.asserts.assert(t<=this.inputList.length,"Reference input "+t+" out of bounds.");var o=this.inputList[e];this.inputList.splice(e,1),t>e&&t--,this.inputList.splice(t,0,o)},Blockly.Block.prototype.removeInput=function(e,t){for(var o,n=0;o=this.inputList[n];n++)if(o.name==e){if(o.connection&&o.connection.isConnected()){o.connection.setShadowDom(null);var r=o.connection.targetBlock();r.isShadow()?r.dispose():r.unplug()}return o.dispose(),void this.inputList.splice(n,1)}t||goog.asserts.fail('Input "%s" not found.',e)},Blockly.Block.prototype.getInput=function(e){for(var t,o=0;t=this.inputList[o];o++)if(t.name==e)return t;return null},Blockly.Block.prototype.getInputTargetBlock=function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()},Blockly.Block.prototype.getCommentText=function(){return this.comment||""},Blockly.Block.prototype.setCommentText=function(e){this.comment!=e&&(Blockly.Events.fire(new Blockly.Events.Change(this,"comment",null,this.comment,e||"")),this.comment=e)},Blockly.Block.prototype.setWarningText=function(e){},Blockly.Block.prototype.setMutator=function(e){},Blockly.Block.prototype.getRelativeToSurfaceXY=function(){return this.xy_},Blockly.Block.prototype.moveBy=function(e,t){goog.asserts.assert(!this.parentBlock_,"Block has parent.");var o=new Blockly.Events.Move(this);this.xy_.translate(e,t),o.recordNew(),Blockly.Events.fire(o)},Blockly.ContextMenu={},Blockly.ContextMenu.currentBlock=null,Blockly.ContextMenu.show=function(e,t,o){if(Blockly.WidgetDiv.show(Blockly.ContextMenu,o,null),t.length){var n=new goog.ui.Menu;n.setRightToLeft(o);for(var r,i=0;r=t[i];i++){var s=new goog.ui.MenuItem(r.text);s.setRightToLeft(o),n.addChild(s,!0),s.setEnabled(r.enabled),r.enabled&&goog.events.listen(s,goog.ui.Component.EventType.ACTION,r.callback)}goog.events.listen(n,goog.ui.Component.EventType.ACTION,Blockly.ContextMenu.hide),t=goog.dom.getViewportSize(),r=goog.style.getViewportPageOffset(document),n.render(Blockly.WidgetDiv.DIV);var a=n.getElement();Blockly.addClass_(a,"blocklyContextMenu");var s=goog.style.getSize(a),i=e.clientX+r.x,l=e.clientY+r.y;e.clientY+s.height>=t.height&&(l-=s.height),o?s.width>=e.clientX&&(i+=s.width):e.clientX+s.width>=t.width&&(i-=s.width),Blockly.WidgetDiv.position(i,l,t,r,o),n.setAllowAutoFocus(!0),setTimeout(function(){a.focus()},1),Blockly.ContextMenu.currentBlock=null}else Blockly.ContextMenu.hide()},Blockly.ContextMenu.hide=function(){Blockly.WidgetDiv.hideIfOwner(Blockly.ContextMenu),Blockly.ContextMenu.currentBlock=null},Blockly.ContextMenu.callbackFactory=function(e,t){return function(){Blockly.Events.disable();var o=Blockly.Xml.domToBlock(t,e.workspace),n=e.getRelativeToSurfaceXY();n.x=e.RTL?n.x-Blockly.SNAP_RADIUS:n.x+Blockly.SNAP_RADIUS,n.y+=2*Blockly.SNAP_RADIUS,o.moveBy(n.x,n.y),Blockly.Events.enable(),Blockly.Events.isEnabled()&&!o.isShadow()&&Blockly.Events.fire(new Blockly.Events.Create(o)),o.select()}},Blockly.BlockSvg=function(e,t,o){this.svgGroup_=Blockly.createSvgElement("g",{},null),this.svgPathDark_=Blockly.createSvgElement("path",{"class":"blocklyPathDark",transform:"translate(1,1)"},this.svgGroup_),this.svgPath_=Blockly.createSvgElement("path",{"class":"blocklyPath"},this.svgGroup_),this.svgPathLight_=Blockly.createSvgElement("path",{"class":"blocklyPathLight"},this.svgGroup_),this.svgPath_.tooltip=this,this.rendered=!1,Blockly.Tooltip.bindMouseEvents(this.svgPath_),Blockly.BlockSvg.superClass_.constructor.call(this,e,t,o)},goog.inherits(Blockly.BlockSvg,Blockly.Block),Blockly.BlockSvg.prototype.height=0,Blockly.BlockSvg.prototype.width=0,Blockly.BlockSvg.prototype.dragStartXY_=null,Blockly.BlockSvg.INLINE=-1,Blockly.BlockSvg.prototype.initSvg=function(){goog.asserts.assert(this.workspace.rendered,"Workspace is headless.");for(var e,t=0;e=this.inputList[t];t++)e.init();for(e=this.getIcons(),t=0;t<e.length;t++)e[t].createIcon();if(this.updateColour(),this.updateMovable(),!this.workspace.options.readOnly&&!this.eventsInit_){Blockly.bindEvent_(this.getSvgRoot(),"mousedown",this,this.onMouseDown_);var o=this;Blockly.bindEvent_(this.getSvgRoot(),"touchstart",null,function(e){Blockly.longStart_(e,o)})}this.eventsInit_=!0,this.getSvgRoot().parentNode||this.workspace.getCanvas().appendChild(this.getSvgRoot())},Blockly.BlockSvg.prototype.select=function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(Blockly.selected!=this){var e=null;Blockly.selected&&(e=Blockly.selected.id,Blockly.Events.disable(),Blockly.selected.unselect(),Blockly.Events.enable()),e=new Blockly.Events.Ui(null,"selected",e,this.id),e.workspaceId=this.workspace.id,Blockly.Events.fire(e),Blockly.selected=this,this.addSelect(),Blockly.fireUiEvent(this.workspace.getCanvas(),"blocklySelectChange")}},Blockly.BlockSvg.prototype.unselect=function(){if(Blockly.selected==this){var e=new Blockly.Events.Ui(null,"selected",this.id,null);e.workspaceId=this.workspace.id,Blockly.Events.fire(e),Blockly.selected=null,this.removeSelect(),Blockly.fireUiEvent(this.workspace.getCanvas(),"blocklySelectChange")}},Blockly.BlockSvg.prototype.mutator=null,Blockly.BlockSvg.prototype.comment=null,Blockly.BlockSvg.prototype.warning=null,Blockly.BlockSvg.prototype.getIcons=function(){var e=[];return this.mutator&&e.push(this.mutator),this.comment&&e.push(this.comment),this.warning&&e.push(this.warning),e},Blockly.BlockSvg.onMouseUpWrapper_=null,Blockly.BlockSvg.onMouseMoveWrapper_=null,Blockly.BlockSvg.terminateDrag_=function(){Blockly.BlockSvg.disconnectUiStop_(),Blockly.BlockSvg.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.BlockSvg.onMouseUpWrapper_),Blockly.BlockSvg.onMouseUpWrapper_=null),Blockly.BlockSvg.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.BlockSvg.onMouseMoveWrapper_),Blockly.BlockSvg.onMouseMoveWrapper_=null);var e=Blockly.selected;if(Blockly.dragMode_==Blockly.DRAG_FREE&&e){var t=e.getRelativeToSurfaceXY(),t=goog.math.Coordinate.difference(t,e.dragStartXY_),o=new Blockly.Events.Move(e);o.oldCoordinate=e.dragStartXY_,o.recordNew(),Blockly.Events.fire(o),e.moveConnections_(t.x,t.y),delete e.draggedBubbles_,e.setDragging_(!1),e.render();var n=Blockly.Events.getGroup();setTimeout(function(){Blockly.Events.setGroup(n),e.snapToGrid(),Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY/2),setTimeout(function(){Blockly.Events.setGroup(n),e.bumpNeighbours_(),Blockly.Events.setGroup(!1)},Blockly.BUMP_DELAY),Blockly.fireUiEvent(window,"resize")}Blockly.dragMode_=Blockly.DRAG_NONE,Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN)},Blockly.BlockSvg.prototype.setParent=function(e){if(e!=this.parentBlock_){var t=this.getSvgRoot();if(this.parentBlock_&&t){var o=this.getRelativeToSurfaceXY();this.workspace.getCanvas().appendChild(t),t.setAttribute("transform","translate("+o.x+","+o.y+")")}Blockly.Field.startCache(),Blockly.BlockSvg.superClass_.setParent.call(this,e),Blockly.Field.stopCache(),e&&(o=this.getRelativeToSurfaceXY(),e.getSvgRoot().appendChild(t),e=this.getRelativeToSurfaceXY(),this.moveConnections_(e.x-o.x,e.y-o.y))}},Blockly.BlockSvg.prototype.getRelativeToSurfaceXY=function(){var e=0,t=0,o=this.getSvgRoot();if(o)do var n=Blockly.getRelativeXY_(o),e=e+n.x,t=t+n.y,o=o.parentNode;while(o&&o!=this.workspace.getCanvas());return new goog.math.Coordinate(e,t)},Blockly.BlockSvg.prototype.moveBy=function(e,t){goog.asserts.assert(!this.parentBlock_,"Block has parent.");var o=new Blockly.Events.Move(this),n=this.getRelativeToSurfaceXY();this.getSvgRoot().setAttribute("transform","translate("+(n.x+e)+","+(n.y+t)+")"),this.moveConnections_(e,t),o.recordNew(),Blockly.Events.fire(o)},Blockly.BlockSvg.prototype.snapToGrid=function(){if(this.workspace&&Blockly.dragMode_==Blockly.DRAG_NONE&&!this.getParent()&&!this.isInFlyout&&this.workspace.options.gridOptions&&this.workspace.options.gridOptions.snap){var e=this.workspace.options.gridOptions.spacing,t=e/2,o=this.getRelativeToSurfaceXY(),n=Math.round((o.x-t)/e)*e+t-o.x,e=Math.round((o.y-t)/e)*e+t-o.y,n=Math.round(n),e=Math.round(e);0==n&&0==e||this.moveBy(n,e)}},Blockly.BlockSvg.prototype.getHeightWidth=function(){var e=this.height,t=this.width,o=this.getNextBlock();return o?(o=o.getHeightWidth(),e+=o.height-4,t=Math.max(t,o.width)):this.nextConnection||this.outputConnection||(e+=2),{height:e,width:t}},Blockly.BlockSvg.prototype.getBoundingRectangle=function(){var e,t=this.getRelativeToSurfaceXY(this),o=this.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,n=this.getHeightWidth();return this.RTL?(e=new goog.math.Coordinate(t.x-(n.width-o),t.y),t=new goog.math.Coordinate(t.x+o,t.y+n.height)):(e=new goog.math.Coordinate(t.x-o,t.y),t=new goog.math.Coordinate(t.x+n.width-o,t.y+n.height)),{topLeft:e,bottomRight:t}},Blockly.BlockSvg.prototype.setCollapsed=function(e){if(this.collapsed_!=e){for(var t,o=[],n=0;t=this.inputList[n];n++)o.push.apply(o,t.setVisible(!e));if(e){for(t=this.getIcons(),n=0;n<t.length;n++)t[n].setVisible(!1);n=this.toString(Blockly.COLLAPSE_CHARS),this.appendDummyInput("_TEMP_COLLAPSED_INPUT").appendField(n).init()}else this.removeInput("_TEMP_COLLAPSED_INPUT"),this.setWarningText(null);if(Blockly.BlockSvg.superClass_.setCollapsed.call(this,e),o.length||(o[0]=this),this.rendered)for(n=0;e=o[n];n++)e.render()}},Blockly.BlockSvg.prototype.tab=function(e,t){for(var o,n=[],r=0;o=this.inputList[r];r++){for(var i,s=0;i=o.fieldRow[s];s++)i instanceof Blockly.FieldTextInput&&n.push(i);o.connection&&(o=o.connection.targetBlock())&&n.push(o)}r=n.indexOf(e),-1==r&&(r=t?-1:n.length),(n=n[t?r+1:r-1])?n instanceof Blockly.Field?n.showEditor_():n.tab(null,t):(n=this.getParent())&&n.tab(this,t)},Blockly.BlockSvg.prototype.onMouseDown_=function(e){if(!this.workspace.options.readOnly){if(!this.isInFlyout)if(Blockly.setPageSelectable(!1),this.workspace.markFocused(),Blockly.svgResize(this.workspace),Blockly.terminateDrag_(),this.select(),Blockly.hideChaff(),this.workspace.recordDeleteAreas(),Blockly.isRightButton(e))this.showContextMenu_(e);else{if(!this.isMovable())return;Blockly.Events.getGroup()||Blockly.Events.setGroup(!0),Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),this.dragStartXY_=this.getRelativeToSurfaceXY(),this.workspace.startDrag(e,this.dragStartXY_),Blockly.dragMode_=Blockly.DRAG_STICKY,Blockly.BlockSvg.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,this.onMouseUp_),Blockly.BlockSvg.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.onMouseMove_),this.draggedBubbles_=[];for(var t,o=this.getDescendants(),n=0;t=o[n];n++){t=t.getIcons();for(var r=0;r<t.length;r++){var i=t[r].getIconLocation();i.bubble=t[r],this.draggedBubbles_.push(i)}}}e.stopPropagation()}},Blockly.BlockSvg.prototype.onMouseUp_=function(e){Blockly.dragMode_==Blockly.DRAG_FREE||Blockly.WidgetDiv.isVisible()||Blockly.Events.fire(new Blockly.Events.Ui(this,"click",void 0,void 0)),Blockly.setPageSelectable(!0),Blockly.terminateDrag_(),Blockly.selected&&Blockly.highlightedConnection_?(Blockly.localConnection_.connect(Blockly.highlightedConnection_),this.rendered&&(Blockly.localConnection_.isSuperior()?Blockly.highlightedConnection_:Blockly.localConnection_).getSourceBlock().connectionUiEffect(),this.workspace.trashcan&&this.workspace.trashcan.close()):!this.getParent()&&Blockly.selected.isDeletable()&&this.workspace.isDeleteArea(e)&&((e=this.workspace.trashcan)&&goog.Timer.callOnce(e.close,100,e),Blockly.selected.dispose(!1,!0),Blockly.fireUiEvent(window,"resize")),Blockly.highlightedConnection_&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null),Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN),Blockly.WidgetDiv.isVisible()||Blockly.Events.setGroup(!1)},Blockly.BlockSvg.prototype.showHelp_=function(){var e=goog.isFunction(this.helpUrl)?this.helpUrl():this.helpUrl;e&&window.open(e)},Blockly.BlockSvg.prototype.showContextMenu_=function(e){if(!this.workspace.options.readOnly&&this.contextMenu){var t=this,o=[];if(this.isDeletable()&&this.isMovable()&&!t.isInFlyout){var n={text:Blockly.Msg.DUPLICATE_BLOCK,enabled:!0,callback:function(){Blockly.duplicate_(t)}};if(this.getDescendants().length>this.workspace.remainingCapacity()&&(n.enabled=!1),o.push(n),this.isEditable()&&!this.collapsed_&&this.workspace.options.comments&&(n={enabled:!goog.userAgent.IE},this.comment?(n.text=Blockly.Msg.REMOVE_COMMENT,n.callback=function(){t.setCommentText(null)}):(n.text=Blockly.Msg.ADD_COMMENT,n.callback=function(){t.setCommentText("")}),o.push(n)),!this.collapsed_)for(n=1;n<this.inputList.length;n++)if(this.inputList[n-1].type!=Blockly.NEXT_STATEMENT&&this.inputList[n].type!=Blockly.NEXT_STATEMENT){var n={enabled:!0},r=this.getInputsInline();n.text=r?Blockly.Msg.EXTERNAL_INPUTS:Blockly.Msg.INLINE_INPUTS,n.callback=function(){t.setInputsInline(!r)},o.push(n);break}this.workspace.options.collapse&&(this.collapsed_?(n={enabled:!0},n.text=Blockly.Msg.EXPAND_BLOCK,n.callback=function(){t.setCollapsed(!1)}):(n={enabled:!0},n.text=Blockly.Msg.COLLAPSE_BLOCK,n.callback=function(){t.setCollapsed(!0)}),o.push(n)),this.workspace.options.disable&&(n={text:this.disabled?Blockly.Msg.ENABLE_BLOCK:Blockly.Msg.DISABLE_BLOCK,enabled:!this.getInheritedDisabled(),callback:function(){t.setDisabled(!t.disabled)}},o.push(n));var n=this.getDescendants().length,i=this.getNextBlock();i&&(n-=i.getDescendants().length),n={text:1==n?Blockly.Msg.DELETE_BLOCK:Blockly.Msg.DELETE_X_BLOCKS.replace("%1",String(n)),enabled:!0,callback:function(){Blockly.Events.setGroup(!0),t.dispose(!0,!0),Blockly.Events.setGroup(!1)}},o.push(n)}n={enabled:!(goog.isFunction(this.helpUrl)?!this.helpUrl():!this.helpUrl)},n.text=Blockly.Msg.HELP,n.callback=function(){t.showHelp_()},o.push(n),this.customContextMenu&&!t.isInFlyout&&this.customContextMenu(o),Blockly.ContextMenu.show(e,o,this.RTL),Blockly.ContextMenu.currentBlock=this}},Blockly.BlockSvg.prototype.moveConnections_=function(e,t){if(this.rendered){for(var o=this.getConnections_(!1),n=0;n<o.length;n++)o[n].moveBy(e,t);for(o=this.getIcons(),n=0;n<o.length;n++)o[n].computeIconLocation();for(n=0;n<this.childBlocks_.length;n++)this.childBlocks_[n].moveConnections_(e,t)}},Blockly.BlockSvg.prototype.setDragging_=function(e){if(e){var t=this.getSvgRoot();t.translate_="",t.skew_="",this.addDragging()}else this.removeDragging();for(t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging_(e)},Blockly.BlockSvg.prototype.onMouseMove_=function(e){if(!("mousemove"==e.type&&1>=e.clientX&&0==e.clientY&&0==e.button)){var t=this.getRelativeToSurfaceXY(),o=this.workspace.moveDrag(e);if(Blockly.dragMode_==Blockly.DRAG_STICKY&&goog.math.Coordinate.distance(t,o)*this.workspace.scale>Blockly.DRAG_RADIUS){if(Blockly.dragMode_=Blockly.DRAG_FREE,Blockly.longStop_(),this.parentBlock_){this.unplug();var n=this.getSvgRoot();n.translate_="translate("+o.x+","+o.y+")",this.disconnectUiEffect()}this.setDragging_(!0)}if(Blockly.dragMode_==Blockly.DRAG_FREE){for(t=goog.math.Coordinate.difference(t,this.dragStartXY_),n=this.getSvgRoot(),n.translate_="translate("+o.x+","+o.y+")",n.setAttribute("transform",n.translate_+n.skew_),o=0;o<this.draggedBubbles_.length;o++)n=this.draggedBubbles_[o],n.bubble.setIconLocation(goog.math.Coordinate.sum(n,t));for(var n=this.getConnections_(!1),r=null,i=null,s=Blockly.SNAP_RADIUS,o=0;o<n.length;o++){var a=n[o],l=a.closest(s,t);l.connection&&(r=l.connection,i=a,s=l.radius)}Blockly.highlightedConnection_&&Blockly.highlightedConnection_!=r&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null,Blockly.localConnection_=null),r&&r!=Blockly.highlightedConnection_&&(r.highlight(),Blockly.highlightedConnection_=r,Blockly.localConnection_=i),this.isDeletable()&&this.workspace.isDeleteArea(e)}}e.stopPropagation()},Blockly.BlockSvg.prototype.updateMovable=function(){this.isMovable()?Blockly.addClass_(this.svgGroup_,"blocklyDraggable"):Blockly.removeClass_(this.svgGroup_,"blocklyDraggable")},Blockly.BlockSvg.prototype.setMovable=function(e){Blockly.BlockSvg.superClass_.setMovable.call(this,e),this.updateMovable()},Blockly.BlockSvg.prototype.setEditable=function(e){if(Blockly.BlockSvg.superClass_.setEditable.call(this,e),this.rendered){e=this.getIcons();for(var t=0;t<e.length;t++)e[t].updateEditable()}},Blockly.BlockSvg.prototype.setShadow=function(e){Blockly.BlockSvg.superClass_.setShadow.call(this,e),this.updateColour()},Blockly.BlockSvg.prototype.getSvgRoot=function(){return this.svgGroup_},Blockly.BlockSvg.prototype.dispose=function(e,t){Blockly.Field.startCache(),Blockly.selected==this&&(this.unselect(),Blockly.terminateDrag_()),Blockly.ContextMenu.currentBlock==this&&Blockly.ContextMenu.hide(),t&&this.rendered&&(this.unplug(e),this.disposeUiEffect()),this.rendered=!1,Blockly.Events.disable();for(var o=this.getIcons(),n=0;n<o.length;n++)o[n].dispose();Blockly.Events.enable(),Blockly.BlockSvg.superClass_.dispose.call(this,e),goog.dom.removeNode(this.svgGroup_),this.svgPathDark_=this.svgPathLight_=this.svgPath_=this.svgGroup_=null,Blockly.Field.stopCache()},Blockly.BlockSvg.prototype.disposeUiEffect=function(){this.workspace.playAudio("delete");var e=Blockly.getSvgXY_(this.svgGroup_,this.workspace),t=this.svgGroup_.cloneNode(!0);t.translateX_=e.x,t.translateY_=e.y,t.setAttribute("transform","translate("+t.translateX_+","+t.translateY_+")"),this.workspace.getParentSvg().appendChild(t),t.bBox_=t.getBBox(),Blockly.BlockSvg.disposeUiStep_(t,this.RTL,new Date,this.workspace.scale)},Blockly.BlockSvg.disposeUiStep_=function(e,t,o,n){var r=(new Date-o)/150;r>1?goog.dom.removeNode(e):(e.setAttribute("transform","translate("+(e.translateX_+(t?-1:1)*e.bBox_.width*n/2*r)+","+(e.translateY_+e.bBox_.height*n*r)+") scale("+(1-r)*n+")"),setTimeout(function(){Blockly.BlockSvg.disposeUiStep_(e,t,o,n)},10))},Blockly.BlockSvg.prototype.connectionUiEffect=function(){if(this.workspace.playAudio("click"),!(1>this.workspace.scale)){var e=Blockly.getSvgXY_(this.svgGroup_,this.workspace);this.outputConnection?(e.x+=(this.RTL?3:-3)*this.workspace.scale,e.y+=13*this.workspace.scale):this.previousConnection&&(e.x+=(this.RTL?-23:23)*this.workspace.scale,e.y+=3*this.workspace.scale),e=Blockly.createSvgElement("circle",{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},this.workspace.getParentSvg()),Blockly.BlockSvg.connectionUiStep_(e,new Date,this.workspace.scale)}},Blockly.BlockSvg.connectionUiStep_=function(e,t,o){var n=(new Date-t)/150;n>1?goog.dom.removeNode(e):(e.setAttribute("r",25*n*o),e.style.opacity=1-n,Blockly.BlockSvg.disconnectUiStop_.pid_=setTimeout(function(){Blockly.BlockSvg.connectionUiStep_(e,t,o)},10))},Blockly.BlockSvg.prototype.disconnectUiEffect=function(){if(this.workspace.playAudio("disconnect"),!(1>this.workspace.scale)){var e=this.getHeightWidth().height,e=Math.atan(10/e)/Math.PI*180;this.RTL||(e*=-1),Blockly.BlockSvg.disconnectUiStep_(this.svgGroup_,e,new Date)}},Blockly.BlockSvg.disconnectUiStep_=function(e,t,o){var n=(new Date-o)/200;n>1?e.skew_="":(e.skew_="skewX("+Math.round(Math.sin(n*Math.PI*3)*(1-n)*t)+")",Blockly.BlockSvg.disconnectUiStop_.group=e,Blockly.BlockSvg.disconnectUiStop_.pid=setTimeout(function(){Blockly.BlockSvg.disconnectUiStep_(e,t,o)},10)),e.setAttribute("transform",e.translate_+e.skew_)},Blockly.BlockSvg.disconnectUiStop_=function(){if(Blockly.BlockSvg.disconnectUiStop_.group){clearTimeout(Blockly.BlockSvg.disconnectUiStop_.pid);var e=Blockly.BlockSvg.disconnectUiStop_.group;e.skew_="",e.setAttribute("transform",e.translate_),Blockly.BlockSvg.disconnectUiStop_.group=null}},Blockly.BlockSvg.disconnectUiStop_.pid=0,Blockly.BlockSvg.disconnectUiStop_.group=null,Blockly.BlockSvg.prototype.updateColour=function(){if(!this.disabled){var e=this.getColour(),t=goog.color.hexToRgb(e);if(this.isShadow())t=goog.color.lighten(t,.6),e=goog.color.rgbArrayToHex(t),this.svgPathLight_.style.display="none",this.svgPathDark_.setAttribute("fill",e);else{this.svgPathLight_.style.display="";var o=goog.color.rgbArrayToHex(goog.color.lighten(t,.3)),t=goog.color.rgbArrayToHex(goog.color.darken(t,.2));this.svgPathLight_.setAttribute("stroke",o),this.svgPathDark_.setAttribute("fill",t)}for(this.svgPath_.setAttribute("fill",e),e=this.getIcons(),o=0;o<e.length;o++)e[o].updateColour();for(e=0;o=this.inputList[e];e++)for(var n,t=0;n=o.fieldRow[t];t++)n.setText(null);
}},Blockly.BlockSvg.prototype.updateDisabled=function(){var e=Blockly.hasClass_(this.svgGroup_,"blocklyDisabled");this.disabled||this.getInheritedDisabled()?e||(Blockly.addClass_(this.svgGroup_,"blocklyDisabled"),this.svgPath_.setAttribute("fill","url(#"+this.workspace.options.disabledPatternId+")")):e&&(Blockly.removeClass_(this.svgGroup_,"blocklyDisabled"),this.updateColour());for(var t,e=this.getChildren(),o=0;t=e[o];o++)t.updateDisabled()},Blockly.BlockSvg.prototype.getCommentText=function(){return this.comment?this.comment.getText().replace(/\s+$/,"").replace(/ +\n/g,"\n"):""},Blockly.BlockSvg.prototype.setCommentText=function(e){var t=!1;goog.isString(e)?(this.comment||(this.comment=new Blockly.Comment(this),t=!0),this.comment.setText(e)):this.comment&&(this.comment.dispose(),t=!0),t&&this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setWarningText=function(e,t){this.setWarningText.pid_||(this.setWarningText.pid_=Object.create(null));var o=t||"";if(o)this.setWarningText.pid_[o]&&(clearTimeout(this.setWarningText.pid_[o]),delete this.setWarningText.pid_[o]);else for(var n in this.setWarningText.pid_)clearTimeout(this.setWarningText.pid_[n]),delete this.setWarningText.pid_[n];if(Blockly.dragMode_==Blockly.DRAG_FREE){var r=this;this.setWarningText.pid_[o]=setTimeout(function(){r.workspace&&(delete r.setWarningText.pid_[o],r.setWarningText(e,o))},100)}else{this.isInFlyout&&(e=null),n=this.getSurroundParent();for(var i=null;n;)n.isCollapsed()&&(i=n),n=n.getSurroundParent();i&&i.setWarningText(e,"collapsed "+this.id+" "+o),n=!1,goog.isString(e)?(this.warning||(this.warning=new Blockly.Warning(this),n=!0),this.warning.setText(e,o)):this.warning&&!o?(this.warning.dispose(),n=!0):this.warning&&(n=this.warning.getText(),this.warning.setText("",o),(i=this.warning.getText())||this.warning.dispose(),n=n==i),n&&this.rendered&&(this.render(),this.bumpNeighbours_())}},Blockly.BlockSvg.prototype.setMutator=function(e){this.mutator&&this.mutator!==e&&this.mutator.dispose(),e&&(e.block_=this,this.mutator=e,e.createIcon())},Blockly.BlockSvg.prototype.setDisabled=function(e){this.disabled!=e&&(Blockly.BlockSvg.superClass_.setDisabled.call(this,e),this.rendered&&this.updateDisabled())},Blockly.BlockSvg.prototype.addSelect=function(){Blockly.addClass_(this.svgGroup_,"blocklySelected"),this.svgGroup_.parentNode.appendChild(this.svgGroup_)},Blockly.BlockSvg.prototype.removeSelect=function(){Blockly.removeClass_(this.svgGroup_,"blocklySelected")},Blockly.BlockSvg.prototype.addDragging=function(){Blockly.addClass_(this.svgGroup_,"blocklyDragging")},Blockly.BlockSvg.prototype.removeDragging=function(){Blockly.removeClass_(this.svgGroup_,"blocklyDragging")},Blockly.BlockSvg.prototype.setColour=function(e){Blockly.BlockSvg.superClass_.setColour.call(this,e),this.rendered&&this.updateColour()},Blockly.BlockSvg.prototype.setPreviousStatement=function(e,t){Blockly.BlockSvg.superClass_.setPreviousStatement.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setNextStatement=function(e,t){Blockly.BlockSvg.superClass_.setNextStatement.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setOutput=function(e,t){Blockly.BlockSvg.superClass_.setOutput.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.setInputsInline=function(e){Blockly.BlockSvg.superClass_.setInputsInline.call(this,e),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.removeInput=function(e,t){Blockly.BlockSvg.superClass_.removeInput.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.moveNumberedInputBefore=function(e,t){Blockly.BlockSvg.superClass_.moveNumberedInputBefore.call(this,e,t),this.rendered&&(this.render(),this.bumpNeighbours_())},Blockly.BlockSvg.prototype.appendInput_=function(e,t){var o=Blockly.BlockSvg.superClass_.appendInput_.call(this,e,t);return this.rendered&&(this.render(),this.bumpNeighbours_()),o},Blockly.BlockSvg.prototype.getConnections_=function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_)){e=0;for(var o;o=this.inputList[e];e++)o.connection&&t.push(o.connection)}return t},Blockly.BlockSvg.render={},Blockly.BlockSvg.SEP_SPACE_X=10,Blockly.BlockSvg.SEP_SPACE_Y=10,Blockly.BlockSvg.INLINE_PADDING_Y=5,Blockly.BlockSvg.MIN_BLOCK_Y=25,Blockly.BlockSvg.TAB_HEIGHT=20,Blockly.BlockSvg.TAB_WIDTH=8,Blockly.BlockSvg.NOTCH_WIDTH=30,Blockly.BlockSvg.CORNER_RADIUS=8,Blockly.BlockSvg.START_HAT=!1,Blockly.BlockSvg.START_HAT_HEIGHT=15,Blockly.BlockSvg.START_HAT_PATH="c 30,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 70,-"+Blockly.BlockSvg.START_HAT_HEIGHT+" 100,0",Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR="c 17.8,-9.2 45.3,-14.9 75,-8.7 M 100.5,0.5",Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL="m 25,-8.7 c 29.7,-6.2 57.2,-0.5 75,8.7",Blockly.BlockSvg.DISTANCE_45_INSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS-.5)+.5,Blockly.BlockSvg.DISTANCE_45_OUTSIDE=(1-Math.SQRT1_2)*(Blockly.BlockSvg.CORNER_RADIUS+.5)-.5,Blockly.BlockSvg.NOTCH_PATH_LEFT="l 6,4 3,0 6,-4",Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT="l 6,4 3,0 6,-4",Blockly.BlockSvg.NOTCH_PATH_RIGHT="l -6,4 -3,0 -6,-4",Blockly.BlockSvg.JAGGED_TEETH="l 8,0 0,4 8,4 -16,8 8,4",Blockly.BlockSvg.JAGGED_TEETH_HEIGHT=20,Blockly.BlockSvg.JAGGED_TEETH_WIDTH=15,Blockly.BlockSvg.TAB_PATH_DOWN="v 5 c 0,10 -"+Blockly.BlockSvg.TAB_WIDTH+",-8 -"+Blockly.BlockSvg.TAB_WIDTH+",7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",-2.5 "+Blockly.BlockSvg.TAB_WIDTH+",7.5",Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL="v 6.5 m -"+.97*Blockly.BlockSvg.TAB_WIDTH+",3 q -"+.05*Blockly.BlockSvg.TAB_WIDTH+",10 "+.3*Blockly.BlockSvg.TAB_WIDTH+",9.5 m "+.67*Blockly.BlockSvg.TAB_WIDTH+",-1.9 v 1.4",Blockly.BlockSvg.TOP_LEFT_CORNER_START="m 0,"+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL="m "+Blockly.BlockSvg.DISTANCE_45_INSIDE+","+Blockly.BlockSvg.DISTANCE_45_INSIDE,Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR="m 0.5,"+(Blockly.BlockSvg.CORNER_RADIUS-.5),Blockly.BlockSvg.TOP_LEFT_CORNER="A "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0",Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT="A "+(Blockly.BlockSvg.CORNER_RADIUS-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 "+Blockly.BlockSvg.CORNER_RADIUS+",0.5",Blockly.BlockSvg.INNER_TOP_LEFT_CORNER=Blockly.BlockSvg.NOTCH_PATH_RIGHT+" h -"+(Blockly.BlockSvg.NOTCH_WIDTH-15-Blockly.BlockSvg.CORNER_RADIUS)+" a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 -"+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS,Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL="a "+Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,0 "+(-Blockly.BlockSvg.DISTANCE_45_OUTSIDE-.5)+","+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE),Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5),Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR="a "+(Blockly.BlockSvg.CORNER_RADIUS+.5)+","+(Blockly.BlockSvg.CORNER_RADIUS+.5)+" 0 0,0 "+(Blockly.BlockSvg.CORNER_RADIUS-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)+","+(Blockly.BlockSvg.DISTANCE_45_OUTSIDE+.5),Blockly.BlockSvg.prototype.render=function(e){Blockly.Field.startCache(),this.rendered=!0;var t=Blockly.BlockSvg.SEP_SPACE_X;this.RTL&&(t=-t);for(var o=this.getIcons(),n=0;n<o.length;n++)t=o[n].renderIcon(t);t+=this.RTL?Blockly.BlockSvg.SEP_SPACE_X:-Blockly.BlockSvg.SEP_SPACE_X,o=this.renderCompute_(t),this.renderDraw_(t,o),!1!==e&&((e=this.getParent())?e.render(!0):Blockly.fireUiEvent(window,"resize")),Blockly.Field.stopCache()},Blockly.BlockSvg.prototype.renderFields_=function(e,t,o){o+=Blockly.BlockSvg.INLINE_PADDING_Y,this.RTL&&(t=-t);for(var n,r=0;n=e[r];r++){var i=n.getSvgRoot();i&&(this.RTL?(t-=n.renderSep+n.renderWidth,i.setAttribute("transform","translate("+t+","+o+")"),n.renderWidth&&(t-=Blockly.BlockSvg.SEP_SPACE_X)):(i.setAttribute("transform","translate("+(t+n.renderSep)+","+o+")"),n.renderWidth&&(t+=n.renderSep+n.renderWidth+Blockly.BlockSvg.SEP_SPACE_X)))}return this.RTL?-t:t},Blockly.BlockSvg.prototype.renderCompute_=function(e){var t=this.inputList,o=[];o.rightEdge=e+2*Blockly.BlockSvg.SEP_SPACE_X,(this.previousConnection||this.nextConnection)&&(o.rightEdge=Math.max(o.rightEdge,Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.SEP_SPACE_X));for(var n,r=0,i=0,s=!1,a=!1,l=!1,g=void 0,c=this.getInputsInline()&&!this.isCollapsed(),u=0;n=t[u];u++)if(n.isVisible()){var h;if(c&&g&&g!=Blockly.NEXT_STATEMENT&&n.type!=Blockly.NEXT_STATEMENT?h=o[o.length-1]:(g=n.type,h=[],h.type=c&&n.type!=Blockly.NEXT_STATEMENT?Blockly.BlockSvg.INLINE:n.type,h.height=0,o.push(h)),h.push(n),n.renderHeight=Blockly.BlockSvg.MIN_BLOCK_Y,n.renderWidth=c&&n.type==Blockly.INPUT_VALUE?Blockly.BlockSvg.TAB_WIDTH+1.25*Blockly.BlockSvg.SEP_SPACE_X:0,n.connection&&n.connection.isConnected()){var d=n.connection.targetBlock().getHeightWidth();n.renderHeight=Math.max(n.renderHeight,d.height),n.renderWidth=Math.max(n.renderWidth,d.width)}c||u!=t.length-1?!c&&n.type==Blockly.INPUT_VALUE&&t[u+1]&&t[u+1].type==Blockly.NEXT_STATEMENT&&n.renderHeight--:n.renderHeight--,h.height=Math.max(h.height,n.renderHeight),n.fieldWidth=0,1==o.length&&(n.fieldWidth+=this.RTL?-e:e);for(var p,d=!1,f=0;p=n.fieldRow[f];f++){0!=f&&(n.fieldWidth+=Blockly.BlockSvg.SEP_SPACE_X);var y=p.getSize();p.renderWidth=y.width,p.renderSep=d&&p.EDITABLE?Blockly.BlockSvg.SEP_SPACE_X:0,n.fieldWidth+=p.renderWidth+p.renderSep,h.height=Math.max(h.height,y.height),d=p.EDITABLE}h.type!=Blockly.BlockSvg.INLINE&&(h.type==Blockly.NEXT_STATEMENT?(a=!0,i=Math.max(i,n.fieldWidth)):(h.type==Blockly.INPUT_VALUE?s=!0:h.type==Blockly.DUMMY_INPUT&&(l=!0),r=Math.max(r,n.fieldWidth)))}for(e=0;h=o[e];e++)if(h.thicker=!1,h.type==Blockly.BlockSvg.INLINE)for(t=0;n=h[t];t++)if(n.type==Blockly.INPUT_VALUE){h.height+=2*Blockly.BlockSvg.INLINE_PADDING_Y,h.thicker=!0;break}return o.statementEdge=2*Blockly.BlockSvg.SEP_SPACE_X+i,a&&(o.rightEdge=Math.max(o.rightEdge,o.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH)),s?o.rightEdge=Math.max(o.rightEdge,r+2*Blockly.BlockSvg.SEP_SPACE_X+Blockly.BlockSvg.TAB_WIDTH):l&&(o.rightEdge=Math.max(o.rightEdge,r+2*Blockly.BlockSvg.SEP_SPACE_X)),o.hasValue=s,o.hasStatement=a,o.hasDummy=l,o},Blockly.BlockSvg.prototype.renderDraw_=function(e,t){if(this.startHat_=!1,this.height=0,this.outputConnection)this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!0;else{if(this.squareBottomLeftCorner_=this.squareTopLeftCorner_=!1,this.previousConnection){var o=this.previousConnection.targetBlock();o&&o.getNextBlock()==this&&(this.squareTopLeftCorner_=!0)}else Blockly.BlockSvg.START_HAT&&(this.startHat_=this.squareTopLeftCorner_=!0,this.height+=Blockly.BlockSvg.START_HAT_HEIGHT,t.rightEdge=Math.max(t.rightEdge,100));this.getNextBlock()&&(this.squareBottomLeftCorner_=!0)}var n=this.getRelativeToSurfaceXY(),r=[],i=[],o=[],s=[];this.renderDrawTop_(r,o,n,t.rightEdge);var a=this.renderDrawRight_(r,o,i,s,n,t,e);this.renderDrawBottom_(r,o,n,a),this.renderDrawLeft_(r,o,n,a),n=r.join(" ")+"\n"+i.join(" "),this.svgPath_.setAttribute("d",n),this.svgPathDark_.setAttribute("d",n),n=o.join(" ")+"\n"+s.join(" "),this.svgPathLight_.setAttribute("d",n),this.RTL&&(this.svgPath_.setAttribute("transform","scale(-1 1)"),this.svgPathLight_.setAttribute("transform","scale(-1 1)"),this.svgPathDark_.setAttribute("transform","translate(1,1) scale(-1 1)"))},Blockly.BlockSvg.prototype.renderDrawTop_=function(e,t,o,n){this.squareTopLeftCorner_?(e.push("m 0,0"),t.push("m 0.5,0.5"),this.startHat_&&(e.push(Blockly.BlockSvg.START_HAT_PATH),t.push(this.RTL?Blockly.BlockSvg.START_HAT_HIGHLIGHT_RTL:Blockly.BlockSvg.START_HAT_HIGHLIGHT_LTR))):(e.push(Blockly.BlockSvg.TOP_LEFT_CORNER_START),t.push(this.RTL?Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_RTL:Blockly.BlockSvg.TOP_LEFT_CORNER_START_HIGHLIGHT_LTR),e.push(Blockly.BlockSvg.TOP_LEFT_CORNER),t.push(Blockly.BlockSvg.TOP_LEFT_CORNER_HIGHLIGHT)),this.previousConnection&&(e.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),t.push("H",Blockly.BlockSvg.NOTCH_WIDTH-15),e.push(Blockly.BlockSvg.NOTCH_PATH_LEFT),t.push(Blockly.BlockSvg.NOTCH_PATH_LEFT_HIGHLIGHT),this.previousConnection.moveTo(o.x+(this.RTL?-Blockly.BlockSvg.NOTCH_WIDTH:Blockly.BlockSvg.NOTCH_WIDTH),o.y)),e.push("H",n),t.push("H",n-.5),this.width=n},Blockly.BlockSvg.prototype.renderDrawRight_=function(e,t,o,n,r,i,s){for(var a,l,g,c,u=0,h=0;c=i[h];h++){if(a=Blockly.BlockSvg.SEP_SPACE_X,0==h&&(a+=this.RTL?-s:s),t.push("M",i.rightEdge-.5+","+(u+.5)),this.isCollapsed()){var d=c[0];l=u,this.renderFields_(d.fieldRow,a,l),e.push(Blockly.BlockSvg.JAGGED_TEETH),t.push("h 8"),d=c.height-Blockly.BlockSvg.JAGGED_TEETH_HEIGHT,e.push("v",d),this.RTL&&(t.push("v 3.9 l 7.2,3.4 m -14.5,8.9 l 7.3,3.5"),t.push("v",d-.7)),this.width+=Blockly.BlockSvg.JAGGED_TEETH_WIDTH}else if(c.type==Blockly.BlockSvg.INLINE){for(var p=0;d=c[p];p++)l=u,c.thicker&&(l+=Blockly.BlockSvg.INLINE_PADDING_Y),a=this.renderFields_(d.fieldRow,a,l),d.type!=Blockly.DUMMY_INPUT&&(a+=d.renderWidth+Blockly.BlockSvg.SEP_SPACE_X),d.type==Blockly.INPUT_VALUE&&(o.push("M",a-Blockly.BlockSvg.SEP_SPACE_X+","+(u+Blockly.BlockSvg.INLINE_PADDING_Y)),o.push("h",Blockly.BlockSvg.TAB_WIDTH-2-d.renderWidth),o.push(Blockly.BlockSvg.TAB_PATH_DOWN),o.push("v",d.renderHeight+1-Blockly.BlockSvg.TAB_HEIGHT),o.push("h",d.renderWidth+2-Blockly.BlockSvg.TAB_WIDTH),o.push("z"),this.RTL?(n.push("M",a-Blockly.BlockSvg.SEP_SPACE_X-2.5+Blockly.BlockSvg.TAB_WIDTH-d.renderWidth+","+(u+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),n.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),n.push("v",d.renderHeight-Blockly.BlockSvg.TAB_HEIGHT+2.5),n.push("h",d.renderWidth-Blockly.BlockSvg.TAB_WIDTH+2)):(n.push("M",a-Blockly.BlockSvg.SEP_SPACE_X+.5+","+(u+Blockly.BlockSvg.INLINE_PADDING_Y+.5)),n.push("v",d.renderHeight+1),n.push("h",Blockly.BlockSvg.TAB_WIDTH-2-d.renderWidth),n.push("M",a-d.renderWidth-Blockly.BlockSvg.SEP_SPACE_X+.9+","+(u+Blockly.BlockSvg.INLINE_PADDING_Y+Blockly.BlockSvg.TAB_HEIGHT-.7)),n.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1")),l=this.RTL?r.x-a-Blockly.BlockSvg.TAB_WIDTH+Blockly.BlockSvg.SEP_SPACE_X+d.renderWidth+1:r.x+a+Blockly.BlockSvg.TAB_WIDTH-Blockly.BlockSvg.SEP_SPACE_X-d.renderWidth-1,g=r.y+u+Blockly.BlockSvg.INLINE_PADDING_Y+1,d.connection.moveTo(l,g),d.connection.isConnected()&&d.connection.tighten_());a=Math.max(a,i.rightEdge),this.width=Math.max(this.width,a),e.push("H",a),t.push("H",a-.5),e.push("v",c.height),this.RTL&&t.push("v",c.height-1)}else c.type==Blockly.INPUT_VALUE?(d=c[0],l=u,d.align!=Blockly.ALIGN_LEFT&&(p=i.rightEdge-d.fieldWidth-Blockly.BlockSvg.TAB_WIDTH-2*Blockly.BlockSvg.SEP_SPACE_X,d.align==Blockly.ALIGN_RIGHT?a+=p:d.align==Blockly.ALIGN_CENTRE&&(a+=p/2)),this.renderFields_(d.fieldRow,a,l),e.push(Blockly.BlockSvg.TAB_PATH_DOWN),p=c.height-Blockly.BlockSvg.TAB_HEIGHT,e.push("v",p),this.RTL?(t.push(Blockly.BlockSvg.TAB_PATH_DOWN_HIGHLIGHT_RTL),t.push("v",p+.5)):(t.push("M",i.rightEdge-5+","+(u+Blockly.BlockSvg.TAB_HEIGHT-.7)),t.push("l",.46*Blockly.BlockSvg.TAB_WIDTH+",-2.1")),l=r.x+(this.RTL?-i.rightEdge-1:i.rightEdge+1),g=r.y+u,d.connection.moveTo(l,g),d.connection.isConnected()&&(d.connection.tighten_(),this.width=Math.max(this.width,i.rightEdge+d.connection.targetBlock().getHeightWidth().width-Blockly.BlockSvg.TAB_WIDTH+1))):c.type==Blockly.DUMMY_INPUT?(d=c[0],l=u,d.align!=Blockly.ALIGN_LEFT&&(p=i.rightEdge-d.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,i.hasValue&&(p-=Blockly.BlockSvg.TAB_WIDTH),d.align==Blockly.ALIGN_RIGHT?a+=p:d.align==Blockly.ALIGN_CENTRE&&(a+=p/2)),this.renderFields_(d.fieldRow,a,l),e.push("v",c.height),this.RTL&&t.push("v",c.height-1)):c.type==Blockly.NEXT_STATEMENT&&(d=c[0],0==h&&(e.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&t.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),u+=Blockly.BlockSvg.SEP_SPACE_Y),l=u,d.align!=Blockly.ALIGN_LEFT&&(p=i.statementEdge-d.fieldWidth-2*Blockly.BlockSvg.SEP_SPACE_X,d.align==Blockly.ALIGN_RIGHT?a+=p:d.align==Blockly.ALIGN_CENTRE&&(a+=p/2)),this.renderFields_(d.fieldRow,a,l),a=i.statementEdge+Blockly.BlockSvg.NOTCH_WIDTH,e.push("H",a),e.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER),e.push("v",c.height-2*Blockly.BlockSvg.CORNER_RADIUS),e.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER),e.push("H",i.rightEdge),this.RTL?(t.push("M",a-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(u+Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),t.push(Blockly.BlockSvg.INNER_TOP_LEFT_CORNER_HIGHLIGHT_RTL),t.push("v",c.height-2*Blockly.BlockSvg.CORNER_RADIUS),t.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_RTL)):(t.push("M",a-Blockly.BlockSvg.NOTCH_WIDTH+Blockly.BlockSvg.DISTANCE_45_OUTSIDE+","+(u+c.height-Blockly.BlockSvg.DISTANCE_45_OUTSIDE)),t.push(Blockly.BlockSvg.INNER_BOTTOM_LEFT_CORNER_HIGHLIGHT_LTR)),t.push("H",i.rightEdge-.5),l=r.x+(this.RTL?-a:a+1),g=r.y+u+1,d.connection.moveTo(l,g),d.connection.isConnected()&&(d.connection.tighten_(),this.width=Math.max(this.width,i.statementEdge+d.connection.targetBlock().getHeightWidth().width)),h==i.length-1||i[h+1].type==Blockly.NEXT_STATEMENT)&&(e.push("v",Blockly.BlockSvg.SEP_SPACE_Y),this.RTL&&t.push("v",Blockly.BlockSvg.SEP_SPACE_Y-1),u+=Blockly.BlockSvg.SEP_SPACE_Y);u+=c.height}return i.length||(u=Blockly.BlockSvg.MIN_BLOCK_Y,e.push("V",u),this.RTL&&t.push("V",u-1)),u},Blockly.BlockSvg.prototype.renderDrawBottom_=function(e,t,o,n){this.height+=n+1,this.nextConnection&&(e.push("H",Blockly.BlockSvg.NOTCH_WIDTH+(this.RTL?.5:-.5)+" "+Blockly.BlockSvg.NOTCH_PATH_RIGHT),this.nextConnection.moveTo(this.RTL?o.x-Blockly.BlockSvg.NOTCH_WIDTH:o.x+Blockly.BlockSvg.NOTCH_WIDTH,o.y+n+1),this.nextConnection.isConnected()&&this.nextConnection.tighten_(),this.height+=4),this.squareBottomLeftCorner_?(e.push("H 0"),this.RTL||t.push("M","0.5,"+(n-.5))):(e.push("H",Blockly.BlockSvg.CORNER_RADIUS),e.push("a",Blockly.BlockSvg.CORNER_RADIUS+","+Blockly.BlockSvg.CORNER_RADIUS+" 0 0,1 -"+Blockly.BlockSvg.CORNER_RADIUS+",-"+Blockly.BlockSvg.CORNER_RADIUS),this.RTL||(t.push("M",Blockly.BlockSvg.DISTANCE_45_INSIDE+","+(n-Blockly.BlockSvg.DISTANCE_45_INSIDE)),t.push("A",Blockly.BlockSvg.CORNER_RADIUS-.5+","+(Blockly.BlockSvg.CORNER_RADIUS-.5)+" 0 0,1 0.5,"+(n-Blockly.BlockSvg.CORNER_RADIUS))))},Blockly.BlockSvg.prototype.renderDrawLeft_=function(e,t,o,n){this.outputConnection?(this.outputConnection.moveTo(o.x,o.y),e.push("V",Blockly.BlockSvg.TAB_HEIGHT),e.push("c 0,-10 -"+Blockly.BlockSvg.TAB_WIDTH+",8 -"+Blockly.BlockSvg.TAB_WIDTH+",-7.5 s "+Blockly.BlockSvg.TAB_WIDTH+",2.5 "+Blockly.BlockSvg.TAB_WIDTH+",-7.5"),this.RTL?(t.push("M",-.25*Blockly.BlockSvg.TAB_WIDTH+",8.4"),t.push("l",-.45*Blockly.BlockSvg.TAB_WIDTH+",-2.1")):(t.push("V",Blockly.BlockSvg.TAB_HEIGHT-1.5),t.push("m",-.92*Blockly.BlockSvg.TAB_WIDTH+",-0.5 q "+-.19*Blockly.BlockSvg.TAB_WIDTH+",-5.5 0,-11"),t.push("m",.92*Blockly.BlockSvg.TAB_WIDTH+",1 V 0.5 H 1")),this.width+=Blockly.BlockSvg.TAB_WIDTH):this.RTL||(this.squareTopLeftCorner_?t.push("V",.5):t.push("V",Blockly.BlockSvg.CORNER_RADIUS)),e.push("z")},Blockly.Events={},Blockly.Events.group_="",Blockly.Events.recordUndo=!0,Blockly.Events.disabled_=0,Blockly.Events.CREATE="create",Blockly.Events.DELETE="delete",Blockly.Events.CHANGE="change",Blockly.Events.MOVE="move",Blockly.Events.UI="ui",Blockly.Events.FIRE_QUEUE_=[],Blockly.Events.fire=function(e){Blockly.Events.isEnabled()&&(Blockly.Events.FIRE_QUEUE_.length||setTimeout(Blockly.Events.fireNow_,0),Blockly.Events.FIRE_QUEUE_.push(e))},Blockly.Events.fireNow_=function(){for(var e,t=Blockly.Events.filter(Blockly.Events.FIRE_QUEUE_,!0),o=Blockly.Events.FIRE_QUEUE_.length=0;e=t[o];o++){var n=Blockly.Workspace.getById(e.workspaceId);n&&n.fireChangeListener(e)}},Blockly.Events.filter=function(e,t){var o=goog.array.clone(e);t||o.reverse();for(var n,r=0;n=o[r];r++)for(var i,s=r+1;i=o[s];s++)n.type==i.type&&n.blockId==i.blockId&&n.workspaceId==i.workspaceId&&(n.type==Blockly.Events.MOVE?(n.newParentId=i.newParentId,n.newInputName=i.newInputName,n.newCoordinate=i.newCoordinate,o.splice(s,1),s--):n.type==Blockly.Events.CHANGE&&n.element==i.element&&n.name==i.name?(n.newValue=i.newValue,o.splice(s,1),s--):n.type!=Blockly.Events.UI||"click"!=i.element||"commentOpen"!=n.element&&"mutatorOpen"!=n.element&&"warningOpen"!=n.element||(n.newValue=i.newValue,o.splice(s,1),s--));for(r=o.length-1;r>=0;r--)o[r].isNull()&&o.splice(r,1);for(t||o.reverse(),r=1;n=o[r];r++)n.type==Blockly.Events.CHANGE&&"mutation"==n.element&&o.unshift(o.splice(r,1)[0]);return o},Blockly.Events.clearPendingUndo=function(){for(var e,t=0;e=Blockly.Events.FIRE_QUEUE_[t];t++)e.recordUndo=!1},Blockly.Events.disable=function(){Blockly.Events.disabled_++},Blockly.Events.enable=function(){Blockly.Events.disabled_--},Blockly.Events.isEnabled=function(){return 0==Blockly.Events.disabled_},Blockly.Events.getGroup=function(){return Blockly.Events.group_},Blockly.Events.setGroup=function(e){Blockly.Events.group_="boolean"==typeof e?e?Blockly.genUid():"":e},Blockly.Events.getDescendantIds_=function(e){var t=[];e=e.getDescendants();for(var o,n=0;o=e[n];n++)t[n]=o.id;return t},Blockly.Events.fromJson=function(e,t){var o;switch(e.type){case Blockly.Events.CREATE:o=new Blockly.Events.Create(null);break;case Blockly.Events.DELETE:o=new Blockly.Events.Delete(null);break;case Blockly.Events.CHANGE:o=new Blockly.Events.Change(null);break;case Blockly.Events.MOVE:o=new Blockly.Events.Move(null);break;case Blockly.Events.UI:o=new Blockly.Events.Ui(null);break;default:throw"Unknown event type."}return o.fromJson(e),o.workspaceId=t.id,o},Blockly.Events.Abstract=function(e){e&&(this.blockId=e.id,this.workspaceId=e.workspace.id),this.group=Blockly.Events.group_,this.recordUndo=Blockly.Events.recordUndo},Blockly.Events.Abstract.prototype.toJson=function(){var e={type:this.type,blockId:this.blockId};return this.group&&(e.group=this.group),e},Blockly.Events.Abstract.prototype.fromJson=function(e){this.blockId=e.blockId,this.group=e.group},Blockly.Events.Abstract.prototype.isNull=function(){return!1},Blockly.Events.Abstract.prototype.run=function(e){},Blockly.Events.Create=function(e){e&&(Blockly.Events.Create.superClass_.constructor.call(this,e),this.xml=Blockly.Xml.blockToDomWithXY(e),this.ids=Blockly.Events.getDescendantIds_(e))},goog.inherits(Blockly.Events.Create,Blockly.Events.Abstract),Blockly.Events.Create.prototype.type=Blockly.Events.CREATE,Blockly.Events.Create.prototype.toJson=function(){var e=Blockly.Events.Create.superClass_.toJson.call(this);return e.xml=Blockly.Xml.domToText(this.xml),e.ids=this.ids,e},Blockly.Events.Create.prototype.fromJson=function(e){Blockly.Events.Create.superClass_.fromJson.call(this,e),this.xml=Blockly.Xml.textToDom("<xml>"+e.xml+"</xml>").firstChild,this.ids=e.ids},Blockly.Events.Create.prototype.run=function(e){var t=Blockly.Workspace.getById(this.workspaceId);if(e)e=goog.dom.createDom("xml"),e.appendChild(this.xml),Blockly.Xml.domToWorkspace(e,t);else{e=0;for(var o;o=this.ids[e];e++){var n=t.getBlockById(o);n?n.dispose(!1,!0):o==this.blockId&&console.warn("Can't uncreate non-existant block: "+o)}}},Blockly.Events.Delete=function(e){if(e){if(e.getParent())throw"Connected blocks cannot be deleted.";Blockly.Events.Delete.superClass_.constructor.call(this,e),this.oldXml=Blockly.Xml.blockToDomWithXY(e),this.ids=Blockly.Events.getDescendantIds_(e)}},goog.inherits(Blockly.Events.Delete,Blockly.Events.Abstract),Blockly.Events.Delete.prototype.type=Blockly.Events.DELETE,Blockly.Events.Delete.prototype.toJson=function(){var e=Blockly.Events.Delete.superClass_.toJson.call(this);return e.ids=this.ids,e},Blockly.Events.Delete.prototype.fromJson=function(e){Blockly.Events.Delete.superClass_.fromJson.call(this,e),this.ids=e.ids},Blockly.Events.Delete.prototype.run=function(e){var t=Blockly.Workspace.getById(this.workspaceId);if(e){e=0;for(var o;o=this.ids[e];e++){var n=t.getBlockById(o);n?n.dispose(!1,!0):o==this.blockId&&console.warn("Can't delete non-existant block: "+o)}}else e=goog.dom.createDom("xml"),e.appendChild(this.oldXml),Blockly.Xml.domToWorkspace(e,t)},Blockly.Events.Change=function(e,t,o,n,r){e&&(Blockly.Events.Change.superClass_.constructor.call(this,e),this.element=t,this.name=o,this.oldValue=n,this.newValue=r)},goog.inherits(Blockly.Events.Change,Blockly.Events.Abstract),Blockly.Events.Change.prototype.type=Blockly.Events.CHANGE,Blockly.Events.Change.prototype.toJson=function(){var e=Blockly.Events.Change.superClass_.toJson.call(this);return e.element=this.element,this.name&&(e.name=this.name),e.newValue=this.newValue,e},Blockly.Events.Change.prototype.fromJson=function(e){Blockly.Events.Change.superClass_.fromJson.call(this,e),this.element=e.element,this.name=e.name,this.newValue=e.newValue},Blockly.Events.Change.prototype.isNull=function(){return this.oldValue==this.newValue},Blockly.Events.Change.prototype.run=function(e){var t=Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId);if(t)switch(t.mutator&&t.mutator.setVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existant field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(e);break;case"disabled":t.setDisabled(e);break;case"inline":t.setInputsInline(e);break;case"mutation":var o="";if(t.mutationToDom&&(o=(o=t.mutationToDom())&&Blockly.Xml.domToText(o)),t.domToMutation){e=e||"<mutation></mutation>";var n=Blockly.Xml.textToDom("<xml>"+e+"</xml>");t.domToMutation(n.firstChild)}Blockly.Events.fire(new Blockly.Events.Change(t,"mutation",null,o,e));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existant block: "+this.blockId)},Blockly.Events.Move=function(e){e&&(Blockly.Events.Move.superClass_.constructor.call(this,e),e=this.currentLocation_(),this.oldParentId=e.parentId,this.oldInputName=e.inputName,this.oldCoordinate=e.coordinate)},goog.inherits(Blockly.Events.Move,Blockly.Events.Abstract),Blockly.Events.Move.prototype.type=Blockly.Events.MOVE,Blockly.Events.Move.prototype.toJson=function(){var e=Blockly.Events.Move.superClass_.toJson.call(this);return this.newParentId&&(e.newParentId=this.newParentId),this.newInputName&&(e.newInputName=this.newInputName),this.newCoordinate&&(e.newCoordinate=Math.round(this.newCoordinate.x)+","+Math.round(this.newCoordinate.y)),e},Blockly.Events.Move.prototype.fromJson=function(e){Blockly.Events.Move.superClass_.fromJson.call(this,e),this.newParentId=e.newParentId,this.newInputName=e.newInputName,e.newCoordinate&&(e=e.newCoordinate.split(","),this.newCoordinate=new goog.math.Coordinate(parseFloat(e[0]),parseFloat(e[1])))},Blockly.Events.Move.prototype.recordNew=function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate},Blockly.Events.Move.prototype.currentLocation_=function(){var e=Blockly.Workspace.getById(this.workspaceId).getBlockById(this.blockId),t={},o=e.getParent();return o?(t.parentId=o.id,(e=o.getInputWithBlock(e))&&(t.inputName=e.name)):t.coordinate=e.getRelativeToSurfaceXY(),t},Blockly.Events.Move.prototype.isNull=function(){return this.oldParentId==this.newParentId&&this.oldInputName==this.newInputName&&goog.math.Coordinate.equals(this.oldCoordinate,this.newCoordinate)},Blockly.Events.Move.prototype.run=function(e){var t=Blockly.Workspace.getById(this.workspaceId),o=t.getBlockById(this.blockId);if(o){var n=e?this.newParentId:this.oldParentId,r=e?this.newInputName:this.oldInputName;e=e?this.newCoordinate:this.oldCoordinate;var i=null;if(n&&(i=t.getBlockById(n),!i))return void console.warn("Can't connect to non-existant block: "+n);if(o.getParent()&&o.unplug(),e)r=o.getRelativeToSurfaceXY(),o.moveBy(e.x-r.x,e.y-r.y);else{var s,o=o.outputConnection||o.previousConnection;r?(t=i.getInput(r))&&(s=t.connection):o.type==Blockly.PREVIOUS_STATEMENT&&(s=i.nextConnection),s?o.connect(s):console.warn("Can't connect to non-existant input: "+r)}}else console.warn("Can't move non-existant block: "+this.blockId)},Blockly.Events.Ui=function(e,t,o,n){Blockly.Events.Ui.superClass_.constructor.call(this,e),this.element=t,this.oldValue=o,this.newValue=n,this.recordUndo=!1},goog.inherits(Blockly.Events.Ui,Blockly.Events.Abstract),Blockly.Events.Ui.prototype.type=Blockly.Events.UI,Blockly.Events.Ui.prototype.toJson=function(){var e=Blockly.Events.Ui.superClass_.toJson.call(this);return e.element=this.element,void 0!==this.newValue&&(e.newValue=this.newValue),e},Blockly.Events.Ui.prototype.fromJson=function(e){Blockly.Events.Ui.superClass_.fromJson.call(this,e),this.element=e.element,this.newValue=e.newValue},Blockly.Msg={},goog.getMsgOrig=goog.getMsg,goog.getMsg=function(e,t){var o=goog.getMsg.blocklyMsgMap[e];return o&&(e=Blockly.Msg[o]),goog.getMsgOrig(e,t)},goog.getMsg.blocklyMsgMap={Today:"TODAY"},Blockly.FieldTextInput=function(e,t){Blockly.FieldTextInput.superClass_.constructor.call(this,e,t)},goog.inherits(Blockly.FieldTextInput,Blockly.Field),Blockly.FieldTextInput.FONTSIZE=11,Blockly.FieldTextInput.prototype.CURSOR="text",Blockly.FieldTextInput.prototype.spellcheck_=!0,Blockly.FieldTextInput.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldTextInput.superClass_.dispose.call(this)},Blockly.FieldTextInput.prototype.setValue=function(e){if(null!==e){if(this.sourceBlock_&&this.validator_){var t=this.validator_(e);null!==t&&void 0!==t&&(e=t)}Blockly.Field.prototype.setValue.call(this,e)}},Blockly.FieldTextInput.prototype.setSpellcheck=function(e){this.spellcheck_=e},Blockly.FieldTextInput.prototype.showEditor_=function(e){if(this.workspace_=this.sourceBlock_.workspace,e=e||!1,!e&&(goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD)){if(e=window.prompt(Blockly.Msg.CHANGE_VALUE_TITLE,this.text_),this.sourceBlock_&&this.validator_){var t=this.validator_(e);void 0!==t&&(e=t)}this.setValue(e)}else{Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,this.widgetDispose_());var t=Blockly.WidgetDiv.DIV,o=goog.dom.createDom("input","blocklyHtmlInput");o.setAttribute("spellcheck",this.spellcheck_);var n=Blockly.FieldTextInput.FONTSIZE*this.workspace_.scale+"pt";t.style.fontSize=n,o.style.fontSize=n,Blockly.FieldTextInput.htmlInput_=o,t.appendChild(o),o.value=o.defaultValue=this.text_,o.oldValue_=null,this.validate_(),this.resizeEditor_(),e||(o.focus(),o.select()),o.onKeyDownWrapper_=Blockly.bindEvent_(o,"keydown",this,this.onHtmlInputKeyDown_),o.onKeyUpWrapper_=Blockly.bindEvent_(o,"keyup",this,this.onHtmlInputChange_),o.onKeyPressWrapper_=Blockly.bindEvent_(o,"keypress",this,this.onHtmlInputChange_),o.onWorkspaceChangeWrapper_=this.resizeEditor_.bind(this),this.workspace_.addChangeListener(o.onWorkspaceChangeWrapper_)}},Blockly.FieldTextInput.prototype.onHtmlInputKeyDown_=function(e){var t=Blockly.FieldTextInput.htmlInput_;13==e.keyCode?Blockly.WidgetDiv.hide():27==e.keyCode?(t.value=t.defaultValue,Blockly.WidgetDiv.hide()):9==e.keyCode&&(Blockly.WidgetDiv.hide(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())},Blockly.FieldTextInput.prototype.onHtmlInputChange_=function(e){e=Blockly.FieldTextInput.htmlInput_;var t=e.value;t!==e.oldValue_?(e.oldValue_=t,this.setValue(t),this.validate_()):goog.userAgent.WEBKIT&&this.sourceBlock_.render(),this.resizeEditor_()},Blockly.FieldTextInput.prototype.validate_=function(){var e=!0;goog.asserts.assertObject(Blockly.FieldTextInput.htmlInput_);
var t=Blockly.FieldTextInput.htmlInput_;this.sourceBlock_&&this.validator_&&(e=this.validator_(t.value)),null===e?Blockly.addClass_(t,"blocklyInvalidInput"):Blockly.removeClass_(t,"blocklyInvalidInput")},Blockly.FieldTextInput.prototype.resizeEditor_=function(){var e=Blockly.WidgetDiv.DIV,t=this.fieldGroup_.getBBox();if(e.style.width=t.width*this.workspace_.scale+"px",e.style.height=t.height*this.workspace_.scale+"px",t=this.getAbsoluteXY_(),this.sourceBlock_.RTL){var o=this.getScaledBBox_();t.x+=o.width,t.x-=e.offsetWidth}t.y+=1,goog.userAgent.GECKO&&Blockly.WidgetDiv.DIV.style.top&&(--t.x,--t.y),goog.userAgent.WEBKIT&&(t.y-=3),e.style.left=t.x+"px",e.style.top=t.y+"px"},Blockly.FieldTextInput.prototype.widgetDispose_=function(){var e=this;return function(){var t=Blockly.FieldTextInput.htmlInput_,o=t.value;if(e.sourceBlock_&&e.validator_){var n=e.validator_(o);null===n?o=t.defaultValue:void 0!==n&&(o=n)}e.setValue(o),e.sourceBlock_.rendered&&e.sourceBlock_.render(),Blockly.unbindEvent_(t.onKeyDownWrapper_),Blockly.unbindEvent_(t.onKeyUpWrapper_),Blockly.unbindEvent_(t.onKeyPressWrapper_),e.workspace_.removeChangeListener(t.onWorkspaceChangeWrapper_),Blockly.FieldTextInput.htmlInput_=null,t=Blockly.WidgetDiv.DIV.style,t.width="auto",t.height="auto",t.fontSize=""}},Blockly.FieldTextInput.numberValidator=function(e){return null===e?null:(e=String(e),e=e.replace(/O/gi,"0"),e=e.replace(/,/g,""),e=parseFloat(e||0),isNaN(e)?null:String(e))},Blockly.FieldTextInput.nonnegativeIntegerValidator=function(e){return(e=Blockly.FieldTextInput.numberValidator(e))&&(e=String(Math.max(0,Math.floor(e)))),e},Blockly.FieldAngle=function(e,t){this.symbol_=Blockly.createSvgElement("tspan",{},null),this.symbol_.appendChild(document.createTextNode("°")),Blockly.FieldAngle.superClass_.constructor.call(this,e,t)},goog.inherits(Blockly.FieldAngle,Blockly.FieldTextInput),Blockly.FieldAngle.prototype.setValidator=function(e){Blockly.FieldAngle.superClass_.setValidator.call(this,e?function(t){var o=e.call(this,t);if(null===o)var n=o;else void 0===o&&(o=t),n=Blockly.FieldAngle.angleValidator.call(this,o),void 0===n&&(n=o);return n===t?void 0:n}:Blockly.FieldAngle.angleValidator)},Blockly.FieldAngle.ROUND=15,Blockly.FieldAngle.HALF=50,Blockly.FieldAngle.CLOCKWISE=!1,Blockly.FieldAngle.OFFSET=0,Blockly.FieldAngle.WRAP=360,Blockly.FieldAngle.RADIUS=Blockly.FieldAngle.HALF-1,Blockly.FieldAngle.prototype.dispose_=function(){var e=this;return function(){Blockly.FieldAngle.superClass_.dispose_.call(e)(),e.gauge_=null,e.clickWrapper_&&Blockly.unbindEvent_(e.clickWrapper_),e.moveWrapper1_&&Blockly.unbindEvent_(e.moveWrapper1_),e.moveWrapper2_&&Blockly.unbindEvent_(e.moveWrapper2_)}},Blockly.FieldAngle.prototype.showEditor_=function(){Blockly.FieldAngle.superClass_.showEditor_.call(this,goog.userAgent.MOBILE||goog.userAgent.ANDROID||goog.userAgent.IPAD);var e=Blockly.WidgetDiv.DIV;if(e.firstChild){var e=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1",height:2*Blockly.FieldAngle.HALF+"px",width:2*Blockly.FieldAngle.HALF+"px"},e),t=Blockly.createSvgElement("circle",{cx:Blockly.FieldAngle.HALF,cy:Blockly.FieldAngle.HALF,r:Blockly.FieldAngle.RADIUS,"class":"blocklyAngleCircle"},e);this.gauge_=Blockly.createSvgElement("path",{"class":"blocklyAngleGauge"},e),this.line_=Blockly.createSvgElement("line",{x1:Blockly.FieldAngle.HALF,y1:Blockly.FieldAngle.HALF,"class":"blocklyAngleLine"},e);for(var o=0;360>o;o+=15)Blockly.createSvgElement("line",{x1:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS,y1:Blockly.FieldAngle.HALF,x2:Blockly.FieldAngle.HALF+Blockly.FieldAngle.RADIUS-(0==o%45?10:5),y2:Blockly.FieldAngle.HALF,"class":"blocklyAngleMarks",transform:"rotate("+o+","+Blockly.FieldAngle.HALF+","+Blockly.FieldAngle.HALF+")"},e);e.style.marginLeft=15-Blockly.FieldAngle.RADIUS+"px",this.clickWrapper_=Blockly.bindEvent_(e,"click",this,Blockly.WidgetDiv.hide),this.moveWrapper1_=Blockly.bindEvent_(t,"mousemove",this,this.onMouseMove),this.moveWrapper2_=Blockly.bindEvent_(this.gauge_,"mousemove",this,this.onMouseMove),this.updateGraph_()}},Blockly.FieldAngle.prototype.onMouseMove=function(e){var t=this.gauge_.ownerSVGElement.getBoundingClientRect(),o=e.clientX-t.left-Blockly.FieldAngle.HALF;e=e.clientY-t.top-Blockly.FieldAngle.HALF,t=Math.atan(-e/o),isNaN(t)||(t=goog.math.toDegrees(t),0>o?t+=180:e>0&&(t+=360),t=Blockly.FieldAngle.CLOCKWISE?Blockly.FieldAngle.OFFSET+360-t:t-Blockly.FieldAngle.OFFSET,Blockly.FieldAngle.ROUND&&(t=Math.round(t/Blockly.FieldAngle.ROUND)*Blockly.FieldAngle.ROUND),t=Blockly.FieldAngle.angleValidator(t),Blockly.FieldTextInput.htmlInput_.value=t,this.setValue(t),this.validate_(),this.resizeEditor_())},Blockly.FieldAngle.prototype.setText=function(e){Blockly.FieldAngle.superClass_.setText.call(this,e),this.textElement_&&(this.updateGraph_(),this.sourceBlock_.RTL?this.textElement_.insertBefore(this.symbol_,this.textElement_.firstChild):this.textElement_.appendChild(this.symbol_),this.size_.width=0)},Blockly.FieldAngle.prototype.updateGraph_=function(){if(this.gauge_){var e=Number(this.getText())+Blockly.FieldAngle.OFFSET,t=goog.math.toRadians(e),e=["M ",Blockly.FieldAngle.HALF,",",Blockly.FieldAngle.HALF],o=Blockly.FieldAngle.HALF,n=Blockly.FieldAngle.HALF;if(!isNaN(t)){var r=goog.math.toRadians(Blockly.FieldAngle.OFFSET),i=Math.cos(r)*Blockly.FieldAngle.RADIUS,s=Math.sin(r)*-Blockly.FieldAngle.RADIUS;Blockly.FieldAngle.CLOCKWISE&&(t=2*r-t),o+=Math.cos(t)*Blockly.FieldAngle.RADIUS,n-=Math.sin(t)*Blockly.FieldAngle.RADIUS,t=Math.abs(Math.floor((t-r)/Math.PI)%2),Blockly.FieldAngle.CLOCKWISE&&(t=1-t),e.push(" l ",i,",",s," A ",Blockly.FieldAngle.RADIUS,",",Blockly.FieldAngle.RADIUS," 0 ",t," ",Number(Blockly.FieldAngle.CLOCKWISE)," ",o,",",n," z")}this.gauge_.setAttribute("d",e.join("")),this.line_.setAttribute("x2",o),this.line_.setAttribute("y2",n)}},Blockly.FieldAngle.angleValidator=function(e){return e=Blockly.FieldTextInput.numberValidator(e),null!==e&&(e%=360,0>e&&(e+=360),e>Blockly.FieldAngle.WRAP&&(e-=360),e=String(e)),e},Blockly.FieldCheckbox=function(e,t){Blockly.FieldCheckbox.superClass_.constructor.call(this,"",t),this.setValue(e)},goog.inherits(Blockly.FieldCheckbox,Blockly.Field),Blockly.FieldCheckbox.CHECK_CHAR="✓",Blockly.FieldCheckbox.prototype.CURSOR="default",Blockly.FieldCheckbox.prototype.init=function(e){this.fieldGroup_||(Blockly.FieldCheckbox.superClass_.init.call(this,e),this.checkElement_=Blockly.createSvgElement("text",{"class":"blocklyText blocklyCheckbox",x:-3,y:14},this.fieldGroup_),e=document.createTextNode(Blockly.FieldCheckbox.CHECK_CHAR),this.checkElement_.appendChild(e),this.checkElement_.style.display=this.state_?"block":"none")},Blockly.FieldCheckbox.prototype.getValue=function(){return String(this.state_).toUpperCase()},Blockly.FieldCheckbox.prototype.setValue=function(e){e="TRUE"==e,this.state_!==e&&(this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.state_,e)),this.state_=e,this.checkElement_&&(this.checkElement_.style.display=e?"block":"none"))},Blockly.FieldCheckbox.prototype.showEditor_=function(){var e=!this.state_;if(this.sourceBlock_&&this.validator_){var t=this.validator_(e);void 0!==t&&(e=t)}null!==e&&this.setValue(String(e).toUpperCase())},Blockly.FieldColour=function(e,t){Blockly.FieldColour.superClass_.constructor.call(this,e,t),this.setText(Blockly.Field.NBSP+Blockly.Field.NBSP+Blockly.Field.NBSP)},goog.inherits(Blockly.FieldColour,Blockly.Field),Blockly.FieldColour.prototype.colours_=null,Blockly.FieldColour.prototype.columns_=0,Blockly.FieldColour.prototype.init=function(e){Blockly.FieldColour.superClass_.init.call(this,e),this.borderRect_.style.fillOpacity=1,this.setValue(this.getValue())},Blockly.FieldColour.prototype.CURSOR="default",Blockly.FieldColour.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldColour.superClass_.dispose.call(this)},Blockly.FieldColour.prototype.getValue=function(){return this.colour_},Blockly.FieldColour.prototype.setValue=function(e){this.sourceBlock_&&Blockly.Events.isEnabled()&&this.colour_!=e&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.colour_,e)),this.colour_=e,this.borderRect_&&(this.borderRect_.style.fill=e)},Blockly.FieldColour.prototype.getText=function(){var e=this.colour_,t=e.match(/^#(.)\1(.)\2(.)\3$/);return t&&(e="#"+t[1]+t[2]+t[3]),e},Blockly.FieldColour.COLOURS=goog.ui.ColorPicker.SIMPLE_GRID_COLORS,Blockly.FieldColour.COLUMNS=7,Blockly.FieldColour.prototype.setColours=function(e){return this.colours_=e,this},Blockly.FieldColour.prototype.setColumns=function(e){return this.columns_=e,this},Blockly.FieldColour.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,Blockly.FieldColour.widgetDispose_);var e=new goog.ui.ColorPicker;e.setSize(this.columns_||Blockly.FieldColour.COLUMNS),e.setColors(this.colours_||Blockly.FieldColour.COLOURS);var t=goog.dom.getViewportSize(),o=goog.style.getViewportPageOffset(document),n=this.getAbsoluteXY_(),r=this.getScaledBBox_();e.render(Blockly.WidgetDiv.DIV),e.setSelectedColor(this.getValue());var i=goog.style.getSize(e.getElement());n.y=n.y+i.height+r.height>=t.height+o.y?n.y-(i.height-1):n.y+(r.height-1),this.sourceBlock_.RTL?(n.x+=r.width,n.x-=i.width,n.x<o.x&&(n.x=o.x)):n.x>t.width+o.x-i.width&&(n.x=t.width+o.x-i.width),Blockly.WidgetDiv.position(n.x,n.y,t,o,this.sourceBlock_.RTL);var s=this;Blockly.FieldColour.changeEventKey_=goog.events.listen(e,goog.ui.ColorPicker.EventType.CHANGE,function(e){if(e=e.target.getSelectedColor()||"#000000",Blockly.WidgetDiv.hide(),s.sourceBlock_&&s.validator_){var t=s.validator_(e);void 0!==t&&(e=t)}null!==e&&s.setValue(e)})},Blockly.FieldColour.widgetDispose_=function(){Blockly.FieldColour.changeEventKey_&&goog.events.unlistenByKey(Blockly.FieldColour.changeEventKey_)},Blockly.FieldDropdown=function(e,t){this.menuGenerator_=e,this.trimOptions_();var o=this.getOptions_()[0];Blockly.FieldDropdown.superClass_.constructor.call(this,o[1],t)},goog.inherits(Blockly.FieldDropdown,Blockly.Field),Blockly.FieldDropdown.CHECKMARK_OVERHANG=25,Blockly.FieldDropdown.ARROW_CHAR=goog.userAgent.ANDROID?"▼":"▾",Blockly.FieldDropdown.prototype.CURSOR="default",Blockly.FieldDropdown.prototype.init=function(e){this.fieldGroup_||(this.arrow_=Blockly.createSvgElement("tspan",{},null),this.arrow_.appendChild(document.createTextNode(e.RTL?Blockly.FieldDropdown.ARROW_CHAR+" ":" "+Blockly.FieldDropdown.ARROW_CHAR)),Blockly.FieldDropdown.superClass_.init.call(this,e),e=this.text_,this.text_=null,this.setText(e))},Blockly.FieldDropdown.prototype.showEditor_=function(){Blockly.WidgetDiv.show(this,this.sourceBlock_.RTL,null);var e=this,t=new goog.ui.Menu;t.setRightToLeft(this.sourceBlock_.RTL);for(var o=this.getOptions_(),n=0;n<o.length;n++){var r=o[n][1],i=new goog.ui.MenuItem(o[n][0]);i.setRightToLeft(this.sourceBlock_.RTL),i.setValue(r),i.setCheckable(!0),t.addChild(i,!0),i.setChecked(r==this.value_)}goog.events.listen(t,goog.ui.Component.EventType.ACTION,function(t){if(t=t.target){if(t=t.getValue(),e.sourceBlock_&&e.validator_){var o=e.validator_(t);void 0!==o&&(t=o)}null!==t&&e.setValue(t)}Blockly.WidgetDiv.hideIfOwner(e)}),t.getHandler().listen(t.getElement(),goog.events.EventType.TOUCHSTART,function(e){this.getOwnerControl(e.target).handleMouseDown(e)}),t.getHandler().listen(t.getElement(),goog.events.EventType.TOUCHEND,function(e){this.getOwnerControl(e.target).performActionInternal(e)}),o=goog.dom.getViewportSize(),n=goog.style.getViewportPageOffset(document),r=this.getAbsoluteXY_(),i=this.getScaledBBox_(),t.render(Blockly.WidgetDiv.DIV);var s=t.getElement();Blockly.addClass_(s,"blocklyDropdownMenu");var a=goog.style.getSize(s);a.height=s.scrollHeight,r.y=r.y+a.height+i.height>=o.height+n.y?r.y-(a.height+2):r.y+i.height,this.sourceBlock_.RTL?(r.x+=i.width,r.x+=Blockly.FieldDropdown.CHECKMARK_OVERHANG,r.x<n.x+a.width&&(r.x=n.x+a.width)):(r.x-=Blockly.FieldDropdown.CHECKMARK_OVERHANG,r.x>o.width+n.x-a.width&&(r.x=o.width+n.x-a.width)),Blockly.WidgetDiv.position(r.x,r.y,o,n,this.sourceBlock_.RTL),t.setAllowAutoFocus(!0),s.focus()},Blockly.FieldDropdown.prototype.trimOptions_=function(){this.suffixField=this.prefixField=null;var e=this.menuGenerator_;if(goog.isArray(e)&&!(2>e.length)){var t=e.map(function(e){return e[0]}),o=Blockly.shortestStringLength(t),n=Blockly.commonWordPrefix(t,o),r=Blockly.commonWordSuffix(t,o);if((n||r)&&!(n+r>=o)){for(n&&(this.prefixField=t[0].substring(0,n-1)),r&&(this.suffixField=t[0].substr(1-r)),t=[],o=0;o<e.length;o++){var i=e[o][0],s=e[o][1],i=i.substring(n,i.length-r);t[o]=[i,s]}this.menuGenerator_=t}}},Blockly.FieldDropdown.prototype.getOptions_=function(){return goog.isFunction(this.menuGenerator_)?this.menuGenerator_.call(this):this.menuGenerator_},Blockly.FieldDropdown.prototype.getValue=function(){return this.value_},Blockly.FieldDropdown.prototype.setValue=function(e){if(null!==e&&e!==this.value_){this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.value_,e)),this.value_=e;for(var t=this.getOptions_(),o=0;o<t.length;o++)if(t[o][1]==e)return void this.setText(t[o][0]);this.setText(e)}},Blockly.FieldDropdown.prototype.setText=function(e){this.sourceBlock_&&this.arrow_&&(this.arrow_.style.fill=this.sourceBlock_.getColour()),null!==e&&e!==this.text_&&(this.text_=e,this.updateTextNode_(),this.textElement_&&(this.sourceBlock_.RTL?this.textElement_.insertBefore(this.arrow_,this.textElement_.firstChild):this.textElement_.appendChild(this.arrow_)),this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()))},Blockly.FieldDropdown.prototype.dispose=function(){Blockly.WidgetDiv.hideIfOwner(this),Blockly.FieldDropdown.superClass_.dispose.call(this)},Blockly.FieldImage=function(e,t,o,n){this.sourceBlock_=null,this.height_=Number(o),this.width_=Number(t),this.size_=new goog.math.Size(this.width_,this.height_+2*Blockly.BlockSvg.INLINE_PADDING_Y),this.text_=n||"",this.setValue(e)},goog.inherits(Blockly.FieldImage,Blockly.Field),Blockly.FieldImage.prototype.rectElement_=null,Blockly.FieldImage.prototype.EDITABLE=!1,Blockly.FieldImage.prototype.init=function(){if(!this.fieldGroup_){this.fieldGroup_=Blockly.createSvgElement("g",{},null),this.visible_||(this.fieldGroup_.style.display="none"),this.imageElement_=Blockly.createSvgElement("image",{height:this.height_+"px",width:this.width_+"px"},this.fieldGroup_),this.setValue(this.src_),goog.userAgent.GECKO&&(this.rectElement_=Blockly.createSvgElement("rect",{height:this.height_+"px",width:this.width_+"px","fill-opacity":0},this.fieldGroup_)),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_);var e=this.rectElement_||this.imageElement_;e.tooltip=this.sourceBlock_,Blockly.Tooltip.bindMouseEvents(e)}},Blockly.FieldImage.prototype.dispose=function(){goog.dom.removeNode(this.fieldGroup_),this.rectElement_=this.imageElement_=this.fieldGroup_=null},Blockly.FieldImage.prototype.setTooltip=function(e){(this.rectElement_||this.imageElement_).tooltip=e},Blockly.FieldImage.prototype.getValue=function(){return this.src_},Blockly.FieldImage.prototype.setValue=function(e){null!==e&&(this.src_=e,this.imageElement_&&this.imageElement_.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",goog.isString(e)?e:""))},Blockly.FieldImage.prototype.setText=function(e){null!==e&&(this.text_=e)},Blockly.FieldImage.prototype.render_=function(){},Blockly.Variables={},Blockly.Variables.NAME_TYPE="VARIABLE",Blockly.Variables.allVariables=function(e){var t;if(e.getDescendants)t=e.getDescendants();else{if(!e.getAllBlocks)throw"Not Block or Workspace: "+e;t=e.getAllBlocks()}e=Object.create(null);for(var o=0;o<t.length;o++)for(var n=t[o].getVars(),r=0;r<n.length;r++){var i=n[r];i&&(e[i.toLowerCase()]=i)}t=[];for(var s in e)t.push(e[s]);return t},Blockly.Variables.renameVariable=function(e,t,o){Blockly.Events.setGroup(!0),o=o.getAllBlocks();for(var n=0;n<o.length;n++)o[n].renameVar(e,t);Blockly.Events.setGroup(!1)},Blockly.Variables.flyoutCategory=function(e){e=Blockly.Variables.allVariables(e),e.sort(goog.string.caseInsensitiveCompare),goog.array.remove(e,Blockly.Msg.VARIABLES_DEFAULT_NAME),e.unshift(Blockly.Msg.VARIABLES_DEFAULT_NAME);for(var t=[],o=0;o<e.length;o++){if(Blockly.Blocks.variables_set){var n=goog.dom.createDom("block");n.setAttribute("type","variables_set"),Blockly.Blocks.variables_get&&n.setAttribute("gap",8);var r=goog.dom.createDom("field",null,e[o]);r.setAttribute("name","VAR"),n.appendChild(r),t.push(n)}Blockly.Blocks.variables_get&&(n=goog.dom.createDom("block"),n.setAttribute("type","variables_get"),Blockly.Blocks.variables_set&&n.setAttribute("gap",24),r=goog.dom.createDom("field",null,e[o]),r.setAttribute("name","VAR"),n.appendChild(r),t.push(n))}return t},Blockly.Variables.generateUniqueName=function(e){e=Blockly.Variables.allVariables(e);var t="";if(e.length)for(var o=1,n=0,r="ijkmnopqrstuvwxyzabcdefgh".charAt(n);!t;){for(var i=!1,s=0;s<e.length;s++)if(e[s].toLowerCase()==r){i=!0;break}i?(n++,25==n&&(n=0,o++),r="ijkmnopqrstuvwxyzabcdefgh".charAt(n),o>1&&(r+=o)):t=r}else t="i";return t},Blockly.FieldVariable=function(e,t){Blockly.FieldVariable.superClass_.constructor.call(this,Blockly.FieldVariable.dropdownCreate,t),this.setValue(e||"")},goog.inherits(Blockly.FieldVariable,Blockly.FieldDropdown),Blockly.FieldVariable.prototype.setValidator=function(e){Blockly.FieldVariable.superClass_.setValidator.call(this,e?function(t){var o=e.call(this,t);if(null===o)var n=o;else void 0===o&&(o=t),n=Blockly.FieldVariable.dropdownChange.call(this,o),void 0===n&&(n=o);return n===t?void 0:n}:Blockly.FieldVariable.dropdownChange)},Blockly.FieldVariable.prototype.init=function(e){this.fieldGroup_||(Blockly.FieldVariable.superClass_.init.call(this,e),this.getValue()||this.setValue(Blockly.Variables.generateUniqueName(e.isInFlyout?e.workspace.targetWorkspace:e.workspace)))},Blockly.FieldVariable.prototype.getValue=function(){return this.getText()},Blockly.FieldVariable.prototype.setValue=function(e){this.sourceBlock_&&Blockly.Events.isEnabled()&&Blockly.Events.fire(new Blockly.Events.Change(this.sourceBlock_,"field",this.name,this.value_,e)),this.value_=e,this.setText(e)},Blockly.FieldVariable.dropdownCreate=function(){var e=this.sourceBlock_&&this.sourceBlock_.workspace?Blockly.Variables.allVariables(this.sourceBlock_.workspace):[],t=this.getText();t&&-1==e.indexOf(t)&&e.push(t),e.sort(goog.string.caseInsensitiveCompare),e.push(Blockly.Msg.RENAME_VARIABLE),e.push(Blockly.Msg.NEW_VARIABLE);for(var t=[],o=0;o<e.length;o++)t[o]=[e[o],e[o]];return t},Blockly.FieldVariable.dropdownChange=function(e){function t(e,t){Blockly.hideChaff();var o=window.prompt(e,t);return o&&(o=o.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),o==Blockly.Msg.RENAME_VARIABLE||o==Blockly.Msg.NEW_VARIABLE)&&(o=null),o}var o=this.sourceBlock_.workspace;if(e==Blockly.Msg.RENAME_VARIABLE){var n=this.getText();return(e=t(Blockly.Msg.RENAME_VARIABLE_TITLE.replace("%1",n),n))&&Blockly.Variables.renameVariable(n,e,o),null}return e==Blockly.Msg.NEW_VARIABLE?(e=t(Blockly.Msg.NEW_VARIABLE_TITLE,""))?(Blockly.Variables.renameVariable(e,e,o),e):null:void 0},Blockly.Generator=function(e){this.name_=e,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")},Blockly.Generator.NAME_TYPE="generated_function",Blockly.Generator.prototype.INFINITE_LOOP_TRAP=null,Blockly.Generator.prototype.STATEMENT_PREFIX=null,Blockly.Generator.prototype.INDENT="  ",Blockly.Generator.prototype.workspaceToCode=function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=Blockly.getMainWorkspace());var t=[];this.init(e),e=e.getTopBlocks(!0);for(var o,n=0;o=e[n];n++){var r=this.blockToCode(o);goog.isArray(r)&&(r=r[0]),r&&(o.outputConnection&&this.scrubNakedValue&&(r=this.scrubNakedValue(r)),t.push(r))}return t=t.join("\n"),t=this.finish(t),t=t.replace(/^\s+\n/,""),t=t.replace(/\n\s+$/,"\n"),t=t.replace(/[ \t]+\n/g,"\n")},Blockly.Generator.prototype.prefixLines=function(e,t){return t+e.replace(/\n(.)/g,"\n"+t+"$1")},Blockly.Generator.prototype.allNestedComments=function(e){var t=[];e=e.getDescendants();for(var o=0;o<e.length;o++){var n=e[o].getCommentText();n&&t.push(n)}return t.length&&t.push(""),t.join("\n")},Blockly.Generator.prototype.blockToCode=function(e){if(!e)return"";if(e.disabled)return this.blockToCode(e.getNextBlock());var t=this[e.type];return goog.asserts.assertFunction(t,'Language "%s" does not know how to generate code for block type "%s".',this.name_,e.type),t=t.call(e,e),goog.isArray(t)?(goog.asserts.assert(e.outputConnection,'Expecting string from statement block "%s".',e.type),[this.scrub_(e,t[0]),t[1]]):goog.isString(t)?(this.STATEMENT_PREFIX&&(t=this.STATEMENT_PREFIX.replace(/%1/g,"'"+e.id+"'")+t),this.scrub_(e,t)):null===t?"":void goog.asserts.fail("Invalid code generated: %s",t)},Blockly.Generator.prototype.valueToCode=function(e,t,o){if(isNaN(o)&&goog.asserts.fail('Expecting valid order from block "%s".',e.type),e=e.getInputTargetBlock(t),!e)return"";var n=this.blockToCode(e);return""===n?"":(goog.asserts.assertArray(n,'Expecting tuple from value block "%s".',e.type),t=n[0],n=n[1],isNaN(n)&&goog.asserts.fail('Expecting valid order from value block "%s".',e.type),t&&n>=o&&(o!=n||0!=o&&99!=o)&&(t="("+t+")"),t)},Blockly.Generator.prototype.statementToCode=function(e,t){var o=e.getInputTargetBlock(t),n=this.blockToCode(o);return goog.asserts.assertString(n,'Expecting code from statement block "%s".',o&&o.type),n&&(n=this.prefixLines(n,this.INDENT)),n},Blockly.Generator.prototype.addLoopTrap=function(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.INFINITE_LOOP_TRAP.replace(/%1/g,"'"+t+"'")+e),this.STATEMENT_PREFIX&&(e+=this.prefixLines(this.STATEMENT_PREFIX.replace(/%1/g,"'"+t+"'"),this.INDENT)),e},Blockly.Generator.prototype.RESERVED_WORDS_="",Blockly.Generator.prototype.addReservedWords=function(e){this.RESERVED_WORDS_+=e+","},Blockly.Generator.prototype.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",Blockly.Generator.prototype.provideFunction_=function(e,t){if(!this.definitions_[e]){var o=this.variableDB_.getDistinctName(e,this.NAME_TYPE);this.functionNames_[e]=o;for(var n,o=t.join("\n").replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,o);n!=o;)n=o,o=o.replace(/^((  )*)  /gm,"$1"+this.INDENT);this.definitions_[e]=o}return this.functionNames_[e]},Blockly.Names=function(e,t){if(this.variablePrefix_=t||"",this.reservedDict_=Object.create(null),e)for(var o=e.split(","),n=0;n<o.length;n++)this.reservedDict_[o[n]]=!0;this.reset()},Blockly.Names.prototype.reset=function(){this.db_=Object.create(null),this.dbReverse_=Object.create(null)},Blockly.Names.prototype.getName=function(e,t){var o=e.toLowerCase()+"_"+t,n=t==Blockly.Variables.NAME_TYPE?this.variablePrefix_:"";if(o in this.db_)return n+this.db_[o];var r=this.getDistinctName(e,t);return this.db_[o]=r.substr(n.length),r},Blockly.Names.prototype.getDistinctName=function(e,t){for(var o=this.safeName_(e),n="";this.dbReverse_[o+n]||o+n in this.reservedDict_;)n=n?n+1:2;return o+=n,this.dbReverse_[o]=!0,(t==Blockly.Variables.NAME_TYPE?this.variablePrefix_:"")+o},Blockly.Names.prototype.safeName_=function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e="unnamed",e},Blockly.Names.equals=function(e,t){return e.toLowerCase()==t.toLowerCase()},Blockly.Procedures={},Blockly.Procedures.NAME_TYPE="PROCEDURE",Blockly.Procedures.allProcedures=function(e){e=e.getAllBlocks();for(var t=[],o=[],n=0;n<e.length;n++)if(e[n].getProcedureDef){var r=e[n].getProcedureDef();r&&(r[2]?t.push(r):o.push(r))}return o.sort(Blockly.Procedures.procTupleComparator_),t.sort(Blockly.Procedures.procTupleComparator_),[o,t]},Blockly.Procedures.procTupleComparator_=function(e,t){return e[0].toLowerCase().localeCompare(t[0].toLowerCase())},Blockly.Procedures.findLegalName=function(e,t){if(t.isInFlyout)return e;for(;!Blockly.Procedures.isLegalName(e,t.workspace,t);){var o=e.match(/^(.*?)(\d+)$/);e=o?o[1]+(parseInt(o[2],10)+1):e+"2"}return e},Blockly.Procedures.isLegalName=function(e,t,o){t=t.getAllBlocks();for(var n=0;n<t.length;n++)if(t[n]!=o&&t[n].getProcedureDef){var r=t[n].getProcedureDef();if(Blockly.Names.equals(r[0],e))return!1}return!0},Blockly.Procedures.rename=function(e){e=e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,""),e=Blockly.Procedures.findLegalName(e,this.sourceBlock_);for(var t=this.sourceBlock_.workspace.getAllBlocks(),o=0;o<t.length;o++)t[o].renameProcedure&&t[o].renameProcedure(this.text_,e);return e},Blockly.Procedures.flyoutCategory=function(e){function t(e,t){for(var n=0;n<e.length;n++){var r=e[n][0],i=e[n][1],s=goog.dom.createDom("block");s.setAttribute("type",t),s.setAttribute("gap",16);var a=goog.dom.createDom("mutation");for(a.setAttribute("name",r),s.appendChild(a),r=0;r<i.length;r++){var l=goog.dom.createDom("arg");l.setAttribute("name",i[r]),a.appendChild(l)}o.push(s)}}var o=[];if(Blockly.Blocks.procedures_defnoreturn){var n=goog.dom.createDom("block");n.setAttribute("type","procedures_defnoreturn"),n.setAttribute("gap",16),o.push(n)}return Blockly.Blocks.procedures_defreturn&&(n=goog.dom.createDom("block"),n.setAttribute("type","procedures_defreturn"),n.setAttribute("gap",16),o.push(n)),Blockly.Blocks.procedures_ifreturn&&(n=goog.dom.createDom("block"),n.setAttribute("type","procedures_ifreturn"),n.setAttribute("gap",16),o.push(n)),o.length&&o[o.length-1].setAttribute("gap",24),e=Blockly.Procedures.allProcedures(e),t(e[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),o},Blockly.Procedures.getCallers=function(e,t){for(var o=[],n=t.getAllBlocks(),r=0;r<n.length;r++)if(n[r].getProcedureCall){var i=n[r].getProcedureCall();i&&Blockly.Names.equals(i,e)&&o.push(n[r])}return o},Blockly.Procedures.disposeCallers=function(e,t){for(var o=Blockly.Procedures.getCallers(e,t),n=0;n<o.length;n++)o[n].dispose(!0,!1)},Blockly.Procedures.mutateCallers=function(e){var t=Blockly.Events.recordUndo,o=e.getProcedureDef()[0],n=e.mutationToDom(!0);e=Blockly.Procedures.getCallers(o,e.workspace);for(var r,o=0;r=e[o];o++){var i=r.mutationToDom(),i=i&&Blockly.Xml.domToText(i);r.domToMutation(n);var s=r.mutationToDom(),s=s&&Blockly.Xml.domToText(s);i!=s&&(Blockly.Events.recordUndo=!1,Blockly.Events.fire(new Blockly.Events.Change(r,"mutation",null,i,s)),Blockly.Events.recordUndo=t)}},Blockly.Procedures.getDefinition=function(e,t){for(var o=t.getAllBlocks(),n=0;n<o.length;n++)if(o[n].getProcedureDef){var r=o[n].getProcedureDef();if(r&&Blockly.Names.equals(r[0],e))return o[n]}return null},Blockly.Flyout=function(e){e.getMetrics=this.getMetrics_.bind(this),e.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Blockly.WorkspaceSvg(e),this.workspace_.isFlyout=!0,this.RTL=!!e.RTL,this.eventWrappers_=[],this.buttons_=[],this.listeners_=[],this.permanentlyDisabled_=[]},Blockly.Flyout.prototype.autoClose=!0,Blockly.Flyout.prototype.CORNER_RADIUS=8,Blockly.Flyout.prototype.SCROLLBAR_PADDING=2,Blockly.Flyout.prototype.width_=0,Blockly.Flyout.prototype.height_=0,Blockly.Flyout.prototype.createDom=function(){return this.svgGroup_=Blockly.createSvgElement("g",{"class":"blocklyFlyout"},null),this.svgBackground_=Blockly.createSvgElement("path",{"class":"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.svgGroup_},Blockly.Flyout.prototype.init=function(e){this.targetWorkspace_=e,this.workspace_.targetWorkspace=e,this.scrollbar_=new Blockly.Scrollbar(this.workspace_,!1,!1),this.hide(),Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEvent_(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper_=this.filterForCapacity_.bind(this),this.targetWorkspace_.addChangeListener(this.filterWrapper_)),Array.prototype.push.apply(this.eventWrappers_,Blockly.bindEvent_(this.svgGroup_,"mousedown",this,this.onMouseDown_))},Blockly.Flyout.prototype.dispose=function(){this.hide(),Blockly.unbindEvent_(this.eventWrappers_),this.filterWrapper_&&(this.targetWorkspace_.removeChangeListener(this.filterWrapper_),this.filterWrapper_=null),this.scrollbar_&&(this.scrollbar_.dispose(),this.scrollbar_=null),this.workspace_&&(this.workspace_.targetWorkspace=null,this.workspace_.dispose(),this.workspace_=null),this.svgGroup_&&(goog.dom.removeNode(this.svgGroup_),this.svgGroup_=null),this.targetWorkspace_=this.svgBackground_=null},Blockly.Flyout.prototype.getMetrics_=function(){if(!this.isVisible())return null;var e=this.height_-2*this.SCROLLBAR_PADDING,t=this.width_;try{var o=this.workspace_.getCanvas().getBBox()}catch(n){o={height:0,y:0}}return{viewHeight:e,viewWidth:t,contentHeight:(o.height+o.y)*this.workspace_.scale,viewTop:-this.workspace_.scrollY,contentTop:0,absoluteTop:this.SCROLLBAR_PADDING,absoluteLeft:0}},Blockly.Flyout.prototype.setMetrics_=function(e){var t=this.getMetrics_();t&&(goog.isNumber(e.y)&&(this.workspace_.scrollY=-t.contentHeight*e.y-t.contentTop),this.workspace_.translate(0,this.workspace_.scrollY+t.absoluteTop))},Blockly.Flyout.prototype.position=function(){if(this.isVisible()){var e=this.targetWorkspace_.getMetrics();if(e){var t=this.width_-this.CORNER_RADIUS;this.RTL&&(t*=-1),this.setBackgroundPath_(t,e.viewHeight),t=e.absoluteLeft,this.RTL&&(t+=e.viewWidth,t-=this.width_),this.svgGroup_.setAttribute("transform","translate("+t+","+e.absoluteTop+")"),this.height_=e.viewHeight,this.scrollbar_&&this.scrollbar_.resize()}}},Blockly.Flyout.prototype.setBackgroundPath_=function(e,t){var o=["M "+(this.RTL?this.width_:0)+",0"];o.push("h",e),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,this.RTL?0:1,this.RTL?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("v",Math.max(0,t-2*this.CORNER_RADIUS)),o.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,this.RTL?0:1,this.RTL?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),o.push("h",-e),o.push("z"),this.svgBackground_.setAttribute("d",o.join(" "))},Blockly.Flyout.prototype.scrollToStart=function(){this.scrollbar_.set(0)},Blockly.Flyout.prototype.wheel_=function(e){var t=e.deltaY;if(t){goog.userAgent.GECKO&&(t*=10);var o=this.getMetrics_(),t=o.viewTop+t,t=Math.min(t,o.contentHeight-o.viewHeight),t=Math.max(t,0);this.scrollbar_.set(t),e.preventDefault(),e.stopPropagation()}},Blockly.Flyout.prototype.isVisible=function(){return this.svgGroup_&&"block"==this.svgGroup_.style.display},Blockly.Flyout.prototype.hide=function(){if(this.isVisible()){this.svgGroup_.style.display="none";for(var e,t=0;e=this.listeners_[t];t++)Blockly.unbindEvent_(e);this.listeners_.length=0,this.reflowWrapper_&&(this.workspace_.removeChangeListener(this.reflowWrapper_),this.reflowWrapper_=null)}},Blockly.Flyout.prototype.show=function(e){this.hide(),this.clearOldBlocks_(),e==Blockly.Variables.NAME_TYPE?e=Blockly.Variables.flyoutCategory(this.workspace_.targetWorkspace):e==Blockly.Procedures.NAME_TYPE&&(e=Blockly.Procedures.flyoutCategory(this.workspace_.targetWorkspace));var t=this.CORNER_RADIUS;this.svgGroup_.style.display="block";for(var o,n=[],r=[],i=this.permanentlyDisabled_.length=0;o=e[i];i++)if(o.tagName&&"BLOCK"==o.tagName.toUpperCase()){var s=Blockly.Xml.domToBlock(o,this.workspace_);s.disabled&&this.permanentlyDisabled_.push(s),n.push(s),o=parseInt(o.getAttribute("gap"),10),r.push(isNaN(o)?3*t:o)}this.layoutBlocks_(n,r,t),this.listeners_.push(Blockly.bindEvent_(this.svgBackground_,"mouseover",this,function(e){e=this.workspace_.getTopBlocks(!1);for(var t,o=0;t=e[o];o++)t.removeSelect()})),this.width_=0,this.reflow(),this.filterForCapacity_(),Blockly.fireUiEventNow(window,"resize"),this.reflowWrapper_=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper_)},Blockly.Flyout.prototype.layoutBlocks_=function(e,t,o){for(var n,r=o,i=0;n=e[i];i++){for(var s,a=n.getDescendants(),l=0;s=a[l];l++)s.isInFlyout=!0;
n.render(),a=n.getSvgRoot(),l=n.getHeightWidth(),n.moveBy(this.RTL?0:o/this.workspace_.scale+Blockly.BlockSvg.TAB_WIDTH,r),r+=l.height+t[i],l=Blockly.createSvgElement("rect",{"fill-opacity":0},null),l.tooltip=n,Blockly.Tooltip.bindMouseEvents(l),this.workspace_.getCanvas().insertBefore(l,n.getSvgRoot()),n.flyoutRect_=l,this.buttons_[i]=l,this.addBlockListeners_(a,n,l)}},Blockly.Flyout.prototype.clearOldBlocks_=function(){for(var e,t=this.workspace_.getTopBlocks(!1),o=0;e=t[o];o++)e.workspace==this.workspace_&&e.dispose(!1,!1);for(t=0;o=this.buttons_[t];t++)goog.dom.removeNode(o);this.buttons_.length=0},Blockly.Flyout.prototype.addBlockListeners_=function(e,t,o){this.autoClose?(this.listeners_.push(Blockly.bindEvent_(e,"mousedown",null,this.createBlockFunc_(t))),this.listeners_.push(Blockly.bindEvent_(o,"mousedown",null,this.createBlockFunc_(t)))):(this.listeners_.push(Blockly.bindEvent_(e,"mousedown",null,this.blockMouseDown_(t))),this.listeners_.push(Blockly.bindEvent_(o,"mousedown",null,this.blockMouseDown_(t)))),this.listeners_.push(Blockly.bindEvent_(e,"mouseover",t,t.addSelect)),this.listeners_.push(Blockly.bindEvent_(e,"mouseout",t,t.removeSelect)),this.listeners_.push(Blockly.bindEvent_(o,"mouseover",t,t.addSelect)),this.listeners_.push(Blockly.bindEvent_(o,"mouseout",t,t.removeSelect))},Blockly.Flyout.prototype.reflow=function(){this.workspace_.scale=this.targetWorkspace_.scale;for(var e,t=0,o=this.CORNER_RADIUS,n=this.workspace_.getTopBlocks(!1),r=0;e=n[r];r++){var i=e.getHeightWidth().width;e.outputConnection&&(i-=Blockly.BlockSvg.TAB_WIDTH),t=Math.max(t,i)}if(t+=Blockly.BlockSvg.TAB_WIDTH,t*=this.workspace_.scale,t+=1.5*o+Blockly.Scrollbar.scrollbarThickness,this.width_!=t){for(r=0;e=n[r];r++){if(i=e.getHeightWidth(),this.RTL){var s=e.getRelativeToSurfaceXY().x,a=t-o,a=a/this.workspace_.scale,a=a-Blockly.BlockSvg.TAB_WIDTH;e.moveBy(a-s,0)}e.flyoutRect_&&(e.flyoutRect_.setAttribute("width",i.width),e.flyoutRect_.setAttribute("height",i.height),a=e.outputConnection?Blockly.BlockSvg.TAB_WIDTH:0,s=e.getRelativeToSurfaceXY(),e.flyoutRect_.setAttribute("x",this.RTL?s.x-i.width+a:s.x-a),(i=e.startHat_?Blockly.BlockSvg.START_HAT_HEIGHT:0)&&e.moveBy(0,i),e.flyoutRect_.setAttribute("y",s.y))}this.width_=t,Blockly.fireUiEvent(window,"resize")}},Blockly.Flyout.prototype.blockMouseDown_=function(e){var t=this;return function(o){Blockly.terminateDrag_(),Blockly.hideChaff(),Blockly.isRightButton(o)?e.showContextMenu_(o):(Blockly.Css.setCursor(Blockly.Css.Cursor.CLOSED),Blockly.Flyout.startDownEvent_=o,Blockly.Flyout.startBlock_=e,Blockly.Flyout.startFlyout_=t,Blockly.Flyout.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,t.onMouseUp_),Blockly.Flyout.onMouseMoveBlockWrapper_=Blockly.bindEvent_(document,"mousemove",this,t.onMouseMoveBlock_)),o.stopPropagation()}},Blockly.Flyout.prototype.onMouseDown_=function(e){Blockly.isRightButton(e)||(Blockly.hideChaff(!0),Blockly.Flyout.terminateDrag_(),this.startDragMouseY_=e.clientY,Blockly.Flyout.onMouseMoveWrapper_=Blockly.bindEvent_(document,"mousemove",this,this.onMouseMove_),Blockly.Flyout.onMouseUpWrapper_=Blockly.bindEvent_(document,"mouseup",this,Blockly.Flyout.terminateDrag_),e.preventDefault(),e.stopPropagation())},Blockly.Flyout.prototype.onMouseUp_=function(e){Blockly.dragMode_==Blockly.DRAG_FREE||Blockly.WidgetDiv.isVisible()||Blockly.Events.fire(new Blockly.Events.Ui(Blockly.Flyout.startBlock_,"click",void 0,void 0)),Blockly.terminateDrag_()},Blockly.Flyout.prototype.onMouseMove_=function(e){var t=e.clientY-this.startDragMouseY_;this.startDragMouseY_=e.clientY,e=this.getMetrics_(),t=e.viewTop-t,t=Math.min(t,e.contentHeight-e.viewHeight),t=Math.max(t,0),this.scrollbar_.set(t)},Blockly.Flyout.prototype.onMouseMoveBlock_=function(e){if("mousemove"==e.type&&1>=e.clientX&&0==e.clientY&&0==e.button)e.stopPropagation();else{var t=e.clientX-Blockly.Flyout.startDownEvent_.clientX;e=e.clientY-Blockly.Flyout.startDownEvent_.clientY,Math.sqrt(t*t+e*e)>Blockly.DRAG_RADIUS&&Blockly.Flyout.startFlyout_.createBlockFunc_(Blockly.Flyout.startBlock_)(Blockly.Flyout.startDownEvent_)}},Blockly.Flyout.prototype.createBlockFunc_=function(e){var t=this,o=this.targetWorkspace_;return function(n){if(!Blockly.isRightButton(n)&&!e.disabled){Blockly.Events.disable();var r=t.placeNewBlock_(e,o);Blockly.Events.enable(),Blockly.Events.isEnabled()&&(Blockly.Events.setGroup(!0),Blockly.Events.fire(new Blockly.Events.Create(r))),t.autoClose?t.hide():t.filterForCapacity_(),r.onMouseDown_(n),Blockly.dragMode_=Blockly.DRAG_FREE,r.setDragging_(!0)}}},Blockly.Flyout.prototype.placeNewBlock_=function(e,t){var o=Blockly.Xml.blockToDom(e),o=Blockly.Xml.domToBlock(o,t),n=e.getSvgRoot();if(!n)throw"originBlock is not rendered.";if(n=Blockly.getSvgXY_(n,t),this.RTL){var r=t.getMetrics().viewWidth-this.width_;n.x+=r/t.scale-r}else n.x+=this.workspace_.scrollX/this.workspace_.scale-this.workspace_.scrollX;if(n.y+=this.workspace_.scrollY/this.workspace_.scale-this.workspace_.scrollY,r=o.getSvgRoot(),!r)throw"block is not rendered.";return r=Blockly.getSvgXY_(r,t),r.x+=t.scrollX/t.scale-t.scrollX,r.y+=t.scrollY/t.scale-t.scrollY,t.toolbox_&&!t.scrollbar&&(r.x+=t.toolbox_.width/t.scale),o.moveBy(n.x-r.x,n.y-r.y),o},Blockly.Flyout.prototype.filterForCapacity_=function(){for(var e,t=this.targetWorkspace_.remainingCapacity(),o=this.workspace_.getTopBlocks(!1),n=0;e=o[n];n++)if(-1==this.permanentlyDisabled_.indexOf(e)){var r=e.getDescendants();e.setDisabled(r.length>t)}},Blockly.Flyout.prototype.getClientRect=function(){var e=this.svgGroup_.getBoundingClientRect();if(this.RTL){var t=e.left+e.width+1e9;return new goog.math.Rect(e.left,-1e9,t,2e9)}return t=1e9+e.width+e.left,new goog.math.Rect(-1e9,-1e9,t,2e9)},Blockly.Flyout.terminateDrag_=function(){Blockly.Flyout.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseUpWrapper_),Blockly.Flyout.onMouseUpWrapper_=null),Blockly.Flyout.onMouseMoveBlockWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseMoveBlockWrapper_),Blockly.Flyout.onMouseMoveBlockWrapper_=null),Blockly.Flyout.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseMoveWrapper_),Blockly.Flyout.onMouseMoveWrapper_=null),Blockly.Flyout.onMouseUpWrapper_&&(Blockly.unbindEvent_(Blockly.Flyout.onMouseUpWrapper_),Blockly.Flyout.onMouseUpWrapper_=null),Blockly.Flyout.startDownEvent_=null,Blockly.Flyout.startBlock_=null,Blockly.Flyout.startFlyout_=null},Blockly.Toolbox=function(e){this.workspace_=e},Blockly.Toolbox.prototype.width=0,Blockly.Toolbox.prototype.selectedOption_=null,Blockly.Toolbox.prototype.lastCategory_=null,Blockly.Toolbox.prototype.CONFIG_={indentWidth:19,cssRoot:"blocklyTreeRoot",cssHideRoot:"blocklyHidden",cssItem:"",cssTreeRow:"blocklyTreeRow",cssItemLabel:"blocklyTreeLabel",cssTreeIcon:"blocklyTreeIcon",cssExpandedFolderIcon:"blocklyTreeIconOpen",cssFileIcon:"blocklyTreeIconNone",cssSelectedRow:"blocklyTreeSelected"},Blockly.Toolbox.prototype.init=function(){var e=this.workspace_;this.HtmlDiv=goog.dom.createDom("div","blocklyToolboxDiv"),this.HtmlDiv.setAttribute("dir",e.RTL?"RTL":"LTR"),document.body.appendChild(this.HtmlDiv),Blockly.bindEvent_(this.HtmlDiv,"mousedown",this,function(e){Blockly.isRightButton(e)||e.target==this.HtmlDiv?Blockly.hideChaff(!1):Blockly.hideChaff(!0)}),this.flyout_=new Blockly.Flyout({disabledPatternId:e.options.disabledPatternId,parentWorkspace:e,RTL:e.RTL}),goog.dom.insertSiblingAfter(this.flyout_.createDom(),e.svgGroup_),this.flyout_.init(e),this.CONFIG_.cleardotPath=e.options.pathToMedia+"1x1.gif",this.CONFIG_.cssCollapsedFolderIcon="blocklyTreeIconClosed"+(e.RTL?"Rtl":"Ltr");var t=new Blockly.Toolbox.TreeControl(this,this.CONFIG_);this.tree_=t,t.setShowRootNode(!1),t.setShowLines(!1),t.setShowExpandIcons(!1),t.setSelectedItem(null),this.populate_(e.options.languageTree),t.render(this.HtmlDiv),this.addColour_(),this.position()},Blockly.Toolbox.prototype.dispose=function(){this.flyout_.dispose(),this.tree_.dispose(),goog.dom.removeNode(this.HtmlDiv),this.lastCategory_=this.workspace_=null},Blockly.Toolbox.prototype.position=function(){var e=this.HtmlDiv;if(e){var t=this.workspace_.getParentSvg(),o=goog.style.getPageOffset(t),t=Blockly.svgSize(t);e.style.left=this.workspace_.RTL?o.x+t.width-e.offsetWidth+"px":o.x+"px",e.style.height=t.height+"px",e.style.top=o.y+"px",this.width=e.offsetWidth,this.workspace_.RTL||--this.width,this.flyout_.position()}},Blockly.Toolbox.prototype.populate_=function(e){function t(e,r){for(var i,s=null,a=0;i=e.childNodes[a];a++)if(i.tagName)switch(i.tagName.toUpperCase()){case"CATEGORY":s=o.createNode(i.getAttribute("name")),s.blocks=[],r.add(s);var l=i.getAttribute("custom");l?s.blocks=l:t(i,s),l=i.getAttribute("colour"),goog.isString(l)?(l.match(/^#[0-9a-fA-F]{6}$/)?s.hexColour=l:s.hexColour=Blockly.hueToRgb(l),n=!0):s.hexColour="","true"==i.getAttribute("expanded")?(s.blocks.length&&o.setSelectedItem(s),s.setExpanded(!0)):s.setExpanded(!1),s=i;break;case"SEP":s&&("CATEGORY"==s.tagName.toUpperCase()?r.add(new Blockly.Toolbox.TreeSeparator):(i=parseFloat(i.getAttribute("gap")),isNaN(i)||(l=parseFloat(s.getAttribute("gap")),i=isNaN(l)?i:l+i,s.setAttribute("gap",i))));break;case"BLOCK":case"SHADOW":r.blocks.push(i),s=i}}var o=this.tree_;o.removeChildren(),o.blocks=[];var n=!1;if(t(e,this.tree_),this.hasColours_=n,o.blocks.length)throw"Toolbox cannot have both blocks and categories in the root level.";Blockly.fireUiEvent(window,"resize")},Blockly.Toolbox.prototype.addColour_=function(e){e=(e||this.tree_).getChildren();for(var t,o=0;t=e[o];o++){var n=t.getRowElement();if(n){var r=this.hasColours_?"8px solid "+(t.hexColour||"#ddd"):"none";this.workspace_.RTL?n.style.borderRight=r:n.style.borderLeft=r}this.addColour_(t)}},Blockly.Toolbox.prototype.clearSelection=function(){this.tree_.setSelectedItem(null)},Blockly.Toolbox.prototype.getClientRect=function(){var e=this.HtmlDiv.getBoundingClientRect();if(this.workspace_.RTL){var t=e.left+e.width+1e7;return new goog.math.Rect(e.left,-1e7,t,2e7)}return t=1e7+e.width+e.left,new goog.math.Rect(-1e7,-1e7,t,2e7)},Blockly.Toolbox.TreeControl=function(e,t){this.toolbox_=e,goog.ui.tree.TreeControl.call(this,goog.html.SafeHtml.EMPTY,t)},goog.inherits(Blockly.Toolbox.TreeControl,goog.ui.tree.TreeControl),Blockly.Toolbox.TreeControl.prototype.enterDocument=function(){if(Blockly.Toolbox.TreeControl.superClass_.enterDocument.call(this),goog.events.BrowserFeature.TOUCH_ENABLED){var e=this.getElement();Blockly.bindEvent_(e,goog.events.EventType.TOUCHSTART,this,this.handleTouchEvent_)}},Blockly.Toolbox.TreeControl.prototype.handleTouchEvent_=function(e){e.preventDefault();var t=this.getNodeFromEvent_(e);t&&e.type===goog.events.EventType.TOUCHSTART&&setTimeout(function(){t.onMouseDown(e)},1)},Blockly.Toolbox.TreeControl.prototype.createNode=function(e){return new Blockly.Toolbox.TreeNode(this.toolbox_,e?goog.html.SafeHtml.htmlEscape(e):goog.html.SafeHtml.EMPTY,this.getConfig(),this.getDomHelper())},Blockly.Toolbox.TreeControl.prototype.setSelectedItem=function(e){var t=this.toolbox_;if(e!=this.selectedItem_&&e!=t.tree_){if(t.lastCategory_&&(t.lastCategory_.getRowElement().style.backgroundColor=""),e){var o=e.hexColour||"#57e";e.getRowElement().style.backgroundColor=o,t.addColour_(e)}o=this.getSelectedItem(),goog.ui.tree.TreeControl.prototype.setSelectedItem.call(this,e),e&&e.blocks&&e.blocks.length?(t.flyout_.show(e.blocks),t.lastCategory_!=e&&t.flyout_.scrollToStart()):t.flyout_.hide(),o!=e&&o!=this&&(o=new Blockly.Events.Ui(null,"category",o&&o.getHtml(),e&&e.getHtml()),o.workspaceId=t.workspace_.id,Blockly.Events.fire(o)),e&&(t.lastCategory_=e)}},Blockly.Toolbox.TreeNode=function(e,t,o,n){goog.ui.tree.TreeNode.call(this,t,o,n),e&&(t=function(){Blockly.fireUiEvent(window,"resize")},goog.events.listen(e.tree_,goog.ui.tree.BaseNode.EventType.EXPAND,t),goog.events.listen(e.tree_,goog.ui.tree.BaseNode.EventType.COLLAPSE,t))},goog.inherits(Blockly.Toolbox.TreeNode,goog.ui.tree.TreeNode),Blockly.Toolbox.TreeNode.prototype.getExpandIconSafeHtml=function(){return goog.html.SafeHtml.create("span")},Blockly.Toolbox.TreeNode.prototype.onMouseDown=function(e){this.hasChildren()&&this.isUserCollapsible_?(this.toggle(),this.select()):this.isSelected()?this.getTree().setSelectedItem(null):this.select(),this.updateRow()},Blockly.Toolbox.TreeNode.prototype.onDoubleClick_=function(e){},Blockly.Toolbox.TreeSeparator=function(){Blockly.Toolbox.TreeNode.call(this,null,"",Blockly.Toolbox.TreeSeparator.CONFIG_)},goog.inherits(Blockly.Toolbox.TreeSeparator,Blockly.Toolbox.TreeNode),Blockly.Toolbox.TreeSeparator.CONFIG_={cssTreeRow:"blocklyTreeSeparator"},Blockly.Css={},Blockly.Css.Cursor={OPEN:"handopen",CLOSED:"handclosed",DELETE:"handdelete"},Blockly.Css.currentCursor_="",Blockly.Css.styleSheet_=null,Blockly.Css.mediaPath_="",Blockly.Css.inject=function(e,t){if(!Blockly.Css.styleSheet_){var o=".blocklyDraggable {}\n";e&&(o+=Blockly.Css.CONTENT.join("\n"),Blockly.FieldDate&&(o+=Blockly.FieldDate.CSS.join("\n"))),Blockly.Css.mediaPath_=t.replace(/[\\\/]$/,"");var o=o.replace(/<<<PATH>>>/g,Blockly.Css.mediaPath_),n=document.createElement("style");document.head.appendChild(n),o=document.createTextNode(o),n.appendChild(o),Blockly.Css.styleSheet_=n.sheet,Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN)}},Blockly.Css.setCursor=function(e){if(Blockly.Css.currentCursor_!=e){Blockly.Css.currentCursor_=e;var t="url("+Blockly.Css.mediaPath_+"/"+e+".cur), auto",o=".blocklyDraggable {\n  cursor: "+t+";\n}\n";Blockly.Css.styleSheet_.deleteRule(0),Blockly.Css.styleSheet_.insertRule(o,0);for(var n,o=document.getElementsByClassName("blocklyToolboxDiv"),r=0;n=o[r];r++)n.style.cursor=e==Blockly.Css.Cursor.DELETE?t:"";document.body.parentNode.style.cursor=e==Blockly.Css.Cursor.OPEN?"":t}},Blockly.Css.CONTENT=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 999;","}",".blocklyNonSelectable {","user-select: none;","-moz-user-select: none;","-webkit-user-select: none;","-ms-user-select: none;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);","color: #000;","display: none;","font-family: sans-serif;","font-size: 9pt;","opacity: 0.9;","padding: 2px;","position: absolute;","z-index: 1000;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #888;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;","}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;","}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyText {","cursor: default;","fill: #fff;","font-family: sans-serif;","font-size: 11pt;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyNonEditableText>rect,",".blocklyEditableText>rect {","fill: #fff;","fill-opacity: .6;","}",".blocklyNonEditableText>text,",".blocklyEditableText>text {","fill: #000;","}",".blocklyEditableText:hover>rect {","stroke: #fff;","stroke-width: 2;","}",".blocklyBubbleText {","fill: #000;","}",".blocklySvg text {","user-select: none;","-moz-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {","margin: 0;","padding: 0;","}",".blocklyCommentTextarea {","background-color: #ffc;","border: 0;","margin: 0;","padding: 2px;","resize: none;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","font-family: sans-serif;","height: 100%;","margin: 0;","outline: none;","padding: 0 1px;","width: 100%","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarKnob {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarKnob,",".blocklyScrollbarKnob:hover {","fill: #bbb;","}",".blocklyZoom>image {","opacity: .4;","}",".blocklyZoom>image:hover {","opacity: .6;","}",".blocklyZoom>image:active {","opacity: .8;","}",".blocklyFlyout .blocklyScrollbarKnob {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarKnob,",".blocklyFlyout .blocklyScrollbarKnob:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyAngleCircle {","stroke: #444;","stroke-width: 1;","fill: #ddd;","fill-opacity: .8;","}",".blocklyAngleMarks {","stroke: #444;","stroke-width: 1;","}",".blocklyAngleGauge {","fill: #f88;","fill-opacity: .8;","}",".blocklyAngleLine {","stroke: #f00;","stroke-width: 2;","stroke-linecap: round;","}",".blocklyContextMenu {","border-radius: 4px;","}",".blocklyDropdownMenu {","padding: 0 !important;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px !important;","}",".blocklyToolboxDiv {","background-color: #ddd;","overflow-x: visible;","overflow-y: auto;","position: absolute;","}",".blocklyTreeRoot {","padding: 4px 0;","}",".blocklyTreeRoot:focus {","outline: none;","}",".blocklyTreeRow {","height: 22px;","line-height: 22px;","margin-bottom: 3px;","padding-right: 8px;","white-space: nowrap;","}",'.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {',"margin-left: 8px;","}",".blocklyTreeRow:not(.blocklyTreeSelected):hover {","background-color: #e4e4e4;","}",".blocklyTreeSeparator {","border-bottom: solid #e5e5e5 1px;","height: 0px;","margin: 5px 0;","}",".blocklyTreeIcon {","background-image: url(<<<PATH>>>/sprites.png);","height: 16px;","vertical-align: middle;","width: 16px;","}",".blocklyTreeIconClosedLtr {","background-position: -32px -1px;","}",".blocklyTreeIconClosedRtl {","background-position: 0px -1px;","}",".blocklyTreeIconOpen {","background-position: -16px -1px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedLtr {","background-position: -32px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconClosedRtl {","background-position: 0px -17px;","}",".blocklyTreeSelected>.blocklyTreeIconOpen {","background-position: -16px -17px;","}",".blocklyTreeIconNone,",".blocklyTreeSelected>.blocklyTreeIconNone {","background-position: -48px -1px;","}",".blocklyTreeLabel {","cursor: default;","font-family: sans-serif;","font-size: 16px;","padding: 0 3px;","vertical-align: middle;","}",".blocklyTreeSelected .blocklyTreeLabel {","color: #fff;","}",".blocklyWidgetDiv .goog-palette {","outline: none;","cursor: default;","}",".blocklyWidgetDiv .goog-palette-table {","border: 1px solid #666;","border-collapse: collapse;","}",".blocklyWidgetDiv .goog-palette-cell {","height: 13px;","width: 15px;","margin: 0;","border: 0;","text-align: center;","vertical-align: middle;","border-right: 1px solid #666;","font-size: 1px;","}",".blocklyWidgetDiv .goog-palette-colorswatch {","position: relative;","height: 13px;","width: 15px;","border: 1px solid #666;","}",".blocklyWidgetDiv .goog-palette-cell-hover .goog-palette-colorswatch {","border: 1px solid #FFF;","}",".blocklyWidgetDiv .goog-palette-cell-selected .goog-palette-colorswatch {","border: 1px solid #000;","color: #fff;","}",".blocklyWidgetDiv .goog-menu {","background: #fff;","border-color: #ccc #666 #666 #ccc;","border-style: solid;","border-width: 1px;","cursor: default;","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .goog-menuitem {","color: #000;","font: normal 13px Arial, sans-serif;","list-style: none;","margin: 0;","padding: 4px 7em 4px 28px;","white-space: nowrap;","}",".blocklyWidgetDiv .goog-menuitem.goog-menuitem-rtl {","padding-left: 7em;","padding-right: 28px;","}",".blocklyWidgetDiv .goog-menu-nocheckbox .goog-menuitem,",".blocklyWidgetDiv .goog-menu-noicon .goog-menuitem {","padding-left: 12px;","}",".blocklyWidgetDiv .goog-menu-noaccel .goog-menuitem {","padding-right: 20px;","}",".blocklyWidgetDiv .goog-menuitem-content {","color: #000;","font: normal 13px Arial, sans-serif;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-accel,",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-content {","color: #ccc !important;","}",".blocklyWidgetDiv .goog-menuitem-disabled .goog-menuitem-icon {","opacity: 0.3;","-moz-opacity: 0.3;","filter: alpha(opacity=30);","}",".blocklyWidgetDiv .goog-menuitem-highlight,",".blocklyWidgetDiv .goog-menuitem-hover {","background-color: #d6e9f8;","border-color: #d6e9f8;","border-style: dotted;","border-width: 1px 0;","padding-bottom: 3px;","padding-top: 3px;","}",".blocklyWidgetDiv .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-icon {","background-repeat: no-repeat;","height: 16px;","left: 6px;","position: absolute;","right: auto;","vertical-align: middle;","width: 16px;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-icon {","left: auto;","right: 6px;","}",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-checkbox,",".blocklyWidgetDiv .goog-option-selected .goog-menuitem-icon {","background: url(//ssl.gstatic.com/editor/editortoolbar.png) no-repeat -512px 0;","}",".blocklyWidgetDiv .goog-menuitem-accel {","color: #999;","direction: ltr;","left: auto;","padding: 0 6px;","position: absolute;","right: 0;","text-align: right;","}",".blocklyWidgetDiv .goog-menuitem-rtl .goog-menuitem-accel {","left: 0;","right: auto;","text-align: left;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-hint {","text-decoration: underline;","}",".blocklyWidgetDiv .goog-menuitem-mnemonic-separator {","color: #999;","font-size: 12px;","padding-left: 4px;","}",".blocklyWidgetDiv .goog-menuseparator {","border-top: 1px solid #ccc;","margin: 4px 0;","padding: 0;","}",""],Blockly.WidgetDiv={},Blockly.WidgetDiv.DIV=null,Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.dispose_=null,Blockly.WidgetDiv.createDom=function(){Blockly.WidgetDiv.DIV||(Blockly.WidgetDiv.DIV=goog.dom.createDom("div","blocklyWidgetDiv"),document.body.appendChild(Blockly.WidgetDiv.DIV))},Blockly.WidgetDiv.show=function(e,t,o){Blockly.WidgetDiv.hide(),Blockly.WidgetDiv.owner_=e,Blockly.WidgetDiv.dispose_=o,e=goog.style.getViewportPageOffset(document),Blockly.WidgetDiv.DIV.style.top=e.y+"px",Blockly.WidgetDiv.DIV.style.direction=t?"rtl":"ltr",Blockly.WidgetDiv.DIV.style.display="block"},Blockly.WidgetDiv.hide=function(){Blockly.WidgetDiv.owner_&&(Blockly.WidgetDiv.owner_=null,Blockly.WidgetDiv.DIV.style.display="none",Blockly.WidgetDiv.DIV.style.left="",Blockly.WidgetDiv.DIV.style.top="",Blockly.WidgetDiv.DIV.style.height="",Blockly.WidgetDiv.dispose_&&Blockly.WidgetDiv.dispose_(),Blockly.WidgetDiv.dispose_=null,goog.dom.removeChildren(Blockly.WidgetDiv.DIV))},Blockly.WidgetDiv.isVisible=function(){return!!Blockly.WidgetDiv.owner_},Blockly.WidgetDiv.hideIfOwner=function(e){Blockly.WidgetDiv.owner_==e&&Blockly.WidgetDiv.hide()},Blockly.WidgetDiv.position=function(e,t,o,n,r){t<n.y&&(t=n.y),r?e>o.width+n.x&&(e=o.width+n.x):e<n.x&&(e=n.x),Blockly.WidgetDiv.DIV.style.left=e+"px",Blockly.WidgetDiv.DIV.style.top=t+"px",Blockly.WidgetDiv.DIV.style.height=o.height-t+n.y+"px"},Blockly.constants={},Blockly.DRAG_RADIUS=5,Blockly.SNAP_RADIUS=20,Blockly.BUMP_DELAY=250,Blockly.COLLAPSE_CHARS=30,Blockly.LONGPRESS=750,Blockly.HSV_SATURATION=.45,Blockly.HSV_VALUE=.65,Blockly.SPRITE={width:96,height:124,url:"sprites.png"},Blockly.SVG_NS="http://www.w3.org/2000/svg",Blockly.HTML_NS="http://www.w3.org/1999/xhtml",Blockly.INPUT_VALUE=1,Blockly.OUTPUT_VALUE=2,Blockly.NEXT_STATEMENT=3,Blockly.PREVIOUS_STATEMENT=4,Blockly.DUMMY_INPUT=5,Blockly.ALIGN_LEFT=-1,Blockly.ALIGN_CENTRE=0,Blockly.ALIGN_RIGHT=1,Blockly.DRAG_NONE=0,Blockly.DRAG_STICKY=1,Blockly.DRAG_FREE=2,Blockly.OPPOSITE_TYPE=[],Blockly.OPPOSITE_TYPE[Blockly.INPUT_VALUE]=Blockly.OUTPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.OUTPUT_VALUE]=Blockly.INPUT_VALUE,Blockly.OPPOSITE_TYPE[Blockly.NEXT_STATEMENT]=Blockly.PREVIOUS_STATEMENT,Blockly.OPPOSITE_TYPE[Blockly.PREVIOUS_STATEMENT]=Blockly.NEXT_STATEMENT,Blockly.inject=function(e,t){if(goog.isString(e)&&(e=document.getElementById(e)||document.querySelector(e)),!goog.dom.contains(document,e))throw"Error: container is not in current document.";var o=new Blockly.Options(t||{}),n=Blockly.createDom_(e,o),o=Blockly.createMainWorkspace_(n,o);return Blockly.init_(o),o.markFocused(),Blockly.bindEvent_(n,"focus",o,o.markFocused),o},Blockly.createDom_=function(e,t){e.setAttribute("dir","LTR"),goog.ui.Component.setDefaultRightToLeft(t.RTL),Blockly.Css.inject(t.hasCss,t.pathToMedia);var o=Blockly.createSvgElement("svg",{xmlns:"http://www.w3.org/2000/svg","xmlns:html":"http://www.w3.org/1999/xhtml","xmlns:xlink":"http://www.w3.org/1999/xlink",version:"1.1","class":"blocklySvg"},e),n=Blockly.createSvgElement("defs",{},o),r=String(Math.random()).substring(2),i=Blockly.createSvgElement("filter",{id:"blocklyEmbossFilter"+r},n);Blockly.createSvgElement("feGaussianBlur",{"in":"SourceAlpha",stdDeviation:1,result:"blur"},i);var s=Blockly.createSvgElement("feSpecularLighting",{"in":"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},i);return Blockly.createSvgElement("fePointLight",{x:-5e3,y:-1e4,z:2e4},s),Blockly.createSvgElement("feComposite",{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},i),Blockly.createSvgElement("feComposite",{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},i),t.embossFilterId=i.id,i=Blockly.createSvgElement("pattern",{id:"blocklyDisabledPattern"+r,patternUnits:"userSpaceOnUse",width:10,height:10},n),Blockly.createSvgElement("rect",{width:10,height:10,fill:"#aaa"},i),Blockly.createSvgElement("path",{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},i),t.disabledPatternId=i.id,n=Blockly.createSvgElement("pattern",{id:"blocklyGridPattern"+r,patternUnits:"userSpaceOnUse"},n),0<t.gridOptions.length&&0<t.gridOptions.spacing&&(Blockly.createSvgElement("line",{stroke:t.gridOptions.colour},n),1<t.gridOptions.length&&Blockly.createSvgElement("line",{stroke:t.gridOptions.colour},n)),t.gridPattern=n,o},Blockly.createMainWorkspace_=function(e,t){t.parentWorkspace=null,t.getMetrics=Blockly.getMainWorkspaceMetrics_,t.setMetrics=Blockly.setMainWorkspaceMetrics_;var o=new Blockly.WorkspaceSvg(t);return o.scale=t.zoomOptions.startScale,e.appendChild(o.createDom("blocklyMainBackground")),o.translate(0,0),o.markFocused(),t.readOnly||t.hasScrollbars||o.addChangeListener(function(){if(Blockly.dragMode_==Blockly.DRAG_NONE){var e=o.getMetrics(),n=e.viewLeft+e.absoluteLeft,r=e.viewTop+e.absoluteTop;if(e.contentTop<r||e.contentTop+e.contentHeight>e.viewHeight+r||e.contentLeft<(t.RTL?e.viewLeft:n)||e.contentLeft+e.contentWidth>(t.RTL?e.viewWidth:e.viewWidth+n))for(var i,s=o.getTopBlocks(!1),a=0;i=s[a];a++){var l=i.getRelativeToSurfaceXY(),g=i.getHeightWidth(),c=r+25-g.height-l.y;c>0&&i.moveBy(0,c),c=r+e.viewHeight-25-l.y,0>c&&i.moveBy(0,c),c=25+n-l.x-(t.RTL?0:g.width),c>0&&i.moveBy(c,0),c=n+e.viewWidth-25-l.x+(t.RTL?g.width:0),0>c&&i.moveBy(c,0)}}}),Blockly.svgResize(o),Blockly.WidgetDiv.createDom(),Blockly.Tooltip.createDom(),o},Blockly.init_=function(e){var t=e.options,o=e.getParentSvg();Blockly.bindEvent_(o,"contextmenu",null,function(e){Blockly.isTargetInput_(e)||e.preventDefault()}),Blockly.bindEvent_(window,"resize",null,function(){Blockly.svgResize(e)}),Blockly.inject.bindDocumentEvents_(),t.languageTree&&(e.toolbox_?e.toolbox_.init(e):e.flyout_&&(e.flyout_.init(e),e.flyout_.show(t.languageTree.childNodes),e.scrollX=e.flyout_.width_,t.RTL&&(e.scrollX*=-1),e.translate(e.scrollX,0))),t.hasScrollbars&&(e.scrollbar=new Blockly.ScrollbarPair(e),e.scrollbar.resize()),t.hasSounds&&Blockly.inject.loadSounds_(t.pathToMedia,e)},Blockly.inject.bindDocumentEvents_=function(){Blockly.documentEventsBound_||(Blockly.bindEvent_(document,"keydown",null,Blockly.onKeyDown_),Blockly.bindEvent_(document,"touchend",null,Blockly.longStop_),Blockly.bindEvent_(document,"touchcancel",null,Blockly.longStop_),document.addEventListener("mouseup",Blockly.onMouseUp_,!1),goog.userAgent.IPAD&&Blockly.bindEvent_(window,"orientationchange",document,function(){Blockly.fireUiEvent(window,"resize")})),Blockly.documentEventsBound_=!0},Blockly.inject.loadSounds_=function(e,t){t.loadAudio_([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),t.loadAudio_([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),t.loadAudio_([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var o=[],n=function(){for(;o.length;)Blockly.unbindEvent_(o.pop());t.preloadAudio_()};o.push(Blockly.bindEvent_(document,"mousemove",null,n)),o.push(Blockly.bindEvent_(document,"touchstart",null,n))},Blockly.updateToolbox=function(e){console.warn("Deprecated call to Blockly.updateToolbox, use workspace.updateToolbox instead."),Blockly.getMainWorkspace().updateToolbox(e)},Blockly.utils={},Blockly.addClass_=function(e,t){var o=e.getAttribute("class")||"";-1==(" "+o+" ").indexOf(" "+t+" ")&&(o&&(o+=" "),e.setAttribute("class",o+t))},Blockly.removeClass_=function(e,t){var o=e.getAttribute("class");if(-1!=(" "+o+" ").indexOf(" "+t+" ")){for(var o=o.split(/\s+/),n=0;n<o.length;n++)o[n]&&o[n]!=t||(o.splice(n,1),n--);o.length?e.setAttribute("class",o.join(" ")):e.removeAttribute("class")}},Blockly.hasClass_=function(e,t){return-1!=(" "+e.getAttribute("class")+" ").indexOf(" "+t+" ")},Blockly.bindEvent_=function(e,t,o,n){var r=o?function(e){n.call(o,e)}:n;e.addEventListener(t,r,!1);var i=[[e,t,r]];if(t in Blockly.bindEvent_.TOUCH_MAP)for(var s,r=function(e){if(1==e.changedTouches.length){var t=e.changedTouches[0];e.clientX=t.clientX,e.clientY=t.clientY}n.call(o,e),e.preventDefault()},a=0;s=Blockly.bindEvent_.TOUCH_MAP[t][a];a++)e.addEventListener(s,r,!1),i.push([e,s,r]);return i},Blockly.bindEvent_.TOUCH_MAP={},goog.events.BrowserFeature.TOUCH_ENABLED&&(Blockly.bindEvent_.TOUCH_MAP={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]}),Blockly.unbindEvent_=function(e){for(;e.length;){var t=e.pop(),o=t[2];t[0].removeEventListener(t[1],o,!1)}return o},Blockly.fireUiEventNow=function(e,t){var o=Blockly.fireUiEvent.DB_[t];if(o){var n=o.indexOf(e);-1!=n&&o.splice(n,1)}"function"==typeof UIEvent?o=new UIEvent(t,{}):(o=document.createEvent("UIEvent"),o.initUIEvent(t,!1,!1,window,0)),e.dispatchEvent(o)},Blockly.fireUiEvent=function(e,t){var o=Blockly.fireUiEvent.DB_[t];if(o){if(-1!=o.indexOf(e))return;o.push(e)}else Blockly.fireUiEvent.DB_[t]=[e];setTimeout(function(){Blockly.fireUiEventNow(e,t)},0)},Blockly.fireUiEvent.DB_={},Blockly.noEvent=function(e){e.preventDefault(),e.stopPropagation()},Blockly.isTargetInput_=function(e){return"textarea"==e.target.type||"text"==e.target.type||"number"==e.target.type||"email"==e.target.type||"password"==e.target.type||"search"==e.target.type||"tel"==e.target.type||"url"==e.target.type||e.target.isContentEditable},Blockly.getRelativeXY_=function(e){var t=new goog.math.Coordinate(0,0),o=e.getAttribute("x");
return o&&(t.x=parseInt(o,10)),(o=e.getAttribute("y"))&&(t.y=parseInt(o,10)),(e=(e=e.getAttribute("transform"))&&e.match(Blockly.getRelativeXY_.XY_REGEXP_))&&(t.x+=parseFloat(e[1]),e[3]&&(t.y+=parseFloat(e[3]))),t},Blockly.getRelativeXY_.XY_REGEXP_=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*\))?/,Blockly.getSvgXY_=function(e,t){var o=0,n=0,r=1;(goog.dom.contains(t.getCanvas(),e)||goog.dom.contains(t.getBubbleCanvas(),e))&&(r=t.scale);do{var i=Blockly.getRelativeXY_(e);e!=t.getCanvas()&&e!=t.getBubbleCanvas()||(r=1),o+=i.x*r,n+=i.y*r,e=e.parentNode}while(e&&e!=t.getParentSvg());return new goog.math.Coordinate(o,n)},Blockly.createSvgElement=function(e,t,o,n){e=document.createElementNS(Blockly.SVG_NS,e);for(var r in t)e.setAttribute(r,t[r]);return document.body.runtimeStyle&&(e.runtimeStyle=e.currentStyle=e.style),o&&o.appendChild(e),e},Blockly.setPageSelectable=function(e){e?Blockly.removeClass_(document.body,"blocklyNonSelectable"):Blockly.addClass_(document.body,"blocklyNonSelectable")},Blockly.isRightButton=function(e){return e.ctrlKey&&goog.userAgent.MAC?!0:2==e.button},Blockly.mouseToSvg=function(e,t){var o=t.createSVGPoint();o.x=e.clientX,o.y=e.clientY;var n=t.getScreenCTM(),n=n.inverse();return o.matrixTransform(n)},Blockly.shortestStringLength=function(e){if(!e.length)return 0;for(var t=e[0].length,o=1;o<e.length;o++)t=Math.min(t,e[o].length);return t},Blockly.commonWordPrefix=function(e,t){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var o=0,n=t||Blockly.shortestStringLength(e),r=0;n>r;r++){for(var i=e[0][r],s=1;s<e.length;s++)if(i!=e[s][r])return o;" "==i&&(o=r+1)}for(s=1;s<e.length;s++)if((i=e[s][r])&&" "!=i)return o;return n},Blockly.commonWordSuffix=function(e,t){if(!e.length)return 0;if(1==e.length)return e[0].length;for(var o=0,n=t||Blockly.shortestStringLength(e),r=0;n>r;r++){for(var i=e[0].substr(-r-1,1),s=1;s<e.length;s++)if(i!=e[s].substr(-r-1,1))return o;" "==i&&(o=r+1)}for(s=1;s<e.length;s++)if((i=e[s].charAt(e[s].length-r-1))&&" "!=i)return o;return n},Blockly.isNumber=function(e){return!!e.match(/^\s*-?\d+(\.\d+)?\s*$/)},Blockly.tokenizeInterpolation=function(e){var t=[];e=e.split(""),e.push("");for(var o=0,n=[],r=null,i=0;i<e.length;i++){var s=e[i];0==o?"%"==s?o=1:n.push(s):1==o?"%"==s?(n.push(s),o=0):s>="0"&&"9">=s?(o=2,r=s,(s=n.join(""))&&t.push(s),n.length=0):(n.push("%",s),o=0):2==o&&(s>="0"&&"9">=s?r+=s:(t.push(parseInt(r,10)),i--,o=0))}return(s=n.join(""))&&t.push(s),t},Blockly.genUid=function(){for(var e=Blockly.genUid.soup_.length,t=[],o=0;20>o;o++)t[o]=Blockly.genUid.soup_.charAt(Math.random()*e);return t.join("")},Blockly.genUid.soup_="!#%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";var CLOSURE_DEFINES={"goog.DEBUG":!1};return Blockly.mainWorkspace=null,Blockly.selected=null,Blockly.highlightedConnection_=null,Blockly.localConnection_=null,Blockly.clipboardXml_=null,Blockly.clipboardSource_=null,Blockly.dragMode_=Blockly.DRAG_NONE,Blockly.onTouchUpWrapper_=null,Blockly.hueToRgb=function(e){return goog.color.hsvToHex(e,Blockly.HSV_SATURATION,255*Blockly.HSV_VALUE)},Blockly.svgSize=function(e){return{width:e.cachedWidth_,height:e.cachedHeight_}},Blockly.svgResize=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var t=e.getParentSvg(),o=t.parentNode;if(o){var n=o.offsetWidth,o=o.offsetHeight;t.cachedWidth_!=n&&(t.setAttribute("width",n+"px"),t.cachedWidth_=n),t.cachedHeight_!=o&&(t.setAttribute("height",o+"px"),t.cachedHeight_=o),e.resize()}},Blockly.onMouseUp_=function(e){e=Blockly.getMainWorkspace(),Blockly.Css.setCursor(Blockly.Css.Cursor.OPEN),e.isScrolling=!1,Blockly.setPageSelectable(!0),Blockly.onTouchUpWrapper_&&(Blockly.unbindEvent_(Blockly.onTouchUpWrapper_),Blockly.onTouchUpWrapper_=null),Blockly.onMouseMoveWrapper_&&(Blockly.unbindEvent_(Blockly.onMouseMoveWrapper_),Blockly.onMouseMoveWrapper_=null)},Blockly.onMouseMove_=function(e){if(!(e.touches&&2<=e.touches.length)){var t=Blockly.getMainWorkspace();if(t.isScrolling){var o=e.clientX-t.startDragMouseX,n=e.clientY-t.startDragMouseY,r=t.startDragMetrics,i=t.startScrollX+o,s=t.startScrollY+n,i=Math.min(i,-r.contentLeft),s=Math.min(s,-r.contentTop),i=Math.max(i,r.viewWidth-r.contentLeft-r.contentWidth),s=Math.max(s,r.viewHeight-r.contentTop-r.contentHeight);t.scrollbar.set(-i-r.contentLeft,-s-r.contentTop),Math.sqrt(o*o+n*n)>Blockly.DRAG_RADIUS&&Blockly.longStop_(),e.stopPropagation()}}},Blockly.onKeyDown_=function(e){if(!Blockly.mainWorkspace.options.readOnly&&!Blockly.isTargetInput_(e)){var t=!1;27==e.keyCode?Blockly.hideChaff():8==e.keyCode||46==e.keyCode?(e.preventDefault(),Blockly.selected&&Blockly.selected.isDeletable()&&(t=!0)):(e.altKey||e.ctrlKey||e.metaKey)&&(Blockly.selected&&Blockly.selected.isDeletable()&&Blockly.selected.isMovable()&&(67==e.keyCode?(Blockly.hideChaff(),Blockly.copy_(Blockly.selected)):88==e.keyCode&&(Blockly.copy_(Blockly.selected),t=!0)),86==e.keyCode?Blockly.clipboardXml_&&Blockly.clipboardSource_.paste(Blockly.clipboardXml_):90==e.keyCode&&(Blockly.hideChaff(),Blockly.mainWorkspace.undo(e.shiftKey))),t&&(Blockly.Events.setGroup(!0),Blockly.hideChaff(),Blockly.selected.dispose(Blockly.dragMode_!=Blockly.DRAG_FREE,!0),Blockly.highlightedConnection_&&(Blockly.highlightedConnection_.unhighlight(),Blockly.highlightedConnection_=null),Blockly.Events.setGroup(!1))}},Blockly.terminateDrag_=function(){Blockly.BlockSvg.terminateDrag_(),Blockly.Flyout.terminateDrag_()},Blockly.longPid_=0,Blockly.longStart_=function(e,t){Blockly.longStop_(),Blockly.longPid_=setTimeout(function(){e.button=2,t.onMouseDown_(e)},Blockly.LONGPRESS)},Blockly.longStop_=function(){Blockly.longPid_&&(clearTimeout(Blockly.longPid_),Blockly.longPid_=0)},Blockly.copy_=function(e){var t=Blockly.Xml.blockToDom(e);Blockly.dragMode_!=Blockly.DRAG_FREE&&Blockly.Xml.deleteNext(t);var o=e.getRelativeToSurfaceXY();t.setAttribute("x",e.RTL?-o.x:o.x),t.setAttribute("y",o.y),Blockly.clipboardXml_=t,Blockly.clipboardSource_=e.workspace},Blockly.duplicate_=function(e){var t=Blockly.clipboardXml_,o=Blockly.clipboardSource_;Blockly.copy_(e),e.workspace.paste(Blockly.clipboardXml_),Blockly.clipboardXml_=t,Blockly.clipboardSource_=o},Blockly.onContextMenu_=function(e){Blockly.isTargetInput_(e)||e.preventDefault()},Blockly.hideChaff=function(e){Blockly.Tooltip.hide(),Blockly.WidgetDiv.hide(),e||(e=Blockly.getMainWorkspace(),e.toolbox_&&e.toolbox_.flyout_&&e.toolbox_.flyout_.autoClose&&e.toolbox_.clearSelection())},Blockly.getMainWorkspaceMetrics_=function(){var e=Blockly.svgSize(this.getParentSvg());this.toolbox_&&(e.width-=this.toolbox_.width);var t=Blockly.Flyout.prototype.CORNER_RADIUS-1,o=e.width-t,n=e.height-t,r=this.getBlocksBoundingBox(),i=r.width*this.scale,s=r.height*this.scale,a=r.x*this.scale,l=r.y*this.scale;return this.scrollbar?(t=Math.min(a-o/2,a+i-o),o=Math.max(a+i+o/2,a+o),i=Math.min(l-n/2,l+s-n),n=Math.max(l+s+n/2,l+n)):(t=r.x,o=t+r.width,i=r.y,n=i+r.height),r=0,!this.RTL&&this.toolbox_&&(r=this.toolbox_.width),{viewHeight:e.height,viewWidth:e.width,contentHeight:n-i,contentWidth:o-t,viewTop:-this.scrollY,viewLeft:-this.scrollX,contentTop:i,contentLeft:t,absoluteTop:0,absoluteLeft:r}},Blockly.setMainWorkspaceMetrics_=function(e){if(!this.scrollbar)throw"Attempt to set main workspace scroll without scrollbars.";var t=this.getMetrics();goog.isNumber(e.x)&&(this.scrollX=-t.contentWidth*e.x-t.contentLeft),goog.isNumber(e.y)&&(this.scrollY=-t.contentHeight*e.y-t.contentTop),e=this.scrollX+t.absoluteLeft,t=this.scrollY+t.absoluteTop,this.translate(e,t),this.options.gridPattern&&(this.options.gridPattern.setAttribute("x",e),this.options.gridPattern.setAttribute("y",t),goog.userAgent.IE&&this.updateGridPattern_())},Blockly.addChangeListener=function(e){return console.warn("Deprecated call to Blockly.addChangeListener, use workspace.addChangeListener instead."),Blockly.getMainWorkspace().addChangeListener(e)},Blockly.getMainWorkspace=function(){return Blockly.mainWorkspace},goog.global.Blockly||(goog.global.Blockly={}),goog.global.Blockly.getMainWorkspace=Blockly.getMainWorkspace,goog.global.Blockly.addChangeListener=Blockly.addChangeListener,goog.Timer.defaultTimerObject=window,Blockly}()},{}],2:[function(e,t,o){var n={};n.Msg={},t.exports=function(){"use strict";return n.Msg.ADD_COMMENT="Add Comment",n.Msg.AUTH="Please authorize this app to enable your work to be saved and to allow it to be shared by you.",n.Msg.CHANGE_VALUE_TITLE="Change value:",n.Msg.CHAT="Chat with your collaborator by typing in this box!",n.Msg.CLEAN_UP="Clean up Blocks",n.Msg.COLLAPSE_ALL="Collapse Blocks",n.Msg.COLLAPSE_BLOCK="Collapse Block",n.Msg.COLOUR_BLEND_COLOUR1="colour 1",n.Msg.COLOUR_BLEND_COLOUR2="colour 2",n.Msg.COLOUR_BLEND_HELPURL="http://meyerweb.com/eric/tools/color-blend/",n.Msg.COLOUR_BLEND_RATIO="ratio",n.Msg.COLOUR_BLEND_TITLE="blend",n.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",n.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="random colour",n.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",n.Msg.COLOUR_RGB_BLUE="blue",n.Msg.COLOUR_RGB_GREEN="green",n.Msg.COLOUR_RGB_HELPURL="http://www.december.com/html/spec/colorper.html",n.Msg.COLOUR_RGB_RED="red",n.Msg.COLOUR_RGB_TITLE="colour with",n.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",n.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",n.Msg.CONTROLS_IF_MSG_ELSE="else",n.Msg.CONTROLS_IF_MSG_ELSEIF="else if",n.Msg.CONTROLS_IF_MSG_IF="if",n.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",n.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",n.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",n.Msg.CONTROLS_REPEAT_INPUT_DO="do",n.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",n.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",n.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",n.Msg.DELETE_BLOCK="Delete Block",n.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",n.Msg.DISABLE_BLOCK="Disable Block",n.Msg.DUPLICATE_BLOCK="Duplicate",n.Msg.ENABLE_BLOCK="Enable Block",n.Msg.EXPAND_ALL="Expand Blocks",n.Msg.EXPAND_BLOCK="Expand Block",n.Msg.EXTERNAL_INPUTS="External Inputs",n.Msg.HELP="Help",n.Msg.INLINE_INPUTS="Inline Inputs",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",n.Msg.LISTS_GET_INDEX_FIRST="first",n.Msg.LISTS_GET_INDEX_FROM_END="# from end",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="get",n.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",n.Msg.LISTS_GET_INDEX_LAST="last",n.Msg.LISTS_GET_INDEX_RANDOM="random",n.Msg.LISTS_GET_INDEX_REMOVE="remove",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM_END="Returns the item at the specified position in a list. #1 is the last item.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM_START="Returns the item at the specified position in a list. #1 is the first item.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM_END="Removes and returns the item at the specified position in a list. #1 is the last item.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM_START="Removes and returns the item at the specified position in a list. #1 is the first item.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM_END="Removes the item at the specified position in a list. #1 is the last item.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM_START="Removes the item at the specified position in a list. #1 is the first item.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",n.Msg.LISTS_GET_SUBLIST_END_LAST="to last",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",n.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",n.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns 0 if item is not found.",n.Msg.LISTS_INLIST="in list",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",n.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="length of %1",n.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",n.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="as",n.Msg.LISTS_SET_INDEX_INSERT="insert at",n.Msg.LISTS_SET_INDEX_SET="set",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM_END="Inserts the item at the specified position in a list. #1 is the last item.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM_START="Inserts the item at the specified position in a list. #1 is the first item.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM_END="Sets the item at the specified position in a list. #1 is the last item.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM_START="Sets the item at the specified position in a list. #1 is the first item.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="not %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",n.Msg.LOGIC_NULL="null",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Returns null.",n.Msg.LOGIC_OPERATION_AND="and",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="or",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",n.Msg.LOGIC_TERNARY_CONDITION="test",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="if false",n.Msg.LOGIC_TERNARY_IF_TRUE="if true",n.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="change %1 by %2",n.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",n.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",n.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_%28graphics%29",n.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="÷",n.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",n.Msg.MATH_IS_EVEN="is even",n.Msg.MATH_IS_NEGATIVE="is negative",n.Msg.MATH_IS_ODD="is odd",n.Msg.MATH_IS_POSITIVE="is positive",n.Msg.MATH_IS_PRIME="is prime",n.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",n.Msg.MATH_IS_WHOLE="is whole",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="remainder of %1 ÷ %2",n.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",n.Msg.MATH_MULTIPLICATION_SYMBOL="×",n.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",n.Msg.MATH_NUMBER_TOOLTIP="A number.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",n.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",n.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",n.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",n.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",n.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",n.Msg.MATH_ROUND_OPERATOR_ROUND="round",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",n.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",n.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",n.Msg.MATH_SINGLE_OP_ROOT="square root",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",n.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",n.Msg.ME="Me",n.Msg.NEW_VARIABLE="New variable...",n.Msg.NEW_VARIABLE_TITLE="New variable name:",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",n.Msg.PROCEDURES_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Procedure_%28computer_science%29",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Procedure_%28computer_science%29",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CREATE_DO="Create '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Procedure_%28computer_science%29",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",n.Msg.PROCEDURES_DEFNORETURN_TITLE="to",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Procedure_%28computer_science%29",n.Msg.PROCEDURES_DEFRETURN_RETURN="return",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",n.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",n.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",n.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",n.Msg.REDO="Redo",n.Msg.REMOVE_COMMENT="Remove Comment",n.Msg.RENAME_VARIABLE="Rename variable...",n.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",n.Msg.TEXT_APPEND_APPENDTEXT="append text",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TO="to",n.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",n.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",n.Msg.TEXT_CHARAT_FIRST="get first letter",n.Msg.TEXT_CHARAT_FROM_END="get letter # from end",n.Msg.TEXT_CHARAT_FROM_START="get letter #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_INPUT_INTEXT="in text",n.Msg.TEXT_CHARAT_LAST="get last letter",n.Msg.TEXT_CHARAT_RANDOM="get random letter",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_INPUT_INTEXT="in text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",n.Msg.TEXT_INDEXOF_TAIL="",n.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns 0 if text is not found.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",n.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",n.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="length of %1",n.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="print %1",n.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",n.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",n.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",n.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",n.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",n.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",n.Msg.TODAY="Today",n.Msg.UNDO="Undo",n.Msg.VARIABLES_DEFAULT_NAME="item",n.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",n.Msg.VARIABLES_SET="set %1 to %2",n.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",
n.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.LISTS_GET_INDEX_HELPURL=n.Msg.LISTS_INDEX_OF_HELPURL,n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg}},{}],3:[function(e,t,o){!function(e){"use strict";if(e.URL=e.URL||e.webkitURL,e.Blob&&e.URL)try{return void new Blob}catch(t){}var o=e.BlobBuilder||e.WebKitBlobBuilder||e.MozBlobBuilder||function(e){var t=function(e){return Object.prototype.toString.call(e).match(/^\[object\s(.*)\]$/)[1]},o=function(){this.data=[]},n=function(e,t,o){this.data=e,this.size=e.length,this.type=t,this.encoding=o},r=o.prototype,i=n.prototype,s=e.FileReaderSync,a=function(e){this.code=this[this.name=e]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),g=l.length,c=e.URL||e.webkitURL||e,u=c.createObjectURL,h=c.revokeObjectURL,d=c,p=e.btoa,f=e.atob,y=e.ArrayBuffer,_=e.Uint8Array,m=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(n.fake=i.fake=!0;g--;)a.prototype[l[g]]=g+1;return c.createObjectURL||(d=e.URL=function(e){var t,o=document.createElementNS("http://www.w3.org/1999/xhtml","a");return o.href=e,"origin"in o||("data:"===o.protocol.toLowerCase()?o.origin=null:(t=e.match(m),o.origin=t&&t[1])),o}),d.createObjectURL=function(e){var t,o=e.type;return null===o&&(o="application/octet-stream"),e instanceof n?(t="data:"+o,"base64"===e.encoding?t+";base64,"+e.data:"URI"===e.encoding?t+","+decodeURIComponent(e.data):p?t+";base64,"+p(e.data):t+","+encodeURIComponent(e.data)):u?u.call(c,e):void 0},d.revokeObjectURL=function(e){"data:"!==e.substring(0,5)&&h&&h.call(c,e)},r.append=function(e){var o=this.data;if(_&&(e instanceof y||e instanceof _)){for(var r="",i=new _(e),l=0,g=i.length;g>l;l++)r+=String.fromCharCode(i[l]);o.push(r)}else if("Blob"===t(e)||"File"===t(e)){if(!s)throw new a("NOT_READABLE_ERR");var c=new s;o.push(c.readAsBinaryString(e))}else e instanceof n?"base64"===e.encoding&&f?o.push(f(e.data)):"URI"===e.encoding?o.push(decodeURIComponent(e.data)):"raw"===e.encoding&&o.push(e.data):("string"!=typeof e&&(e+=""),o.push(unescape(encodeURIComponent(e))))},r.getBlob=function(e){return arguments.length||(e=null),new n(this.data.join(""),e,"raw")},r.toString=function(){return"[object BlobBuilder]"},i.slice=function(e,t,o){var r=arguments.length;return 3>r&&(o=null),new n(this.data.slice(e,r>1?t:this.data.length),o,this.encoding)},i.toString=function(){return"[object Blob]"},i.close=function(){this.size=0,delete this.data},o}(e);e.Blob=function(e,t){var n=t?t.type||"":"",r=new o;if(e)for(var i=0,s=e.length;s>i;i++)Uint8Array&&e[i]instanceof Uint8Array?r.append(e[i].buffer):r.append(e[i]);var a=r.getBlob(n);return!a.slice&&a.webkitSlice&&(a.slice=a.webkitSlice),a};var n=Object.getPrototypeOf||function(e){return e.__proto__};e.Blob.prototype=n(new e.Blob)}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this)},{}],4:[function(e,t,o){var n=n||function(e){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var t=e.document,o=function(){return e.URL||e.webkitURL||e},n=t.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in n,i=function(e){var t=new MouseEvent("click");e.dispatchEvent(t)},s=/Version\/[\d\.]+.*Safari/.test(navigator.userAgent),a=e.webkitRequestFileSystem,l=e.requestFileSystem||a||e.mozRequestFileSystem,g=function(t){(e.setImmediate||e.setTimeout)(function(){throw t},0)},c="application/octet-stream",u=0,h=4e4,d=function(e){var t=function(){"string"==typeof e?o().revokeObjectURL(e):e.remove()};setTimeout(t,h)},p=function(e,t,o){t=[].concat(t);for(var n=t.length;n--;){var r=e["on"+t[n]];if("function"==typeof r)try{r.call(e,o||e)}catch(i){g(i)}}},f=function(e){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e},y=function(t,g,h){h||(t=f(t));var y,_,m,b=this,v=t.type,E=!1,T=function(){p(b,"writestart progress write writeend".split(" "))},S=function(){if(_&&s&&"undefined"!=typeof FileReader){var n=new FileReader;return n.onloadend=function(){var e=n.result;_.location.href="data:attachment/file"+e.slice(e.search(/[,;]/)),b.readyState=b.DONE,T()},n.readAsDataURL(t),void(b.readyState=b.INIT)}if(!E&&y||(y=o().createObjectURL(t)),_)_.location.href=y;else{var r=e.open(y,"_blank");void 0===r&&s&&(e.location.href=y)}b.readyState=b.DONE,T(),d(y)},k=function(e){return function(){return b.readyState!==b.DONE?e.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return b.readyState=b.INIT,g||(g="download"),r?(y=o().createObjectURL(t),void setTimeout(function(){n.href=y,n.download=g,i(n),T(),d(y),b.readyState=b.DONE})):(e.chrome&&v&&v!==c&&(m=t.slice||t.webkitSlice,t=m.call(t,0,t.size,c),E=!0),a&&"download"!==g&&(g+=".download"),(v===c||a)&&(_=e),l?(u+=t.size,void l(e.TEMPORARY,u,k(function(e){e.root.getDirectory("saved",C,k(function(e){var o=function(){e.getFile(g,C,k(function(e){e.createWriter(k(function(o){o.onwriteend=function(t){_.location.href=e.toURL(),b.readyState=b.DONE,p(b,"writeend",t),d(e)},o.onerror=function(){var e=o.error;e.code!==e.ABORT_ERR&&S()},"writestart progress write abort".split(" ").forEach(function(e){o["on"+e]=b["on"+e]}),o.write(t),b.abort=function(){o.abort(),b.readyState=b.DONE},b.readyState=b.WRITING}),S)}),S)};e.getFile(g,{create:!1},k(function(e){e.remove(),o()}),k(function(e){e.code===e.NOT_FOUND_ERR?o():S()}))}),S)}),S)):void S())},_=y.prototype,m=function(e,t,o){return new y(e,t,o)};return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(e,t,o){return o||(e=f(e)),navigator.msSaveOrOpenBlob(e,t||"download")}:(_.abort=function(){var e=this;e.readyState=e.DONE,p(e,"abort")},_.readyState=_.INIT=0,_.WRITING=1,_.DONE=2,_.error=_.onwritestart=_.onprogress=_.onwrite=_.onabort=_.onerror=_.onwriteend=null,m)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof t&&t.exports?t.exports.saveAs=n:"undefined"!=typeof define&&null!==define&&null!==define.amd&&define([],function(){return n})},{}],5:[function(e,t,o){},{}],6:[function(e,t,o){(function(t){"use strict";function n(){try{var e=new Uint8Array(1);return e.foo=function(){return 42},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}function r(){return s.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(e,t){if(r()<t)throw new RangeError("Invalid typed array length");return s.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t),e.__proto__=s.prototype):(null===e&&(e=new s(t)),e.length=t),e}function s(e,t,o){if(!(s.TYPED_ARRAY_SUPPORT||this instanceof s))return new s(e,t,o);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(this,e)}return a(this,e,t,o)}function a(e,t,o,n){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?d(e,t,o,n):"string"==typeof t?u(e,t,o):p(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number')}function g(e,t,o,n){return l(t),0>=t?i(e,t):void 0!==o?"string"==typeof n?i(e,t).fill(o,n):i(e,t).fill(o):i(e,t)}function c(e,t){if(l(t),e=i(e,0>t?0:0|f(t)),!s.TYPED_ARRAY_SUPPORT)for(var o=0;t>o;o++)e[o]=0;return e}function u(e,t,o){if("string"==typeof o&&""!==o||(o="utf8"),!s.isEncoding(o))throw new TypeError('"encoding" must be a valid string encoding');var n=0|_(t,o);return e=i(e,n),e.write(t,o),e}function h(e,t){var o=0|f(t.length);e=i(e,o);for(var n=0;o>n;n+=1)e[n]=255&t[n];return e}function d(e,t,o,n){if(t.byteLength,0>o||t.byteLength<o)throw new RangeError("'offset' is out of bounds");if(t.byteLength<o+(n||0))throw new RangeError("'length' is out of bounds");return t=void 0===n?new Uint8Array(t,o):new Uint8Array(t,o,n),s.TYPED_ARRAY_SUPPORT?(e=t,e.__proto__=s.prototype):e=h(e,t),e}function p(e,t){if(s.isBuffer(t)){var o=0|f(t.length);return e=i(e,o),0===e.length?e:(t.copy(e,0,0,o),e)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||z(t.length)?i(e,0):h(e,t);if("Buffer"===t.type&&Z(t.data))return h(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function f(e){if(e>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|e}function y(e){return+e!=e&&(e=0),s.alloc(+e)}function _(e,t){if(s.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var o=e.length;if(0===o)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return o;case"utf8":case"utf-8":case void 0:return K(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*o;case"hex":return o>>>1;case"base64":return Y(e).length;default:if(n)return K(e).length;t=(""+t).toLowerCase(),n=!0}}function m(e,t,o){var n=!1;if((void 0===t||0>t)&&(t=0),t>this.length)return"";if((void 0===o||o>this.length)&&(o=this.length),0>=o)return"";if(o>>>=0,t>>>=0,t>=o)return"";for(e||(e="utf8");;)switch(e){case"hex":return N(this,t,o);case"utf8":case"utf-8":return A(this,t,o);case"ascii":return R(this,t,o);case"binary":return O(this,t,o);case"base64":return I(this,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,o);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function b(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function v(e,t,o,n){function r(e,t){return 1===i?e[t]:e.readUInt16BE(t*i)}var i=1,s=e.length,a=t.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;i=2,s/=2,a/=2,o/=2}for(var l=-1,g=0;s>o+g;g++)if(r(e,o+g)===r(t,-1===l?0:g-l)){if(-1===l&&(l=g),g-l+1===a)return(o+l)*i}else-1!==l&&(g-=g-l),l=-1;return-1}function E(e,t,o,n){o=Number(o)||0;var r=e.length-o;n?(n=Number(n),n>r&&(n=r)):n=r;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;n>s;s++){var a=parseInt(t.substr(2*s,2),16);if(isNaN(a))return s;e[o+s]=a}return s}function T(e,t,o,n){return q(K(t,e.length-o),e,o,n)}function S(e,t,o,n){return q(j(t),e,o,n)}function k(e,t,o,n){return S(e,t,o,n)}function C(e,t,o,n){return q(Y(t),e,o,n)}function B(e,t,o,n){return q(X(t,e.length-o),e,o,n)}function I(e,t,o){return 0===t&&o===e.length?J.fromByteArray(e):J.fromByteArray(e.slice(t,o))}function A(e,t,o){o=Math.min(e.length,o);for(var n=[],r=t;o>r;){var i=e[r],s=null,a=i>239?4:i>223?3:i>191?2:1;if(o>=r+a){var l,g,c,u;switch(a){case 1:128>i&&(s=i);break;case 2:l=e[r+1],128===(192&l)&&(u=(31&i)<<6|63&l,u>127&&(s=u));break;case 3:l=e[r+1],g=e[r+2],128===(192&l)&&128===(192&g)&&(u=(15&i)<<12|(63&l)<<6|63&g,u>2047&&(55296>u||u>57343)&&(s=u));break;case 4:l=e[r+1],g=e[r+2],c=e[r+3],128===(192&l)&&128===(192&g)&&128===(192&c)&&(u=(15&i)<<18|(63&l)<<12|(63&g)<<6|63&c,u>65535&&1114112>u&&(s=u))}}null===s?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|1023&s),n.push(s),r+=a}return w(n)}function w(e){var t=e.length;if($>=t)return String.fromCharCode.apply(String,e);for(var o="",n=0;t>n;)o+=String.fromCharCode.apply(String,e.slice(n,n+=$));return o}function R(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;o>r;r++)n+=String.fromCharCode(127&e[r]);return n}function O(e,t,o){var n="";o=Math.min(e.length,o);for(var r=t;o>r;r++)n+=String.fromCharCode(e[r]);return n}function N(e,t,o){var n=e.length;(!t||0>t)&&(t=0),(!o||0>o||o>n)&&(o=n);for(var r="",i=t;o>i;i++)r+=W(e[i]);return r}function M(e,t,o){for(var n=e.slice(t,o),r="",i=0;i<n.length;i+=2)r+=String.fromCharCode(n[i]+256*n[i+1]);return r}function L(e,t,o){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>o)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,o,n,r,i){if(!s.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>r||i>t)throw new RangeError('"value" argument is out of bounds');if(o+n>e.length)throw new RangeError("Index out of range")}function x(e,t,o,n){0>t&&(t=65535+t+1);for(var r=0,i=Math.min(e.length-o,2);i>r;r++)e[o+r]=(t&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function P(e,t,o,n){0>t&&(t=4294967295+t+1);for(var r=0,i=Math.min(e.length-o,4);i>r;r++)e[o+r]=t>>>8*(n?r:3-r)&255}function U(e,t,o,n,r,i){if(o+n>e.length)throw new RangeError("Index out of range");if(0>o)throw new RangeError("Index out of range")}function H(e,t,o,n,r){return r||U(e,t,o,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(e,t,o,n,23,4),o+4}function F(e,t,o,n,r){return r||U(e,t,o,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(e,t,o,n,52,8),o+8}function G(e){if(e=V(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function V(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function W(e){return 16>e?"0"+e.toString(16):e.toString(16)}function K(e,t){t=t||1/0;for(var o,n=e.length,r=null,i=[],s=0;n>s;s++){if(o=e.charCodeAt(s),o>55295&&57344>o){if(!r){if(o>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}r=o;continue}if(56320>o){(t-=3)>-1&&i.push(239,191,189),r=o;continue}o=(r-55296<<10|o-56320)+65536}else r&&(t-=3)>-1&&i.push(239,191,189);if(r=null,128>o){if((t-=1)<0)break;i.push(o)}else if(2048>o){if((t-=2)<0)break;i.push(o>>6|192,63&o|128)}else if(65536>o){if((t-=3)<0)break;i.push(o>>12|224,o>>6&63|128,63&o|128)}else{if(!(1114112>o))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}}return i}function j(e){for(var t=[],o=0;o<e.length;o++)t.push(255&e.charCodeAt(o));return t}function X(e,t){for(var o,n,r,i=[],s=0;s<e.length&&!((t-=2)<0);s++)o=e.charCodeAt(s),n=o>>8,r=o%256,i.push(r),i.push(n);return i}function Y(e){return J.toByteArray(G(e))}function q(e,t,o,n){for(var r=0;n>r&&!(r+o>=t.length||r>=e.length);r++)t[r+o]=e[r];return r}function z(e){return e!==e}var J=e("base64-js"),Q=e("ieee754"),Z=e("isarray");o.Buffer=s,o.SlowBuffer=y,o.INSPECT_MAX_BYTES=50,s.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),o.kMaxLength=r(),s.poolSize=8192,s._augment=function(e){return e.__proto__=s.prototype,e},s.from=function(e,t,o){return a(null,e,t,o)},s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0})),s.alloc=function(e,t,o){return g(null,e,t,o)},s.allocUnsafe=function(e){return c(null,e)},s.allocUnsafeSlow=function(e){return c(null,e)},s.isBuffer=function(e){return!(null==e||!e._isBuffer)},s.compare=function(e,t){if(!s.isBuffer(e)||!s.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var o=e.length,n=t.length,r=0,i=Math.min(o,n);i>r;++r)if(e[r]!==t[r]){o=e[r],n=t[r];break}return n>o?-1:o>n?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Z(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);var o;if(void 0===t)for(t=0,o=0;o<e.length;o++)t+=e[o].length;var n=s.allocUnsafe(t),r=0;for(o=0;o<e.length;o++){var i=e[o];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,r),r+=i.length}return n},s.byteLength=_,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;e>t;t+=2)b(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;e>t;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},s.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?A(this,0,e):m.apply(this,arguments)},s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:0===s.compare(this,e)},s.prototype.inspect=function(){var e="",t=o.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},s.prototype.compare=function(e,t,o,n,r){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===o&&(o=e?e.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),0>t||o>e.length||0>n||r>this.length)throw new RangeError("out of range index");if(n>=r&&t>=o)return 0;if(n>=r)return-1;if(t>=o)return 1;if(t>>>=0,o>>>=0,n>>>=0,r>>>=0,this===e)return 0;for(var i=r-n,a=o-t,l=Math.min(i,a),g=this.slice(n,r),c=e.slice(t,o),u=0;l>u;++u)if(g[u]!==c[u]){i=g[u],a=c[u];break}return a>i?-1:i>a?1:0},s.prototype.indexOf=function(e,t,o){if("string"==typeof t?(o=t,t=0):t>2147483647?t=2147483647:-2147483648>t&&(t=-2147483648),t>>=0,0===this.length)return-1;if(t>=this.length)return-1;if(0>t&&(t=Math.max(this.length+t,0)),"string"==typeof e&&(e=s.from(e,o)),s.isBuffer(e))return 0===e.length?-1:v(this,e,t,o);if("number"==typeof e)return s.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,e,t):v(this,[e],t,o);throw new TypeError("val must be string, number or Buffer")},s.prototype.includes=function(e,t,o){return-1!==this.indexOf(e,t,o)},s.prototype.write=function(e,t,o,n){if(void 0===t)n="utf8",o=this.length,t=0;else if(void 0===o&&"string"==typeof t)n=t,o=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t=0|t,isFinite(o)?(o=0|o,void 0===n&&(n="utf8")):(n=o,o=void 0)}var r=this.length-t;if((void 0===o||o>r)&&(o=r),e.length>0&&(0>o||0>t)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var i=!1;;)switch(n){case"hex":return E(this,e,t,o);case"utf8":case"utf-8":return T(this,e,t,o);case"ascii":return S(this,e,t,o);case"binary":return k(this,e,t,o);case"base64":return C(this,e,t,o);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,e,t,o);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var $=4096;s.prototype.slice=function(e,t){var o=this.length;e=~~e,t=void 0===t?o:~~t,0>e?(e+=o,0>e&&(e=0)):e>o&&(e=o),0>t?(t+=o,0>t&&(t=0)):t>o&&(t=o),e>t&&(t=e);var n;if(s.TYPED_ARRAY_SUPPORT)n=this.subarray(e,t),n.__proto__=s.prototype;else{var r=t-e;n=new s(r,void 0);for(var i=0;r>i;i++)n[i]=this[i+e]}return n},s.prototype.readUIntLE=function(e,t,o){e=0|e,t=0|t,o||L(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return n},s.prototype.readUIntBE=function(e,t,o){e=0|e,t=0|t,o||L(e,t,this.length);for(var n=this[e+--t],r=1;t>0&&(r*=256);)n+=this[e+--t]*r;return n},s.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,o){e=0|e,t=0|t,o||L(e,t,this.length);for(var n=this[e],r=1,i=0;++i<t&&(r*=256);)n+=this[e+i]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,o){e=0|e,t=0|t,o||L(e,t,this.length);for(var n=t,r=1,i=this[e+--n];n>0&&(r*=256);)i+=this[e+--n]*r;return r*=128,i>=r&&(i-=Math.pow(2,8*t)),i},s.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},s.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var o=this[e]|this[e+1]<<8;return 32768&o?4294901760|o:o},s.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var o=this[e+1]|this[e]<<8;return 32768&o?4294901760|o:o},s.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),Q.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),Q.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),Q.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),Q.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,o,n){if(e=+e,t=0|t,o=0|o,!n){var r=Math.pow(2,8*o)-1;D(this,e,t,o,r,0)}var i=1,s=0;for(this[t]=255&e;++s<o&&(i*=256);)this[t+s]=e/i&255;return t+o},s.prototype.writeUIntBE=function(e,t,o,n){if(e=+e,t=0|t,o=0|o,!n){var r=Math.pow(2,8*o)-1;D(this,e,t,o,r,0)}var i=o-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+o},s.prototype.writeUInt8=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,1,255,0),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},s.prototype.writeUInt16BE=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,2,65535,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},s.prototype.writeUInt32LE=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):P(this,e,t,!0),t+4},s.prototype.writeUInt32BE=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,4,4294967295,0),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},s.prototype.writeIntLE=function(e,t,o,n){if(e=+e,t=0|t,!n){var r=Math.pow(2,8*o-1);D(this,e,t,o,r-1,-r)}var i=0,s=1,a=0;for(this[t]=255&e;++i<o&&(s*=256);)0>e&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+o},s.prototype.writeIntBE=function(e,t,o,n){if(e=+e,t=0|t,!n){var r=Math.pow(2,8*o-1);D(this,e,t,o,r-1,-r)}var i=o-1,s=1,a=0;for(this[t+i]=255&e;--i>=0&&(s*=256);)0>e&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/s>>0)-a&255;return t+o},s.prototype.writeInt8=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,1,127,-128),s.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):x(this,e,t,!0),t+2},s.prototype.writeInt16BE=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,2,32767,-32768),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):x(this,e,t,!1),t+2},s.prototype.writeInt32LE=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,4,2147483647,-2147483648),s.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):P(this,e,t,!0),t+4},s.prototype.writeInt32BE=function(e,t,o){return e=+e,t=0|t,o||D(this,e,t,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),s.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):P(this,e,t,!1),t+4},s.prototype.writeFloatLE=function(e,t,o){return H(this,e,t,!0,o)},s.prototype.writeFloatBE=function(e,t,o){return H(this,e,t,!1,o)},s.prototype.writeDoubleLE=function(e,t,o){return F(this,e,t,!0,o)},s.prototype.writeDoubleBE=function(e,t,o){return F(this,e,t,!1,o)},s.prototype.copy=function(e,t,o,n){if(o||(o=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&o>n&&(n=o),n===o)return 0;if(0===e.length||0===this.length)return 0;if(0>t)throw new RangeError("targetStart out of bounds");if(0>o||o>=this.length)throw new RangeError("sourceStart out of bounds");if(0>n)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-o&&(n=e.length-t+o);var r,i=n-o;if(this===e&&t>o&&n>t)for(r=i-1;r>=0;r--)e[r+t]=this[r+o];else if(1e3>i||!s.TYPED_ARRAY_SUPPORT)for(r=0;i>r;r++)e[r+t]=this[r+o];else Uint8Array.prototype.set.call(e,this.subarray(o,o+i),t);return i},s.prototype.fill=function(e,t,o,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,o=this.length):"string"==typeof o&&(n=o,o=this.length),1===e.length){var r=e.charCodeAt(0);256>r&&(e=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof e&&(e=255&e);if(0>t||this.length<t||this.length<o)throw new RangeError("Out of range index");if(t>=o)return this;t>>>=0,o=void 0===o?this.length:o>>>0,e||(e=0);var i;if("number"==typeof e)for(i=t;o>i;i++)this[i]=e;else{var a=s.isBuffer(e)?e:K(new s(e,n).toString()),l=a.length;for(i=0;o-t>i;i++)this[i+t]=a[i%l]}return this};var ee=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":7,ieee754:8,isarray:9}],7:[function(e,t,o){"use strict";function n(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,o=e.length;o>t;++t)l[t]=e[t],g[e.charCodeAt(t)]=t;g["-".charCodeAt(0)]=62,g["_".charCodeAt(0)]=63}function r(e){var t,o,n,r,i,s,a=e.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[a-2]?2:"="===e[a-1]?1:0,s=new c(3*a/4-i),n=i>0?a-4:a;var l=0;for(t=0,o=0;n>t;t+=4,o+=3)r=g[e.charCodeAt(t)]<<18|g[e.charCodeAt(t+1)]<<12|g[e.charCodeAt(t+2)]<<6|g[e.charCodeAt(t+3)],s[l++]=r>>16&255,s[l++]=r>>8&255,s[l++]=255&r;return 2===i?(r=g[e.charCodeAt(t)]<<2|g[e.charCodeAt(t+1)]>>4,s[l++]=255&r):1===i&&(r=g[e.charCodeAt(t)]<<10|g[e.charCodeAt(t+1)]<<4|g[e.charCodeAt(t+2)]>>2,s[l++]=r>>8&255,s[l++]=255&r),s}function i(e){return l[e>>18&63]+l[e>>12&63]+l[e>>6&63]+l[63&e]}function s(e,t,o){for(var n,r=[],s=t;o>s;s+=3)n=(e[s]<<16)+(e[s+1]<<8)+e[s+2],r.push(i(n));return r.join("")}function a(e){for(var t,o=e.length,n=o%3,r="",i=[],a=16383,g=0,c=o-n;c>g;g+=a)i.push(s(e,g,g+a>c?c:g+a));return 1===n?(t=e[o-1],r+=l[t>>2],r+=l[t<<4&63],r+="=="):2===n&&(t=(e[o-2]<<8)+e[o-1],r+=l[t>>10],r+=l[t>>4&63],r+=l[t<<2&63],r+="="),i.push(r),i.join("")}o.toByteArray=r,o.fromByteArray=a;var l=[],g=[],c="undefined"!=typeof Uint8Array?Uint8Array:Array;n()},{}],8:[function(e,t,o){o.read=function(e,t,o,n,r){var i,s,a=8*r-n-1,l=(1<<a)-1,g=l>>1,c=-7,u=o?r-1:0,h=o?-1:1,d=e[t+u];for(u+=h,i=d&(1<<-c)-1,d>>=-c,c+=a;c>0;i=256*i+e[t+u],u+=h,c-=8);for(s=i&(1<<-c)-1,i>>=-c,c+=n;c>0;s=256*s+e[t+u],u+=h,c-=8);if(0===i)i=1-g;else{if(i===l)return s?NaN:(d?-1:1)*(1/0);s+=Math.pow(2,n),i-=g}return(d?-1:1)*s*Math.pow(2,i-n)},o.write=function(e,t,o,n,r,i){var s,a,l,g=8*i-r-1,c=(1<<g)-1,u=c>>1,h=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:i-1,p=n?1:-1,f=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=c):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),t+=s+u>=1?h/l:h*Math.pow(2,1-u),t*l>=2&&(s++,l/=2),s+u>=c?(a=0,s=c):s+u>=1?(a=(t*l-1)*Math.pow(2,r),s+=u):(a=t*Math.pow(2,u-1)*Math.pow(2,r),s=0));r>=8;e[o+d]=255&a,d+=p,a/=256,r-=8);for(s=s<<r|a,g+=r;g>0;e[o+d]=255&s,d+=p,s/=256,g-=8);e[o+d-p]|=128*f}},{}],9:[function(e,t,o){var n={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},{}],10:[function(e,t,o){"use strict";o.randomBytes=o.rng=o.pseudoRandomBytes=o.prng=e("randombytes"),o.createHash=o.Hash=e("create-hash"),o.createHmac=o.Hmac=e("create-hmac");var n=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(Object.keys(e("browserify-sign/algos")));o.getHashes=function(){return n};var r=e("pbkdf2");o.pbkdf2=r.pbkdf2,o.pbkdf2Sync=r.pbkdf2Sync;var i=e("browserify-cipher");["Cipher","createCipher","Cipheriv","createCipheriv","Decipher","createDecipher","Decipheriv","createDecipheriv","getCiphers","listCiphers"].forEach(function(e){o[e]=i[e]});var s=e("diffie-hellman");["DiffieHellmanGroup","createDiffieHellmanGroup","getDiffieHellman","createDiffieHellman","DiffieHellman"].forEach(function(e){o[e]=s[e]});var a=e("browserify-sign");["createSign","Sign","createVerify","Verify"].forEach(function(e){o[e]=a[e]}),o.createECDH=e("create-ecdh");var l=e("public-encrypt");["publicEncrypt","privateEncrypt","publicDecrypt","privateDecrypt"].forEach(function(e){o[e]=l[e]}),["createCredentials"].forEach(function(e){o[e]=function(){throw new Error(["sorry, "+e+" is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))}})},{"browserify-cipher":11,"browserify-sign":41,"browserify-sign/algos":40,"create-ecdh":108,"create-hash":134,"create-hmac":147,"diffie-hellman":148,pbkdf2:155,"public-encrypt":156,randombytes:201}],11:[function(e,t,o){function n(e,t){var o,n;if(e=e.toLowerCase(),h[e])o=h[e].key,n=h[e].iv;else{if(!u[e])throw new TypeError("invalid suite type");o=8*u[e].key,n=u[e].iv}var r=l(t,!1,o,n);return i(e,r.key,r.iv)}function r(e,t){var o,n;if(e=e.toLowerCase(),h[e])o=h[e].key,n=h[e].iv;else{if(!u[e])throw new TypeError("invalid suite type");o=8*u[e].key,n=u[e].iv}var r=l(t,!1,o,n);return s(e,r.key,r.iv)}function i(e,t,o){if(e=e.toLowerCase(),h[e])return g.createCipheriv(e,t,o);if(u[e])return new c({key:t,iv:o,mode:e});throw new TypeError("invalid suite type")}function s(e,t,o){if(e=e.toLowerCase(),h[e])return g.createDecipheriv(e,t,o);if(u[e])return new c({key:t,iv:o,mode:e,decrypt:!0});throw new TypeError("invalid suite type")}function a(){return Object.keys(u).concat(g.getCiphers())}var l=e("evp_bytestokey"),g=e("browserify-aes/browser"),c=e("browserify-des"),u=e("browserify-des/modes"),h=e("browserify-aes/modes");o.createCipher=o.Cipher=n,o.createCipheriv=o.Cipheriv=i,o.createDecipher=o.Decipher=r,o.createDecipheriv=o.Decipheriv=s,o.listCiphers=o.getCiphers=a},{"browserify-aes/browser":14,"browserify-aes/modes":18,"browserify-des":29,"browserify-des/modes":30,evp_bytestokey:39}],12:[function(e,t,o){(function(e){function t(e){var t,o;return t=e>a||0>e?(o=Math.abs(e)%a,0>e?a-o:o):e}function n(e){for(var t=0;t<e.length;e++)e[t]=0;return!1}function r(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function i(e){for(var t=e.length/4,o=new Array(t),n=-1;++n<t;)o[n]=e.readUInt32BE(4*n);return o}function s(e){this._key=i(e),this._doReset()}var a=Math.pow(2,32);r.prototype.init=function(){var e,t,o,n,r,i,s,a,l,g;
for(e=function(){var e,o;for(o=[],t=e=0;256>e;t=++e)128>t?o.push(t<<1):o.push(t<<1^283);return o}(),r=0,l=0,t=g=0;256>g;t=++g)o=l^l<<1^l<<2^l<<3^l<<4,o=o>>>8^255&o^99,this.SBOX[r]=o,this.INV_SBOX[o]=r,i=e[r],s=e[i],a=e[s],n=257*e[o]^16843008*o,this.SUB_MIX[0][r]=n<<24|n>>>8,this.SUB_MIX[1][r]=n<<16|n>>>16,this.SUB_MIX[2][r]=n<<8|n>>>24,this.SUB_MIX[3][r]=n,n=16843009*a^65537*s^257*i^16843008*r,this.INV_SUB_MIX[0][o]=n<<24|n>>>8,this.INV_SUB_MIX[1][o]=n<<16|n>>>16,this.INV_SUB_MIX[2][o]=n<<8|n>>>24,this.INV_SUB_MIX[3][o]=n,0===r?r=l=1:(r=i^e[e[e[a^i]]],l^=e[e[l]]);return!0};var l=new r;s.blockSize=16,s.prototype.blockSize=s.blockSize,s.keySize=32,s.prototype.keySize=s.keySize,s.prototype._doReset=function(){var e,t,o,n,r,i;for(o=this._key,t=o.length,this._nRounds=t+6,r=4*(this._nRounds+1),this._keySchedule=[],n=0;r>n;n++)this._keySchedule[n]=t>n?o[n]:(i=this._keySchedule[n-1],n%t===0?(i=i<<8|i>>>24,i=l.SBOX[i>>>24]<<24|l.SBOX[i>>>16&255]<<16|l.SBOX[i>>>8&255]<<8|l.SBOX[255&i],i^=l.RCON[n/t|0]<<24):t>6&&n%t===4?i=l.SBOX[i>>>24]<<24|l.SBOX[i>>>16&255]<<16|l.SBOX[i>>>8&255]<<8|l.SBOX[255&i]:void 0,this._keySchedule[n-t]^i);for(this._invKeySchedule=[],e=0;r>e;e++)n=r-e,i=this._keySchedule[n-(e%4?0:4)],this._invKeySchedule[e]=4>e||4>=n?i:l.INV_SUB_MIX[0][l.SBOX[i>>>24]]^l.INV_SUB_MIX[1][l.SBOX[i>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[i>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&i]];return!0},s.prototype.encryptBlock=function(t){t=i(new e(t));var o=this._doCryptBlock(t,this._keySchedule,l.SUB_MIX,l.SBOX),n=new e(16);return n.writeUInt32BE(o[0],0),n.writeUInt32BE(o[1],4),n.writeUInt32BE(o[2],8),n.writeUInt32BE(o[3],12),n},s.prototype.decryptBlock=function(t){t=i(new e(t));var o=[t[3],t[1]];t[1]=o[0],t[3]=o[1];var n=this._doCryptBlock(t,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX),r=new e(16);return r.writeUInt32BE(n[0],0),r.writeUInt32BE(n[3],4),r.writeUInt32BE(n[2],8),r.writeUInt32BE(n[1],12),r},s.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},s.prototype._doCryptBlock=function(e,o,n,r){var i,s,a,l,g,c,u,h,d;s=e[0]^o[0],a=e[1]^o[1],l=e[2]^o[2],g=e[3]^o[3],i=4;for(var p=1;p<this._nRounds;p++)c=n[0][s>>>24]^n[1][a>>>16&255]^n[2][l>>>8&255]^n[3][255&g]^o[i++],u=n[0][a>>>24]^n[1][l>>>16&255]^n[2][g>>>8&255]^n[3][255&s]^o[i++],h=n[0][l>>>24]^n[1][g>>>16&255]^n[2][s>>>8&255]^n[3][255&a]^o[i++],d=n[0][g>>>24]^n[1][s>>>16&255]^n[2][a>>>8&255]^n[3][255&l]^o[i++],s=c,a=u,l=h,g=d;return c=(r[s>>>24]<<24|r[a>>>16&255]<<16|r[l>>>8&255]<<8|r[255&g])^o[i++],u=(r[a>>>24]<<24|r[l>>>16&255]<<16|r[g>>>8&255]<<8|r[255&s])^o[i++],h=(r[l>>>24]<<24|r[g>>>16&255]<<16|r[s>>>8&255]<<8|r[255&a])^o[i++],d=(r[g>>>24]<<24|r[s>>>16&255]<<16|r[a>>>8&255]<<8|r[255&l])^o[i++],[t(c),t(u),t(h),t(d)]},o.AES=s}).call(this,e("buffer").Buffer)},{buffer:6}],13:[function(e,t,o){(function(o){function n(e,t,r,a){if(!(this instanceof n))return new n(e,t,r);s.call(this),this._finID=o.concat([r,new o([0,0,0,1])]),r=o.concat([r,new o([0,0,0,2])]),this._cipher=new i.AES(t),this._prev=new o(r.length),this._cache=new o(""),this._secCache=new o(""),this._decrypt=a,this._alen=0,this._len=0,r.copy(this._prev),this._mode=e;var g=new o(4);g.fill(0),this._ghash=new l(this._cipher.encryptBlock(g)),this._authTag=null,this._called=!1}function r(e,t){var o=0;e.length!==t.length&&o++;for(var n=Math.min(e.length,t.length),r=-1;++r<n;)o+=e[r]^t[r];return o}var i=e("./aes"),s=e("cipher-base"),a=e("inherits"),l=e("./ghash"),g=e("buffer-xor");a(n,s),t.exports=n,n.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;16>t&&(t=new o(t),t.fill(0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},n.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=g(this._ghash["final"](8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(r(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=e;this._cipher.scrub()},n.prototype.getAuthTag=function(){if(!this._decrypt&&o.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},n.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},n.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length}}).call(this,e("buffer").Buffer)},{"./aes":12,"./ghash":17,buffer:6,"buffer-xor":26,"cipher-base":27,inherits:203}],14:[function(e,t,o){function n(){return Object.keys(s)}var r=e("./encrypter");o.createCipher=o.Cipher=r.createCipher,o.createCipheriv=o.Cipheriv=r.createCipheriv;var i=e("./decrypter");o.createDecipher=o.Decipher=i.createDecipher,o.createDecipheriv=o.Decipheriv=i.createDecipheriv;var s=e("./modes");o.listCiphers=o.getCiphers=n},{"./decrypter":15,"./encrypter":16,"./modes":18}],15:[function(e,t,o){(function(t){function n(e,o,i){return this instanceof n?(g.call(this),this._cache=new r,this._last=void 0,this._cipher=new l.AES(o),this._prev=new t(i.length),i.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new n(e,o,i)}function r(){return this instanceof r?void(this.cache=new t("")):new r}function i(e){for(var t=e[15],o=-1;++o<t;)if(e[o+(16-t)]!==t)throw new Error("unable to decrypt data");return 16!==t?e.slice(0,16-t):void 0}function s(e,o,r){var i=u[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=new t(r)),"string"==typeof o&&(o=new t(o)),o.length!==i.key/8)throw new TypeError("invalid key length "+o.length);if(r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===i.type?new h(f[i.mode],o,r,!0):"auth"===i.type?new d(f[i.mode],o,r,!0):new n(f[i.mode],o,r)}function a(e,t){var o=u[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var n=p(t,!1,o.key,o.iv);return s(e,n.key,n.iv)}var l=e("./aes"),g=e("cipher-base"),c=e("inherits"),u=e("./modes"),h=e("./streamCipher"),d=e("./authCipher"),p=e("evp_bytestokey");c(n,g),n.prototype._update=function(e){this._cache.add(e);for(var o,n,r=[];o=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,o),r.push(n);return t.concat(r)},n.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return i(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},n.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},r.prototype.add=function(e){this.cache=t.concat([this.cache,e])},r.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},r.prototype.flush=function(){return this.cache.length?this.cache:void 0};var f={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};o.createDecipher=a,o.createDecipheriv=s}).call(this,e("buffer").Buffer)},{"./aes":12,"./authCipher":13,"./modes":18,"./modes/cbc":19,"./modes/cfb":20,"./modes/cfb1":21,"./modes/cfb8":22,"./modes/ctr":23,"./modes/ecb":24,"./modes/ofb":25,"./streamCipher":28,buffer:6,"cipher-base":27,evp_bytestokey:39,inherits:203}],16:[function(e,t,o){(function(t){function n(e,o,i){return this instanceof n?(l.call(this),this._cache=new r,this._cipher=new a.AES(o),this._prev=new t(i.length),i.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new n(e,o,i)}function r(){return this instanceof r?void(this.cache=new t("")):new r}function i(e,o,r){var i=c[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=new t(r)),"string"==typeof o&&(o=new t(o)),o.length!==i.key/8)throw new TypeError("invalid key length "+o.length);if(r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===i.type?new h(p[i.mode],o,r):"auth"===i.type?new d(p[i.mode],o,r):new n(p[i.mode],o,r)}function s(e,t){var o=c[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var n=u(t,!1,o.key,o.iv);return i(e,n.key,n.iv)}var a=e("./aes"),l=e("cipher-base"),g=e("inherits"),c=e("./modes"),u=e("evp_bytestokey"),h=e("./streamCipher"),d=e("./authCipher");g(n,l),n.prototype._update=function(e){this._cache.add(e);for(var o,n,r=[];o=this._cache.get();)n=this._mode.encrypt(this,o),r.push(n);return t.concat(r)},n.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if("10101010101010101010101010101010"!==e.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},n.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},r.prototype.add=function(e){this.cache=t.concat([this.cache,e])},r.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},r.prototype.flush=function(){for(var e=16-this.cache.length,o=new t(e),n=-1;++n<e;)o.writeUInt8(e,n);var r=t.concat([this.cache,o]);return r};var p={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};o.createCipheriv=i,o.createCipher=s}).call(this,e("buffer").Buffer)},{"./aes":12,"./authCipher":13,"./modes":18,"./modes/cbc":19,"./modes/cfb":20,"./modes/cfb1":21,"./modes/cfb8":22,"./modes/ctr":23,"./modes/ecb":24,"./modes/ofb":25,"./streamCipher":28,buffer:6,"cipher-base":27,evp_bytestokey:39,inherits:203}],17:[function(e,t,o){(function(e){function o(t){this.h=t,this.state=new e(16),this.state.fill(0),this.cache=new e("")}function n(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function r(t){t=t.map(i);var o=new e(16);return o.writeUInt32BE(t[0],0),o.writeUInt32BE(t[1],4),o.writeUInt32BE(t[2],8),o.writeUInt32BE(t[3],12),o}function i(e){var t,o;return t=e>l||0>e?(o=Math.abs(e)%l,0>e?l-o:o):e}function s(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}var a=new e(16);a.fill(0),t.exports=o,o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,o,i=n(this.h),a=[0,0,0,0],l=-1;++l<128;){for(t=0!==(this.state[~~(l/8)]&1<<7-l%8),t&&(a=s(a,i)),o=0!==(1&i[3]),e=3;e>0;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,o&&(i[0]=i[0]^225<<24)}this.state=r(a)},o.prototype.update=function(t){this.cache=e.concat([this.cache,t]);for(var o;this.cache.length>=16;)o=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(o)},o.prototype["final"]=function(t,o){return this.cache.length&&this.ghash(e.concat([this.cache,a],16)),this.ghash(r([0,t,0,o])),this.state};var l=Math.pow(2,32)}).call(this,e("buffer").Buffer)},{buffer:6}],18:[function(e,t,o){o["aes-128-ecb"]={cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},o["aes-192-ecb"]={cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},o["aes-256-ecb"]={cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},o["aes-128-cbc"]={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},o["aes-192-cbc"]={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},o["aes-256-cbc"]={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},o.aes128=o["aes-128-cbc"],o.aes192=o["aes-192-cbc"],o.aes256=o["aes-256-cbc"],o["aes-128-cfb"]={cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},o["aes-192-cfb"]={cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},o["aes-256-cfb"]={cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},o["aes-128-cfb8"]={cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},o["aes-192-cfb8"]={cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},o["aes-256-cfb8"]={cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},o["aes-128-cfb1"]={cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},o["aes-192-cfb1"]={cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},o["aes-256-cfb1"]={cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},o["aes-128-ofb"]={cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},o["aes-192-ofb"]={cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},o["aes-256-ofb"]={cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},o["aes-128-ctr"]={cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},o["aes-192-ctr"]={cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},o["aes-256-ctr"]={cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},o["aes-128-gcm"]={cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},o["aes-192-gcm"]={cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},o["aes-256-gcm"]={cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}},{}],19:[function(e,t,o){var n=e("buffer-xor");o.encrypt=function(e,t){var o=n(t,e._prev);return e._prev=e._cipher.encryptBlock(o),e._prev},o.decrypt=function(e,t){var o=e._prev;e._prev=t;var r=e._cipher.decryptBlock(t);return n(r,o)}},{"buffer-xor":26}],20:[function(e,t,o){(function(t){function n(e,o,n){var i=o.length,s=r(o,e._cache);return e._cache=e._cache.slice(i),e._prev=t.concat([e._prev,n?o:s]),s}var r=e("buffer-xor");o.encrypt=function(e,o,r){for(var i,s=new t("");o.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new t("")),!(e._cache.length<=o.length)){s=t.concat([s,n(e,o,r)]);break}i=e._cache.length,s=t.concat([s,n(e,o.slice(0,i),r)]),o=o.slice(i)}return s}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-xor":26}],21:[function(e,t,o){(function(e){function t(e,t,o){for(var r,i,s,a=-1,l=8,g=0;++a<l;)r=e._cipher.encryptBlock(e._prev),i=t&1<<7-a?128:0,s=r[0]^i,g+=(128&s)>>a%8,e._prev=n(e._prev,o?i:s);return g}function n(t,o){var n=t.length,r=-1,i=new e(t.length);for(t=e.concat([t,new e([o])]);++r<n;)i[r]=t[r]<<1|t[r+1]>>7;return i}o.encrypt=function(o,n,r){for(var i=n.length,s=new e(i),a=-1;++a<i;)s[a]=t(o,n[a],r);return s}}).call(this,e("buffer").Buffer)},{buffer:6}],22:[function(e,t,o){(function(e){function t(t,o,n){var r=t._cipher.encryptBlock(t._prev),i=r[0]^o;return t._prev=e.concat([t._prev.slice(1),new e([n?o:i])]),i}o.encrypt=function(o,n,r){for(var i=n.length,s=new e(i),a=-1;++a<i;)s[a]=t(o,n[a],r);return s}}).call(this,e("buffer").Buffer)},{buffer:6}],23:[function(e,t,o){(function(t){function n(e){for(var t,o=e.length;o--;){if(t=e.readUInt8(o),255!==t){t++,e.writeUInt8(t,o);break}e.writeUInt8(0,o)}}function r(e){var t=e._cipher.encryptBlock(e._prev);return n(e._prev),t}var i=e("buffer-xor");o.encrypt=function(e,o){for(;e._cache.length<o.length;)e._cache=t.concat([e._cache,r(e)]);var n=e._cache.slice(0,o.length);return e._cache=e._cache.slice(o.length),i(o,n)}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-xor":26}],24:[function(e,t,o){o.encrypt=function(e,t){return e._cipher.encryptBlock(t)},o.decrypt=function(e,t){return e._cipher.decryptBlock(t)}},{}],25:[function(e,t,o){(function(t){function n(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var r=e("buffer-xor");o.encrypt=function(e,o){for(;e._cache.length<o.length;)e._cache=t.concat([e._cache,n(e)]);var i=e._cache.slice(0,o.length);return e._cache=e._cache.slice(o.length),r(o,i)}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-xor":26}],26:[function(e,t,o){(function(e){t.exports=function(t,o){for(var n=Math.min(t.length,o.length),r=new e(n),i=0;n>i;++i)r[i]=t[i]^o[i];return r}}).call(this,e("buffer").Buffer)},{buffer:6}],27:[function(e,t,o){(function(o){function n(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this["final"]=this._finalOrDigest,this._decoder=null,this._encoding=null}var r=e("stream").Transform,i=e("inherits"),s=e("string_decoder").StringDecoder;t.exports=n,i(n,r),n.prototype.update=function(e,t,n){"string"==typeof e&&(e=new o(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(e,t,o){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(r){n=r}finally{o(n)}},n.prototype._flush=function(e){var t;try{this.push(this._final())}catch(o){t=o}finally{e(t)}},n.prototype._finalOrDigest=function(e){var t=this._final()||new o("");return e&&(t=this._toString(t,e,!0)),t},n.prototype._toString=function(e,t,o){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return o&&(n+=this._decoder.end()),n}}).call(this,e("buffer").Buffer)},{buffer:6,inherits:203,stream:220,string_decoder:221}],28:[function(e,t,o){(function(o){function n(e,t,s,a){return this instanceof n?(i.call(this),this._cipher=new r.AES(t),this._prev=new o(s.length),this._cache=new o(""),this._secCache=new o(""),this._decrypt=a,s.copy(this._prev),void(this._mode=e)):new n(e,t,s)}var r=e("./aes"),i=e("cipher-base"),s=e("inherits");s(n,i),t.exports=n,n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()}}).call(this,e("buffer").Buffer)},{"./aes":12,buffer:6,"cipher-base":27,inherits:203}],29:[function(e,t,o){(function(o){function n(e){r.call(this);var t,n=e.mode.toLowerCase(),i=a[n];t=e.decrypt?"decrypt":"encrypt";var s=e.key;"des-ede"!==n&&"des-ede-cbc"!==n||(s=o.concat([s,s.slice(0,8)]));var l=e.iv;this._des=i.create({key:s,iv:l,type:t})}var r=e("cipher-base"),i=e("des.js"),s=e("inherits"),a={"des-ede3-cbc":i.CBC.instantiate(i.EDE),"des-ede3":i.EDE,"des-ede-cbc":i.CBC.instantiate(i.EDE),"des-ede":i.EDE,"des-cbc":i.CBC.instantiate(i.DES),"des-ecb":i.DES};a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],t.exports=n,s(n,r),n.prototype._update=function(e){return new o(this._des.update(e))},n.prototype._final=function(){return new o(this._des["final"]())}}).call(this,e("buffer").Buffer)},{buffer:6,"cipher-base":31,"des.js":32,inherits:203}],30:[function(e,t,o){o["des-ecb"]={key:8,iv:0},o["des-cbc"]=o.des={key:8,iv:8},o["des-ede3-cbc"]=o.des3={key:24,iv:8},o["des-ede3"]={key:24,iv:0},o["des-ede-cbc"]={key:16,iv:8},o["des-ede"]={key:16,iv:0}},{}],31:[function(e,t,o){(function(o){function n(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this["final"]=this._finalOrDigest,this._decoder=null,this._encoding=null}var r=e("stream").Transform,i=e("inherits"),s=e("string_decoder").StringDecoder;t.exports=n,i(n,r),n.prototype.update=function(e,t,n){"string"==typeof e&&(e=new o(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(e,t,o){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(r){n=r}finally{o(n)}},n.prototype._flush=function(e){var t;try{this.push(this._final())}catch(o){t=o}finally{e(t)}},n.prototype._finalOrDigest=function(e){var t=this._final()||new o("");return e&&(t=this._toString(t,e,!0)),t},n.prototype._toString=function(e,t,o){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return o&&(n+=this._decoder.end()),n}}).call(this,e("buffer").Buffer)},{buffer:6,inherits:203,stream:220,string_decoder:221}],32:[function(e,t,o){"use strict";o.utils=e("./des/utils"),o.Cipher=e("./des/cipher"),o.DES=e("./des/des"),o.CBC=e("./des/cbc"),o.EDE=e("./des/ede")},{"./des/cbc":33,"./des/cipher":34,"./des/des":35,"./des/ede":36,"./des/utils":37}],33:[function(e,t,o){"use strict";function n(e){i.equal(e.length,8,"Invalid IV length"),this.iv=new Array(8);for(var t=0;t<this.iv.length;t++)this.iv[t]=e[t]}function r(e){function t(t){e.call(this,t),this._cbcInit()}s(t,e);for(var o=Object.keys(a),n=0;n<o.length;n++){var r=o[n];t.prototype[r]=a[r]}return t.create=function(e){return new t(e)},t}var i=e("minimalistic-assert"),s=e("inherits"),a={};o.instantiate=r,a._cbcInit=function(){var e=new n(this.options.iv);this._cbcState=e},a._update=function(e,t,o,n){var r=this._cbcState,i=this.constructor.super_.prototype,s=r.iv;if("encrypt"===this.type){for(var a=0;a<this.blockSize;a++)s[a]^=e[t+a];i._update.call(this,s,0,o,n);for(var a=0;a<this.blockSize;a++)s[a]=o[n+a]}else{i._update.call(this,e,t,o,n);for(var a=0;a<this.blockSize;a++)o[n+a]^=s[a];for(var a=0;a<this.blockSize;a++)s[a]=e[t+a]}}},{inherits:203,"minimalistic-assert":38}],34:[function(e,t,o){"use strict";function n(e){this.options=e,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var r=e("minimalistic-assert");t.exports=n,n.prototype._init=function(){},n.prototype.update=function(e){return 0===e.length?[]:"decrypt"===this.type?this._updateDecrypt(e):this._updateEncrypt(e)},n.prototype._buffer=function(e,t){for(var o=Math.min(this.buffer.length-this.bufferOff,e.length-t),n=0;o>n;n++)this.buffer[this.bufferOff+n]=e[t+n];return this.bufferOff+=o,o},n.prototype._flushBuffer=function(e,t){return this._update(this.buffer,0,e,t),this.bufferOff=0,this.blockSize},n.prototype._updateEncrypt=function(e){var t=0,o=0,n=(this.bufferOff+e.length)/this.blockSize|0,r=new Array(n*this.blockSize);0!==this.bufferOff&&(t+=this._buffer(e,t),this.bufferOff===this.buffer.length&&(o+=this._flushBuffer(r,o)));for(var i=e.length-(e.length-t)%this.blockSize;i>t;t+=this.blockSize)this._update(e,t,r,o),o+=this.blockSize;for(;t<e.length;t++,this.bufferOff++)this.buffer[this.bufferOff]=e[t];return r},n.prototype._updateDecrypt=function(e){for(var t=0,o=0,n=Math.ceil((this.bufferOff+e.length)/this.blockSize)-1,r=new Array(n*this.blockSize);n>0;n--)t+=this._buffer(e,t),o+=this._flushBuffer(r,o);return t+=this._buffer(e,t),r},n.prototype["final"]=function(e){var t;e&&(t=this.update(e));var o;return o="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),t?t.concat(o):o},n.prototype._pad=function(e,t){if(0===t)return!1;for(;t<e.length;)e[t++]=0;return!0},n.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var e=new Array(this.blockSize);return this._update(this.buffer,0,e,0),e},n.prototype._unpad=function(e){return e},n.prototype._finalDecrypt=function(){r.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var e=new Array(this.blockSize);return this._flushBuffer(e,0),this._unpad(e)}},{"minimalistic-assert":38}],35:[function(e,t,o){"use strict";function n(){this.tmp=new Array(2),this.keys=null}function r(e){g.call(this,e);var t=new n;this._desState=t,this.deriveKeys(t,e.key)}var i=e("minimalistic-assert"),s=e("inherits"),a=e("../des"),l=a.utils,g=a.Cipher;s(r,g),t.exports=r,r.create=function(e){return new r(e)};var c=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];r.prototype.deriveKeys=function(e,t){e.keys=new Array(32),i.equal(t.length,this.blockSize,"Invalid key length");var o=l.readUInt32BE(t,0),n=l.readUInt32BE(t,4);l.pc1(o,n,e.tmp,0),o=e.tmp[0],n=e.tmp[1];for(var r=0;r<e.keys.length;r+=2){var s=c[r>>>1];o=l.r28shl(o,s),n=l.r28shl(n,s),l.pc2(o,n,e.keys,r)}},r.prototype._update=function(e,t,o,n){var r=this._desState,i=l.readUInt32BE(e,t),s=l.readUInt32BE(e,t+4);l.ip(i,s,r.tmp,0),i=r.tmp[0],s=r.tmp[1],"encrypt"===this.type?this._encrypt(r,i,s,r.tmp,0):this._decrypt(r,i,s,r.tmp,0),i=r.tmp[0],s=r.tmp[1],l.writeUInt32BE(o,i,n),l.writeUInt32BE(o,s,n+4)},r.prototype._pad=function(e,t){for(var o=e.length-t,n=t;n<e.length;n++)e[n]=o;return!0},r.prototype._unpad=function(e){for(var t=e[e.length-1],o=e.length-t;o<e.length;o++)i.equal(e[o],t);return e.slice(0,e.length-t)},r.prototype._encrypt=function(e,t,o,n,r){for(var i=t,s=o,a=0;a<e.keys.length;a+=2){var g=e.keys[a],c=e.keys[a+1];l.expand(s,e.tmp,0),g^=e.tmp[0],c^=e.tmp[1];var u=l.substitute(g,c),h=l.permute(u),d=s;s=(i^h)>>>0,i=d}l.rip(s,i,n,r)},r.prototype._decrypt=function(e,t,o,n,r){for(var i=o,s=t,a=e.keys.length-2;a>=0;a-=2){var g=e.keys[a],c=e.keys[a+1];l.expand(i,e.tmp,0),g^=e.tmp[0],c^=e.tmp[1];var u=l.substitute(g,c),h=l.permute(u),d=i;i=(s^h)>>>0,s=d}l.rip(i,s,n,r)}},{"../des":32,inherits:203,"minimalistic-assert":38}],36:[function(e,t,o){"use strict";function n(e,t){i.equal(t.length,24,"Invalid key length");var o=t.slice(0,8),n=t.slice(8,16),r=t.slice(16,24);"encrypt"===e?this.ciphers=[g.create({type:"encrypt",key:o}),g.create({type:"decrypt",key:n}),g.create({type:"encrypt",key:r})]:this.ciphers=[g.create({type:"decrypt",key:r}),g.create({type:"encrypt",key:n}),g.create({type:"decrypt",key:o})]}function r(e){l.call(this,e);var t=new n(this.type,this.options.key);this._edeState=t}var i=e("minimalistic-assert"),s=e("inherits"),a=e("../des"),l=a.Cipher,g=a.DES;s(r,l),t.exports=r,r.create=function(e){return new r(e)},r.prototype._update=function(e,t,o,n){var r=this._edeState;r.ciphers[0]._update(e,t,o,n),r.ciphers[1]._update(o,n,o,n),r.ciphers[2]._update(o,n,o,n)},r.prototype._pad=g.prototype._pad,r.prototype._unpad=g.prototype._unpad},{"../des":32,inherits:203,"minimalistic-assert":38}],37:[function(e,t,o){"use strict";o.readUInt32BE=function(e,t){var o=e[0+t]<<24|e[1+t]<<16|e[2+t]<<8|e[3+t];return o>>>0},o.writeUInt32BE=function(e,t,o){e[0+o]=t>>>24,e[1+o]=t>>>16&255,e[2+o]=t>>>8&255,e[3+o]=255&t},o.ip=function(e,t,o,n){for(var r=0,i=0,s=6;s>=0;s-=2){for(var a=0;24>=a;a+=8)r<<=1,r|=t>>>a+s&1;for(var a=0;24>=a;a+=8)r<<=1,r|=e>>>a+s&1}for(var s=6;s>=0;s-=2){for(var a=1;25>=a;a+=8)i<<=1,i|=t>>>a+s&1;for(var a=1;25>=a;a+=8)i<<=1,i|=e>>>a+s&1}o[n+0]=r>>>0,o[n+1]=i>>>0},o.rip=function(e,t,o,n){for(var r=0,i=0,s=0;4>s;s++)for(var a=24;a>=0;a-=8)r<<=1,r|=t>>>a+s&1,r<<=1,r|=e>>>a+s&1;for(var s=4;8>s;s++)for(var a=24;a>=0;a-=8)i<<=1,i|=t>>>a+s&1,i<<=1,i|=e>>>a+s&1;o[n+0]=r>>>0,o[n+1]=i>>>0},o.pc1=function(e,t,o,n){for(var r=0,i=0,s=7;s>=5;s--){for(var a=0;24>=a;a+=8)r<<=1,r|=t>>a+s&1;for(var a=0;24>=a;a+=8)r<<=1,r|=e>>a+s&1}for(var a=0;24>=a;a+=8)r<<=1,r|=t>>a+s&1;for(var s=1;3>=s;s++){for(var a=0;24>=a;a+=8)i<<=1,i|=t>>a+s&1;for(var a=0;24>=a;a+=8)i<<=1,i|=e>>a+s&1}for(var a=0;24>=a;a+=8)i<<=1,i|=e>>a+s&1;o[n+0]=r>>>0,o[n+1]=i>>>0},o.r28shl=function(e,t){return e<<t&268435455|e>>>28-t};var n=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];o.pc2=function(e,t,o,r){for(var i=0,s=0,a=n.length>>>1,l=0;a>l;l++)i<<=1,i|=e>>>n[l]&1;for(var l=a;l<n.length;l++)s<<=1,s|=t>>>n[l]&1;o[r+0]=i>>>0,o[r+1]=s>>>0},o.expand=function(e,t,o){var n=0,r=0;n=(1&e)<<5|e>>>27;for(var i=23;i>=15;i-=4)n<<=6,n|=e>>>i&63;for(var i=11;i>=3;i-=4)r|=e>>>i&63,r<<=6;r|=(31&e)<<1|e>>>31,t[o+0]=n>>>0,t[o+1]=r>>>0};var r=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];o.substitute=function(e,t){for(var o=0,n=0;4>n;n++){var i=e>>>18-6*n&63,s=r[64*n+i];o<<=4,o|=s}for(var n=0;4>n;n++){var i=t>>>18-6*n&63,s=r[256+64*n+i];o<<=4,o|=s}return o>>>0};var i=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];o.permute=function(e){for(var t=0,o=0;o<i.length;o++)t<<=1,t|=e>>>i[o]&1;return t>>>0},o.padSplit=function(e,t,o){for(var n=e.toString(2);n.length<t;)n="0"+n;for(var r=[],i=0;t>i;i+=o)r.push(n.slice(i,i+o));return r.join(" ")}},{}],38:[function(e,t,o){function n(e,t){if(!e)throw new Error(t||"Assertion failed")}t.exports=n,n.equal=function(e,t,o){if(e!=t)throw new Error(o||"Assertion failed: "+e+" != "+t)}},{}],39:[function(e,t,o){(function(o){function n(e,t,n,i){o.isBuffer(e)||(e=new o(e,"binary")),t&&!o.isBuffer(t)&&(t=new o(t,"binary")),n/=8,i=i||0;for(var s,a,l=0,g=0,c=new o(n),u=new o(i),h=0,d=[];;){if(h++>0&&d.push(s),d.push(e),t&&d.push(t),s=r(o.concat(d)),d=[],a=0,n>0)for(;;){if(0===n)break;if(a===s.length)break;c[l++]=s[a],n--,a++}if(i>0&&a!==s.length)for(;;){if(0===i)break;if(a===s.length)break;u[g++]=s[a],i--,a++}if(0===n&&0===i)break}for(a=0;a<s.length;a++)s[a]=0;return{key:c,iv:u}}var r=e("create-hash/md5");t.exports=n}).call(this,e("buffer").Buffer)},{buffer:6,"create-hash/md5":136}],40:[function(e,t,o){(function(e){"use strict";o["RSA-SHA224"]=o.sha224WithRSAEncryption={sign:"rsa",hash:"sha224",id:new e("302d300d06096086480165030402040500041c","hex")},o["RSA-SHA256"]=o.sha256WithRSAEncryption={sign:"rsa",hash:"sha256",id:new e("3031300d060960864801650304020105000420","hex")},o["RSA-SHA384"]=o.sha384WithRSAEncryption={sign:"rsa",hash:"sha384",id:new e("3041300d060960864801650304020205000430","hex")},o["RSA-SHA512"]=o.sha512WithRSAEncryption={sign:"rsa",hash:"sha512",id:new e("3051300d060960864801650304020305000440","hex")},o["RSA-SHA1"]={sign:"rsa",hash:"sha1",id:new e("3021300906052b0e03021a05000414","hex")},o["ecdsa-with-SHA1"]={sign:"ecdsa",hash:"sha1",id:new e("","hex")},o.DSA=o["DSA-SHA1"]=o["DSA-SHA"]={sign:"dsa",hash:"sha1",id:new e("","hex")},o["DSA-SHA224"]=o["DSA-WITH-SHA224"]={sign:"dsa",hash:"sha224",id:new e("","hex")},o["DSA-SHA256"]=o["DSA-WITH-SHA256"]={sign:"dsa",hash:"sha256",id:new e("","hex")},o["DSA-SHA384"]=o["DSA-WITH-SHA384"]={sign:"dsa",hash:"sha384",id:new e("","hex")},o["DSA-SHA512"]=o["DSA-WITH-SHA512"]={sign:"dsa",hash:"sha512",id:new e("","hex")},o["DSA-RIPEMD160"]={sign:"dsa",hash:"rmd160",id:new e("","hex")},o["RSA-RIPEMD160"]=o.ripemd160WithRSA={sign:"rsa",hash:"rmd160",id:new e("3021300906052b2403020105000414","hex")},o["RSA-MD5"]=o.md5WithRSAEncryption={sign:"rsa",hash:"md5",id:new e("3020300c06082a864886f70d020505000410","hex")}}).call(this,e("buffer").Buffer)},{buffer:6}],41:[function(e,t,o){(function(o){function n(e){u.Writable.call(this);var t=d[e];if(!t)throw new Error("Unknown message digest");this._hashType=t.hash,this._hash=l(t.hash),this._tag=t.id,this._signType=t.sign}function r(e){u.Writable.call(this);var t=d[e];if(!t)throw new Error("Unknown message digest");this._hash=l(t.hash),this._tag=t.id,this._signType=t.sign}function i(e){return new n(e)}function s(e){return new r(e)}var a=e("./algos"),l=e("create-hash"),g=e("inherits"),c=e("./sign"),u=e("stream"),h=e("./verify"),d={};Object.keys(a).forEach(function(e){d[e]=d[e.toLowerCase()]=a[e]}),g(n,u.Writable),n.prototype._write=function(e,t,o){this._hash.update(e),o()},n.prototype.update=function(e,t){return"string"==typeof e&&(e=new o(e,t)),this._hash.update(e),this},n.prototype.sign=function(e,t){this.end();var n=this._hash.digest(),r=c(o.concat([this._tag,n]),e,this._hashType,this._signType);
return t?r.toString(t):r},g(r,u.Writable),r.prototype._write=function(e,t,o){this._hash.update(e),o()},r.prototype.update=function(e,t){return"string"==typeof e&&(e=new o(e,t)),this._hash.update(e),this},r.prototype.verify=function(e,t,n){"string"==typeof t&&(t=new o(t,n)),this.end();var r=this._hash.digest();return h(t,o.concat([this._tag,r]),e,this._signType)},t.exports={Sign:i,Verify:s,createSign:i,createVerify:s}}).call(this,e("buffer").Buffer)},{"./algos":40,"./sign":106,"./verify":107,buffer:6,"create-hash":134,inherits:203,stream:220}],42:[function(e,t,o){"use strict";o["1.3.132.0.10"]="secp256k1",o["1.3.132.0.33"]="p224",o["1.2.840.10045.3.1.1"]="p192",o["1.2.840.10045.3.1.7"]="p256",o["1.3.132.0.34"]="p384",o["1.3.132.0.35"]="p521"},{}],43:[function(e,t,o){!function(t,o){"use strict";function n(e,t){if(!e)throw new Error(t||"Assertion failed")}function r(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}function i(e,t,o){return i.isBN(e)?e:(this.negative=0,this.words=null,this.length=0,this.red=null,void(null!==e&&("le"!==t&&"be"!==t||(o=t,t=10),this._init(e||0,t||10,o||"be"))))}function s(e,t,o){for(var n=0,r=Math.min(e.length,o),i=t;r>i;i++){var s=e.charCodeAt(i)-48;n<<=4,n|=s>=49&&54>=s?s-49+10:s>=17&&22>=s?s-17+10:15&s}return n}function a(e,t,o,n){for(var r=0,i=Math.min(e.length,o),s=t;i>s;s++){var a=e.charCodeAt(s)-48;r*=n,r+=a>=49?a-49+10:a>=17?a-17+10:a}return r}function l(e){for(var t=new Array(e.bitLength()),o=0;o<t.length;o++){var n=o/26|0,r=o%26;t[o]=(e.words[n]&1<<r)>>>r}return t}function g(e,t,o){o.negative=t.negative^e.negative;var n=e.length+t.length|0;o.length=n,n=n-1|0;var r=0|e.words[0],i=0|t.words[0],s=r*i,a=67108863&s,l=s/67108864|0;o.words[0]=a;for(var g=1;n>g;g++){for(var c=l>>>26,u=67108863&l,h=Math.min(g,t.length-1),d=Math.max(0,g-e.length+1);h>=d;d++){var p=g-d|0;r=0|e.words[p],i=0|t.words[d],s=r*i+u,c+=s/67108864|0,u=67108863&s}o.words[g]=0|u,l=0|c}return 0!==l?o.words[g]=0|l:o.length--,o.strip()}function c(e,t,o){o.negative=t.negative^e.negative,o.length=e.length+t.length;for(var n=0,r=0,i=0;i<o.length-1;i++){var s=r;r=0;for(var a=67108863&n,l=Math.min(i,t.length-1),g=Math.max(0,i-e.length+1);l>=g;g++){var c=i-g,u=0|e.words[c],h=0|t.words[g],d=u*h,p=67108863&d;s=s+(d/67108864|0)|0,p=p+a|0,a=67108863&p,s=s+(p>>>26)|0,r+=s>>>26,s&=67108863}o.words[i]=a,n=s,s=r}return 0!==n?o.words[i]=n:o.length--,o.strip()}function u(e,t,o){var n=new h;return n.mulp(e,t,o)}function h(e,t){this.x=e,this.y=t}function d(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){d.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function f(){d.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function y(){d.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){d.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function m(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else n(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function b(e){m.call(this,e),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"==typeof t?t.exports=i:o.BN=i,i.BN=i,i.wordSize=26;var v;try{v=e("buffer").Buffer}catch(E){}i.isBN=function(e){return null!==e&&"object"==typeof e&&"BN"===e.constructor.name&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,o){if("number"==typeof e)return this._initNumber(e,t,o);if("object"==typeof e)return this._initArray(e,t,o);"hex"===t&&(t=16),n(t===(0|t)&&t>=2&&36>=t),e=e.toString().replace(/\s+/g,"");var r=0;"-"===e[0]&&r++,16===t?this._parseHex(e,r):this._parseBase(e,t,r),"-"===e[0]&&(this.negative=1),this.strip(),"le"===o&&this._initArray(this.toArray(),t,o)},i.prototype._initNumber=function(e,t,o){0>e&&(this.negative=1,e=-e),67108864>e?(this.words=[67108863&e],this.length=1):4503599627370496>e?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(n(9007199254740992>e),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===o&&this._initArray(this.toArray(),t,o)},i.prototype._initArray=function(e,t,o){if(n("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var i,s,a=0;if("be"===o)for(r=e.length-1,i=0;r>=0;r-=3)s=e[r]|e[r-1]<<8|e[r-2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,a+=24,a>=26&&(a-=26,i++);else if("le"===o)for(r=0,i=0;r<e.length;r+=3)s=e[r]|e[r+1]<<8|e[r+2]<<16,this.words[i]|=s<<a&67108863,this.words[i+1]=s>>>26-a&67108863,a+=24,a>=26&&(a-=26,i++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var n,r,i=0;for(o=e.length-6,n=0;o>=t;o-=6)r=s(e,o,o+6),this.words[n]|=r<<i&67108863,this.words[n+1]|=r>>>26-i&4194303,i+=24,i>=26&&(i-=26,n++);o+6!==t&&(r=s(e,t,o+6),this.words[n]|=r<<i&67108863,this.words[n+1]|=r>>>26-i&4194303),this.strip()},i.prototype._parseBase=function(e,t,o){this.words=[0],this.length=1;for(var n=0,r=1;67108863>=r;r*=t)n++;n--,r=r/t|0;for(var i=e.length-o,s=i%n,l=Math.min(i,i-s)+o,g=0,c=o;l>c;c+=n)g=a(e,c,c+n,t),this.imuln(r),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g);if(0!==s){var u=1;for(g=a(e,c,e.length,t),c=0;s>c;c++)u*=t;this.imuln(u),this.words[0]+g<67108864?this.words[0]+=g:this._iaddn(g)}},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var T=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],S=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],k=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(e,t){e=e||10,t=0|t||1;var o;if(16===e||"hex"===e){o="";for(var r=0,i=0,s=0;s<this.length;s++){var a=this.words[s],l=(16777215&(a<<r|i)).toString(16);i=a>>>24-r&16777215,o=0!==i||s!==this.length-1?T[6-l.length]+l+o:l+o,r+=2,r>=26&&(r-=26,s--)}for(0!==i&&(o=i.toString(16)+o);o.length%t!==0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}if(e===(0|e)&&e>=2&&36>=e){var g=S[e],c=k[e];o="";var u=this.clone();for(u.negative=0;!u.isZero();){var h=u.modn(c).toString(e);u=u.idivn(c),o=u.isZero()?h+o:T[g-h.length]+h+o}for(this.isZero()&&(o="0"+o);o.length%t!==0;)o="0"+o;return 0!==this.negative&&(o="-"+o),o}n(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return n("undefined"!=typeof v),this.toArrayLike(v,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,o){var r=this.byteLength(),i=o||Math.max(1,r);n(i>=r,"byte array longer than desired length"),n(i>0,"Requested array length <= 0"),this.strip();var s,a,l="le"===t,g=new e(i),c=this.clone();if(l){for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),g[a]=s;for(;i>a;a++)g[a]=0}else{for(a=0;i-r>a;a++)g[a]=0;for(a=0;!c.isZero();a++)s=c.andln(255),c.iushrn(8),g[i-a-1]=s}return g},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,o=0;return t>=4096&&(o+=13,t>>>=13),t>=64&&(o+=7,t>>>=7),t>=8&&(o+=4,t>>>=4),t>=2&&(o+=2,t>>>=2),o+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,o=0;return 0===(8191&t)&&(o+=13,t>>>=13),0===(127&t)&&(o+=7,t>>>=7),0===(15&t)&&(o+=4,t>>>=4),0===(3&t)&&(o+=2,t>>>=2),0===(1&t)&&o++,o},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var o=this._zeroBits(this.words[t]);if(e+=o,26!==o)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return n(0===(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var o=0;o<t.length;o++)this.words[o]=this.words[o]&e.words[o];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return n(0===(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,o;this.length>e.length?(t=this,o=e):(t=e,o=this);for(var n=0;n<o.length;n++)this.words[n]=t.words[n]^o.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return n(0===(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){n("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),o=e%26;this._expand(t),o>0&&t--;for(var r=0;t>r;r++)this.words[r]=67108863&~this.words[r];return o>0&&(this.words[r]=~this.words[r]&67108863>>26-o),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){n("number"==typeof e&&e>=0);var o=e/26|0,r=e%26;return this._expand(o+1),t?this.words[o]=this.words[o]|1<<r:this.words[o]=this.words[o]&~(1<<r),this.strip()},i.prototype.iadd=function(e){var t;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();var o,n;this.length>e.length?(o=this,n=e):(o=e,n=this);for(var r=0,i=0;i<n.length;i++)t=(0|o.words[i])+(0|n.words[i])+r,this.words[i]=67108863&t,r=t>>>26;for(;0!==r&&i<o.length;i++)t=(0|o.words[i])+r,this.words[i]=67108863&t,r=t>>>26;if(this.length=o.length,0!==r)this.words[this.length]=r,this.length++;else if(o!==this)for(;i<o.length;i++)this.words[i]=o.words[i];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var o=this.cmp(e);if(0===o)return this.negative=0,this.length=1,this.words[0]=0,this;var n,r;o>0?(n=this,r=e):(n=e,r=this);for(var i=0,s=0;s<r.length;s++)t=(0|n.words[s])-(0|r.words[s])+i,i=t>>26,this.words[s]=67108863&t;for(;0!==i&&s<n.length;s++)t=(0|n.words[s])+i,i=t>>26,this.words[s]=67108863&t;if(0===i&&s<n.length&&n!==this)for(;s<n.length;s++)this.words[s]=n.words[s];return this.length=Math.max(this.length,s),n!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var C=function(e,t,o){var n,r,i,s=e.words,a=t.words,l=o.words,g=0,c=0|s[0],u=8191&c,h=c>>>13,d=0|s[1],p=8191&d,f=d>>>13,y=0|s[2],_=8191&y,m=y>>>13,b=0|s[3],v=8191&b,E=b>>>13,T=0|s[4],S=8191&T,k=T>>>13,C=0|s[5],B=8191&C,I=C>>>13,A=0|s[6],w=8191&A,R=A>>>13,O=0|s[7],N=8191&O,M=O>>>13,L=0|s[8],D=8191&L,x=L>>>13,P=0|s[9],U=8191&P,H=P>>>13,F=0|a[0],G=8191&F,V=F>>>13,W=0|a[1],K=8191&W,j=W>>>13,X=0|a[2],Y=8191&X,q=X>>>13,z=0|a[3],J=8191&z,Q=z>>>13,Z=0|a[4],$=8191&Z,ee=Z>>>13,te=0|a[5],oe=8191&te,ne=te>>>13,re=0|a[6],ie=8191&re,se=re>>>13,ae=0|a[7],le=8191&ae,ge=ae>>>13,ce=0|a[8],ue=8191&ce,he=ce>>>13,de=0|a[9],pe=8191&de,fe=de>>>13;o.negative=e.negative^t.negative,o.length=19,n=Math.imul(u,G),r=Math.imul(u,V),r+=Math.imul(h,G),i=Math.imul(h,V);var ye=g+n+((8191&r)<<13);g=i+(r>>>13)+(ye>>>26),ye&=67108863,n=Math.imul(p,G),r=Math.imul(p,V),r+=Math.imul(f,G),i=Math.imul(f,V),n+=Math.imul(u,K),r+=Math.imul(u,j),r+=Math.imul(h,K),i+=Math.imul(h,j);var _e=g+n+((8191&r)<<13);g=i+(r>>>13)+(_e>>>26),_e&=67108863,n=Math.imul(_,G),r=Math.imul(_,V),r+=Math.imul(m,G),i=Math.imul(m,V),n+=Math.imul(p,K),r+=Math.imul(p,j),r+=Math.imul(f,K),i+=Math.imul(f,j),n+=Math.imul(u,Y),r+=Math.imul(u,q),r+=Math.imul(h,Y),i+=Math.imul(h,q);var me=g+n+((8191&r)<<13);g=i+(r>>>13)+(me>>>26),me&=67108863,n=Math.imul(v,G),r=Math.imul(v,V),r+=Math.imul(E,G),i=Math.imul(E,V),n+=Math.imul(_,K),r+=Math.imul(_,j),r+=Math.imul(m,K),i+=Math.imul(m,j),n+=Math.imul(p,Y),r+=Math.imul(p,q),r+=Math.imul(f,Y),i+=Math.imul(f,q),n+=Math.imul(u,J),r+=Math.imul(u,Q),r+=Math.imul(h,J),i+=Math.imul(h,Q);var be=g+n+((8191&r)<<13);g=i+(r>>>13)+(be>>>26),be&=67108863,n=Math.imul(S,G),r=Math.imul(S,V),r+=Math.imul(k,G),i=Math.imul(k,V),n+=Math.imul(v,K),r+=Math.imul(v,j),r+=Math.imul(E,K),i+=Math.imul(E,j),n+=Math.imul(_,Y),r+=Math.imul(_,q),r+=Math.imul(m,Y),i+=Math.imul(m,q),n+=Math.imul(p,J),r+=Math.imul(p,Q),r+=Math.imul(f,J),i+=Math.imul(f,Q),n+=Math.imul(u,$),r+=Math.imul(u,ee),r+=Math.imul(h,$),i+=Math.imul(h,ee);var ve=g+n+((8191&r)<<13);g=i+(r>>>13)+(ve>>>26),ve&=67108863,n=Math.imul(B,G),r=Math.imul(B,V),r+=Math.imul(I,G),i=Math.imul(I,V),n+=Math.imul(S,K),r+=Math.imul(S,j),r+=Math.imul(k,K),i+=Math.imul(k,j),n+=Math.imul(v,Y),r+=Math.imul(v,q),r+=Math.imul(E,Y),i+=Math.imul(E,q),n+=Math.imul(_,J),r+=Math.imul(_,Q),r+=Math.imul(m,J),i+=Math.imul(m,Q),n+=Math.imul(p,$),r+=Math.imul(p,ee),r+=Math.imul(f,$),i+=Math.imul(f,ee),n+=Math.imul(u,oe),r+=Math.imul(u,ne),r+=Math.imul(h,oe),i+=Math.imul(h,ne);var Ee=g+n+((8191&r)<<13);g=i+(r>>>13)+(Ee>>>26),Ee&=67108863,n=Math.imul(w,G),r=Math.imul(w,V),r+=Math.imul(R,G),i=Math.imul(R,V),n+=Math.imul(B,K),r+=Math.imul(B,j),r+=Math.imul(I,K),i+=Math.imul(I,j),n+=Math.imul(S,Y),r+=Math.imul(S,q),r+=Math.imul(k,Y),i+=Math.imul(k,q),n+=Math.imul(v,J),r+=Math.imul(v,Q),r+=Math.imul(E,J),i+=Math.imul(E,Q),n+=Math.imul(_,$),r+=Math.imul(_,ee),r+=Math.imul(m,$),i+=Math.imul(m,ee),n+=Math.imul(p,oe),r+=Math.imul(p,ne),r+=Math.imul(f,oe),i+=Math.imul(f,ne),n+=Math.imul(u,ie),r+=Math.imul(u,se),r+=Math.imul(h,ie),i+=Math.imul(h,se);var Te=g+n+((8191&r)<<13);g=i+(r>>>13)+(Te>>>26),Te&=67108863,n=Math.imul(N,G),r=Math.imul(N,V),r+=Math.imul(M,G),i=Math.imul(M,V),n+=Math.imul(w,K),r+=Math.imul(w,j),r+=Math.imul(R,K),i+=Math.imul(R,j),n+=Math.imul(B,Y),r+=Math.imul(B,q),r+=Math.imul(I,Y),i+=Math.imul(I,q),n+=Math.imul(S,J),r+=Math.imul(S,Q),r+=Math.imul(k,J),i+=Math.imul(k,Q),n+=Math.imul(v,$),r+=Math.imul(v,ee),r+=Math.imul(E,$),i+=Math.imul(E,ee),n+=Math.imul(_,oe),r+=Math.imul(_,ne),r+=Math.imul(m,oe),i+=Math.imul(m,ne),n+=Math.imul(p,ie),r+=Math.imul(p,se),r+=Math.imul(f,ie),i+=Math.imul(f,se),n+=Math.imul(u,le),r+=Math.imul(u,ge),r+=Math.imul(h,le),i+=Math.imul(h,ge);var Se=g+n+((8191&r)<<13);g=i+(r>>>13)+(Se>>>26),Se&=67108863,n=Math.imul(D,G),r=Math.imul(D,V),r+=Math.imul(x,G),i=Math.imul(x,V),n+=Math.imul(N,K),r+=Math.imul(N,j),r+=Math.imul(M,K),i+=Math.imul(M,j),n+=Math.imul(w,Y),r+=Math.imul(w,q),r+=Math.imul(R,Y),i+=Math.imul(R,q),n+=Math.imul(B,J),r+=Math.imul(B,Q),r+=Math.imul(I,J),i+=Math.imul(I,Q),n+=Math.imul(S,$),r+=Math.imul(S,ee),r+=Math.imul(k,$),i+=Math.imul(k,ee),n+=Math.imul(v,oe),r+=Math.imul(v,ne),r+=Math.imul(E,oe),i+=Math.imul(E,ne),n+=Math.imul(_,ie),r+=Math.imul(_,se),r+=Math.imul(m,ie),i+=Math.imul(m,se),n+=Math.imul(p,le),r+=Math.imul(p,ge),r+=Math.imul(f,le),i+=Math.imul(f,ge),n+=Math.imul(u,ue),r+=Math.imul(u,he),r+=Math.imul(h,ue),i+=Math.imul(h,he);var ke=g+n+((8191&r)<<13);g=i+(r>>>13)+(ke>>>26),ke&=67108863,n=Math.imul(U,G),r=Math.imul(U,V),r+=Math.imul(H,G),i=Math.imul(H,V),n+=Math.imul(D,K),r+=Math.imul(D,j),r+=Math.imul(x,K),i+=Math.imul(x,j),n+=Math.imul(N,Y),r+=Math.imul(N,q),r+=Math.imul(M,Y),i+=Math.imul(M,q),n+=Math.imul(w,J),r+=Math.imul(w,Q),r+=Math.imul(R,J),i+=Math.imul(R,Q),n+=Math.imul(B,$),r+=Math.imul(B,ee),r+=Math.imul(I,$),i+=Math.imul(I,ee),n+=Math.imul(S,oe),r+=Math.imul(S,ne),r+=Math.imul(k,oe),i+=Math.imul(k,ne),n+=Math.imul(v,ie),r+=Math.imul(v,se),r+=Math.imul(E,ie),i+=Math.imul(E,se),n+=Math.imul(_,le),r+=Math.imul(_,ge),r+=Math.imul(m,le),i+=Math.imul(m,ge),n+=Math.imul(p,ue),r+=Math.imul(p,he),r+=Math.imul(f,ue),i+=Math.imul(f,he),n+=Math.imul(u,pe),r+=Math.imul(u,fe),r+=Math.imul(h,pe),i+=Math.imul(h,fe);var Ce=g+n+((8191&r)<<13);g=i+(r>>>13)+(Ce>>>26),Ce&=67108863,n=Math.imul(U,K),r=Math.imul(U,j),r+=Math.imul(H,K),i=Math.imul(H,j),n+=Math.imul(D,Y),r+=Math.imul(D,q),r+=Math.imul(x,Y),i+=Math.imul(x,q),n+=Math.imul(N,J),r+=Math.imul(N,Q),r+=Math.imul(M,J),i+=Math.imul(M,Q),n+=Math.imul(w,$),r+=Math.imul(w,ee),r+=Math.imul(R,$),i+=Math.imul(R,ee),n+=Math.imul(B,oe),r+=Math.imul(B,ne),r+=Math.imul(I,oe),i+=Math.imul(I,ne),n+=Math.imul(S,ie),r+=Math.imul(S,se),r+=Math.imul(k,ie),i+=Math.imul(k,se),n+=Math.imul(v,le),r+=Math.imul(v,ge),r+=Math.imul(E,le),i+=Math.imul(E,ge),n+=Math.imul(_,ue),r+=Math.imul(_,he),r+=Math.imul(m,ue),i+=Math.imul(m,he),n+=Math.imul(p,pe),r+=Math.imul(p,fe),r+=Math.imul(f,pe),i+=Math.imul(f,fe);var Be=g+n+((8191&r)<<13);g=i+(r>>>13)+(Be>>>26),Be&=67108863,n=Math.imul(U,Y),r=Math.imul(U,q),r+=Math.imul(H,Y),i=Math.imul(H,q),n+=Math.imul(D,J),r+=Math.imul(D,Q),r+=Math.imul(x,J),i+=Math.imul(x,Q),n+=Math.imul(N,$),r+=Math.imul(N,ee),r+=Math.imul(M,$),i+=Math.imul(M,ee),n+=Math.imul(w,oe),r+=Math.imul(w,ne),r+=Math.imul(R,oe),i+=Math.imul(R,ne),n+=Math.imul(B,ie),r+=Math.imul(B,se),r+=Math.imul(I,ie),i+=Math.imul(I,se),n+=Math.imul(S,le),r+=Math.imul(S,ge),r+=Math.imul(k,le),i+=Math.imul(k,ge),n+=Math.imul(v,ue),r+=Math.imul(v,he),r+=Math.imul(E,ue),i+=Math.imul(E,he),n+=Math.imul(_,pe),r+=Math.imul(_,fe),r+=Math.imul(m,pe),i+=Math.imul(m,fe);var Ie=g+n+((8191&r)<<13);g=i+(r>>>13)+(Ie>>>26),Ie&=67108863,n=Math.imul(U,J),r=Math.imul(U,Q),r+=Math.imul(H,J),i=Math.imul(H,Q),n+=Math.imul(D,$),r+=Math.imul(D,ee),r+=Math.imul(x,$),i+=Math.imul(x,ee),n+=Math.imul(N,oe),r+=Math.imul(N,ne),r+=Math.imul(M,oe),i+=Math.imul(M,ne),n+=Math.imul(w,ie),r+=Math.imul(w,se),r+=Math.imul(R,ie),i+=Math.imul(R,se),n+=Math.imul(B,le),r+=Math.imul(B,ge),r+=Math.imul(I,le),i+=Math.imul(I,ge),n+=Math.imul(S,ue),r+=Math.imul(S,he),r+=Math.imul(k,ue),i+=Math.imul(k,he),n+=Math.imul(v,pe),r+=Math.imul(v,fe),r+=Math.imul(E,pe),i+=Math.imul(E,fe);var Ae=g+n+((8191&r)<<13);g=i+(r>>>13)+(Ae>>>26),Ae&=67108863,n=Math.imul(U,$),r=Math.imul(U,ee),r+=Math.imul(H,$),i=Math.imul(H,ee),n+=Math.imul(D,oe),r+=Math.imul(D,ne),r+=Math.imul(x,oe),i+=Math.imul(x,ne),n+=Math.imul(N,ie),r+=Math.imul(N,se),r+=Math.imul(M,ie),i+=Math.imul(M,se),n+=Math.imul(w,le),r+=Math.imul(w,ge),r+=Math.imul(R,le),i+=Math.imul(R,ge),n+=Math.imul(B,ue),r+=Math.imul(B,he),r+=Math.imul(I,ue),i+=Math.imul(I,he),n+=Math.imul(S,pe),r+=Math.imul(S,fe),r+=Math.imul(k,pe),i+=Math.imul(k,fe);var we=g+n+((8191&r)<<13);g=i+(r>>>13)+(we>>>26),we&=67108863,n=Math.imul(U,oe),r=Math.imul(U,ne),r+=Math.imul(H,oe),i=Math.imul(H,ne),n+=Math.imul(D,ie),r+=Math.imul(D,se),r+=Math.imul(x,ie),i+=Math.imul(x,se),n+=Math.imul(N,le),r+=Math.imul(N,ge),r+=Math.imul(M,le),i+=Math.imul(M,ge),n+=Math.imul(w,ue),r+=Math.imul(w,he),r+=Math.imul(R,ue),i+=Math.imul(R,he),n+=Math.imul(B,pe),r+=Math.imul(B,fe),r+=Math.imul(I,pe),i+=Math.imul(I,fe);var Re=g+n+((8191&r)<<13);g=i+(r>>>13)+(Re>>>26),Re&=67108863,n=Math.imul(U,ie),r=Math.imul(U,se),r+=Math.imul(H,ie),i=Math.imul(H,se),n+=Math.imul(D,le),r+=Math.imul(D,ge),r+=Math.imul(x,le),i+=Math.imul(x,ge),n+=Math.imul(N,ue),r+=Math.imul(N,he),r+=Math.imul(M,ue),i+=Math.imul(M,he),n+=Math.imul(w,pe),r+=Math.imul(w,fe),r+=Math.imul(R,pe),i+=Math.imul(R,fe);var Oe=g+n+((8191&r)<<13);g=i+(r>>>13)+(Oe>>>26),Oe&=67108863,n=Math.imul(U,le),r=Math.imul(U,ge),r+=Math.imul(H,le),i=Math.imul(H,ge),n+=Math.imul(D,ue),r+=Math.imul(D,he),r+=Math.imul(x,ue),i+=Math.imul(x,he),n+=Math.imul(N,pe),r+=Math.imul(N,fe),r+=Math.imul(M,pe),i+=Math.imul(M,fe);var Ne=g+n+((8191&r)<<13);g=i+(r>>>13)+(Ne>>>26),Ne&=67108863,n=Math.imul(U,ue),r=Math.imul(U,he),r+=Math.imul(H,ue),i=Math.imul(H,he),n+=Math.imul(D,pe),r+=Math.imul(D,fe),r+=Math.imul(x,pe),i+=Math.imul(x,fe);var Me=g+n+((8191&r)<<13);g=i+(r>>>13)+(Me>>>26),Me&=67108863,n=Math.imul(U,pe),r=Math.imul(U,fe),r+=Math.imul(H,pe),i=Math.imul(H,fe);var Le=g+n+((8191&r)<<13);return g=i+(r>>>13)+(Le>>>26),Le&=67108863,l[0]=ye,l[1]=_e,l[2]=me,l[3]=be,l[4]=ve,l[5]=Ee,l[6]=Te,l[7]=Se,l[8]=ke,l[9]=Ce,l[10]=Be,l[11]=Ie,l[12]=Ae,l[13]=we,l[14]=Re,l[15]=Oe,l[16]=Ne,l[17]=Me,l[18]=Le,0!==g&&(l[19]=g,o.length++),o};Math.imul||(C=g),i.prototype.mulTo=function(e,t){var o,n=this.length+e.length;return o=10===this.length&&10===e.length?C(this,e,t):63>n?g(this,e,t):1024>n?c(this,e,t):u(this,e,t)},h.prototype.makeRBT=function(e){for(var t=new Array(e),o=i.prototype._countBits(e)-1,n=0;e>n;n++)t[n]=this.revBin(n,o,e);return t},h.prototype.revBin=function(e,t,o){if(0===e||e===o-1)return e;for(var n=0,r=0;t>r;r++)n|=(1&e)<<t-r-1,e>>=1;return n},h.prototype.permute=function(e,t,o,n,r,i){for(var s=0;i>s;s++)n[s]=t[e[s]],r[s]=o[e[s]]},h.prototype.transform=function(e,t,o,n,r,i){this.permute(i,e,t,o,n,r);for(var s=1;r>s;s<<=1)for(var a=s<<1,l=Math.cos(2*Math.PI/a),g=Math.sin(2*Math.PI/a),c=0;r>c;c+=a)for(var u=l,h=g,d=0;s>d;d++){var p=o[c+d],f=n[c+d],y=o[c+d+s],_=n[c+d+s],m=u*y-h*_;_=u*_+h*y,y=m,o[c+d]=p+y,n[c+d]=f+_,o[c+d+s]=p-y,n[c+d+s]=f-_,d!==a&&(m=l*u-g*h,h=l*h+g*u,u=m)}},h.prototype.guessLen13b=function(e,t){var o=1|Math.max(t,e),n=1&o,r=0;for(o=o/2|0;o;o>>>=1)r++;return 1<<r+1+n},h.prototype.conjugate=function(e,t,o){if(!(1>=o))for(var n=0;o/2>n;n++){var r=e[n];e[n]=e[o-n-1],e[o-n-1]=r,r=t[n],t[n]=-t[o-n-1],t[o-n-1]=-r}},h.prototype.normalize13b=function(e,t){for(var o=0,n=0;t/2>n;n++){var r=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+o;e[n]=67108863&r,o=67108864>r?0:r/67108864|0}return e},h.prototype.convert13b=function(e,t,o,r){for(var i=0,s=0;t>s;s++)i+=0|e[s],o[2*s]=8191&i,i>>>=13,o[2*s+1]=8191&i,i>>>=13;for(s=2*t;r>s;++s)o[s]=0;n(0===i),n(0===(-8192&i))},h.prototype.stub=function(e){for(var t=new Array(e),o=0;e>o;o++)t[o]=0;return t},h.prototype.mulp=function(e,t,o){var n=2*this.guessLen13b(e.length,t.length),r=this.makeRBT(n),i=this.stub(n),s=new Array(n),a=new Array(n),l=new Array(n),g=new Array(n),c=new Array(n),u=new Array(n),h=o.words;h.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,g,n),this.transform(s,i,a,l,n,r),this.transform(g,i,c,u,n,r);for(var d=0;n>d;d++){var p=a[d]*c[d]-l[d]*u[d];l[d]=a[d]*u[d]+l[d]*c[d],a[d]=p}return this.conjugate(a,l,n),this.transform(a,l,h,i,n,r),this.conjugate(h,i,n),this.normalize13b(h,n),o.negative=e.negative^t.negative,o.length=e.length+t.length,o.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),u(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){n("number"==typeof e),n(67108864>e);for(var t=0,o=0;o<this.length;o++){var r=(0|this.words[o])*e,i=(67108863&r)+(67108863&t);t>>=26,t+=r/67108864|0,t+=i>>>26,this.words[o]=67108863&i}return 0!==t&&(this.words[o]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=l(e);if(0===t.length)return new i(1);for(var o=this,n=0;n<t.length&&0===t[n];n++,o=o.sqr());if(++n<t.length)for(var r=o.sqr();n<t.length;n++,r=r.sqr())0!==t[n]&&(o=o.mul(r));return o},i.prototype.iushln=function(e){n("number"==typeof e&&e>=0);var t,o=e%26,r=(e-o)/26,i=67108863>>>26-o<<26-o;if(0!==o){var s=0;for(t=0;t<this.length;t++){var a=this.words[t]&i,l=(0|this.words[t])-a<<o;this.words[t]=l|s,s=a>>>26-o}s&&(this.words[t]=s,this.length++)}if(0!==r){for(t=this.length-1;t>=0;t--)this.words[t+r]=this.words[t];for(t=0;r>t;t++)this.words[t]=0;this.length+=r}return this.strip()},i.prototype.ishln=function(e){return n(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,o){n("number"==typeof e&&e>=0);var r;r=t?(t-t%26)/26:0;var i=e%26,s=Math.min((e-i)/26,this.length),a=67108863^67108863>>>i<<i,l=o;if(r-=s,r=Math.max(0,r),l){for(var g=0;s>g;g++)l.words[g]=this.words[g];l.length=s}if(0===s);else if(this.length>s)for(this.length-=s,g=0;g<this.length;g++)this.words[g]=this.words[g+s];else this.words[0]=0,this.length=1;var c=0;for(g=this.length-1;g>=0&&(0!==c||g>=r);g--){var u=0|this.words[g];this.words[g]=c<<26-i|u>>>i,c=u&a}return l&&0!==c&&(l.words[l.length++]=c),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,o){return n(0===this.negative),this.iushrn(e,t,o)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){n("number"==typeof e&&e>=0);var t=e%26,o=(e-t)/26,r=1<<t;if(this.length<=o)return!1;var i=this.words[o];return!!(i&r)},i.prototype.imaskn=function(e){n("number"==typeof e&&e>=0);var t=e%26,o=(e-t)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),0!==t&&o++,this.length=Math.min(o,this.length),0!==t){var r=67108863^67108863>>>t<<t;this.words[this.length-1]&=r}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return n("number"==typeof e),n(67108864>e),0>e?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(n("number"==typeof e),n(67108864>e),0>e)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,o){var r,i=e.length+o;this._expand(i);var s,a=0;for(r=0;r<e.length;r++){s=(0|this.words[r+o])+a;var l=(0|e.words[r])*t;s-=67108863&l,a=(s>>26)-(l/67108864|0),this.words[r+o]=67108863&s}for(;r<this.length-o;r++)s=(0|this.words[r+o])+a,a=s>>26,this.words[r+o]=67108863&s;if(0===a)return this.strip();for(n(-1===a),a=0,r=0;r<this.length;r++)s=-(0|this.words[r])+a,a=s>>26,this.words[r]=67108863&s;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var o=this.length-e.length,n=this.clone(),r=e,s=0|r.words[r.length-1],a=this._countBits(s);o=26-a,0!==o&&(r=r.ushln(o),n.iushln(o),s=0|r.words[r.length-1]);var l,g=n.length-r.length;if("mod"!==t){l=new i(null),l.length=g+1,l.words=new Array(l.length);for(var c=0;c<l.length;c++)l.words[c]=0}var u=n.clone()._ishlnsubmul(r,1,g);0===u.negative&&(n=u,l&&(l.words[g]=1));for(var h=g-1;h>=0;h--){var d=67108864*(0|n.words[r.length+h])+(0|n.words[r.length+h-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(r,d,h);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(r,1,h),n.isZero()||(n.negative^=1);l&&(l.words[h]=d)}return l&&l.strip(),n.strip(),"div"!==t&&0!==o&&n.iushrn(o),{div:l||null,mod:n}},i.prototype.divmod=function(e,t,o){if(n(!e.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var r,s,a;return 0!==this.negative&&0===e.negative?(a=this.neg().divmod(e,t),"mod"!==t&&(r=a.div.neg()),"div"!==t&&(s=a.mod.neg(),o&&0!==s.negative&&s.iadd(e)),{div:r,mod:s}):0===this.negative&&0!==e.negative?(a=this.divmod(e.neg(),t),"mod"!==t&&(r=a.div.neg()),{div:r,mod:a.mod}):0!==(this.negative&e.negative)?(a=this.neg().divmod(e.neg(),t),"div"!==t&&(s=a.mod.neg(),o&&0!==s.negative&&s.isub(e)),{div:a.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t)},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var o=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),r=e.andln(1),i=o.cmp(n);return 0>i||1===r&&0===i?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){n(67108863>=e);for(var t=(1<<26)%e,o=0,r=this.length-1;r>=0;r--)o=(t*o+(0|this.words[r]))%e;return o},i.prototype.idivn=function(e){n(67108863>=e);for(var t=0,o=this.length-1;o>=0;o--){var r=(0|this.words[o])+67108864*t;this.words[o]=r/e|0,t=r%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){n(0===e.negative),n(!e.isZero());var t=this,o=e.clone();
t=0!==t.negative?t.umod(e):t.clone();for(var r=new i(1),s=new i(0),a=new i(0),l=new i(1),g=0;t.isEven()&&o.isEven();)t.iushrn(1),o.iushrn(1),++g;for(var c=o.clone(),u=t.clone();!t.isZero();){for(var h=0,d=1;0===(t.words[0]&d)&&26>h;++h,d<<=1);if(h>0)for(t.iushrn(h);h-- >0;)(r.isOdd()||s.isOdd())&&(r.iadd(c),s.isub(u)),r.iushrn(1),s.iushrn(1);for(var p=0,f=1;0===(o.words[0]&f)&&26>p;++p,f<<=1);if(p>0)for(o.iushrn(p);p-- >0;)(a.isOdd()||l.isOdd())&&(a.iadd(c),l.isub(u)),a.iushrn(1),l.iushrn(1);t.cmp(o)>=0?(t.isub(o),r.isub(a),s.isub(l)):(o.isub(t),a.isub(r),l.isub(s))}return{a:a,b:l,gcd:o.iushln(g)}},i.prototype._invmp=function(e){n(0===e.negative),n(!e.isZero());var t=this,o=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var r=new i(1),s=new i(0),a=o.clone();t.cmpn(1)>0&&o.cmpn(1)>0;){for(var l=0,g=1;0===(t.words[0]&g)&&26>l;++l,g<<=1);if(l>0)for(t.iushrn(l);l-- >0;)r.isOdd()&&r.iadd(a),r.iushrn(1);for(var c=0,u=1;0===(o.words[0]&u)&&26>c;++c,u<<=1);if(c>0)for(o.iushrn(c);c-- >0;)s.isOdd()&&s.iadd(a),s.iushrn(1);t.cmp(o)>=0?(t.isub(o),r.isub(s)):(o.isub(t),s.isub(r))}var h;return h=0===t.cmpn(1)?r:s,h.cmpn(0)<0&&h.iadd(e),h},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),o=e.clone();t.negative=0,o.negative=0;for(var n=0;t.isEven()&&o.isEven();n++)t.iushrn(1),o.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;o.isEven();)o.iushrn(1);var r=t.cmp(o);if(0>r){var i=t;t=o,o=i}else if(0===r||0===o.cmpn(1))break;t.isub(o)}return o.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0===(1&this.words[0])},i.prototype.isOdd=function(){return 1===(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){n("number"==typeof e);var t=e%26,o=(e-t)/26,r=1<<t;if(this.length<=o)return this._expand(o+1),this.words[o]|=r,this;for(var i=r,s=o;0!==i&&s<this.length;s++){var a=0|this.words[s];a+=i,i=a>>>26,a&=67108863,this.words[s]=a}return 0!==i&&(this.words[s]=i,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t=0>e;if(0!==this.negative&&!t)return-1;if(0===this.negative&&t)return 1;this.strip();var o;if(this.length>1)o=1;else{t&&(e=-e),n(67108863>=e,"Number is too big");var r=0|this.words[0];o=r===e?0:e>r?-1:1}return 0!==this.negative?0|-o:o},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,o=this.length-1;o>=0;o--){var n=0|this.words[o],r=0|e.words[o];if(n!==r){r>n?t=-1:n>r&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new m(e)},i.prototype.toRed=function(e){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return n(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return n(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var B={k256:null,p224:null,p192:null,p25519:null};d.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},d.prototype.ireduce=function(e){var t,o=e;do this.split(o,this.tmp),o=this.imulK(o),o=o.iadd(this.tmp),t=o.bitLength();while(t>this.n);var n=t<this.n?-1:o.ucmp(this.p);return 0===n?(o.words[0]=0,o.length=1):n>0?o.isub(this.p):o.strip(),o},d.prototype.split=function(e,t){e.iushrn(this.n,0,t)},d.prototype.imulK=function(e){return e.imul(this.k)},r(p,d),p.prototype.split=function(e,t){for(var o=4194303,n=Math.min(e.length,9),r=0;n>r;r++)t.words[r]=e.words[r];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var i=e.words[9];for(t.words[t.length++]=i&o,r=10;r<e.length;r++){var s=0|e.words[r];e.words[r-10]=(s&o)<<4|i>>>22,i=s}i>>>=22,e.words[r-10]=i,0===i&&e.length>10?e.length-=10:e.length-=9},p.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,o=0;o<e.length;o++){var n=0|e.words[o];t+=977*n,e.words[o]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},r(f,d),r(y,d),r(_,d),_.prototype.imulK=function(e){for(var t=0,o=0;o<e.length;o++){var n=19*(0|e.words[o])+t,r=67108863&n;n>>>=26,e.words[o]=r,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function I(e){if(B[e])return B[e];var I;if("k256"===e)I=new p;else if("p224"===e)I=new f;else if("p192"===e)I=new y;else{if("p25519"!==e)throw new Error("Unknown prime "+e);I=new _}return B[e]=I,I},m.prototype._verify1=function(e){n(0===e.negative,"red works only with positives"),n(e.red,"red works only with red numbers")},m.prototype._verify2=function(e,t){n(0===(e.negative|t.negative),"red works only with positives"),n(e.red&&e.red===t.red,"red works only with red numbers")},m.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},m.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},m.prototype.add=function(e,t){this._verify2(e,t);var o=e.add(t);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},m.prototype.iadd=function(e,t){this._verify2(e,t);var o=e.iadd(t);return o.cmp(this.m)>=0&&o.isub(this.m),o},m.prototype.sub=function(e,t){this._verify2(e,t);var o=e.sub(t);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},m.prototype.isub=function(e,t){this._verify2(e,t);var o=e.isub(t);return o.cmpn(0)<0&&o.iadd(this.m),o},m.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},m.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},m.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},m.prototype.isqr=function(e){return this.imul(e,e.clone())},m.prototype.sqr=function(e){return this.mul(e,e)},m.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(n(t%2===1),3===t){var o=this.m.add(new i(1)).iushrn(2);return this.pow(e,o)}for(var r=this.m.subn(1),s=0;!r.isZero()&&0===r.andln(1);)s++,r.iushrn(1);n(!r.isZero());var a=new i(1).toRed(this),l=a.redNeg(),g=this.m.subn(1).iushrn(1),c=this.m.bitLength();for(c=new i(2*c*c).toRed(this);0!==this.pow(c,g).cmp(l);)c.redIAdd(l);for(var u=this.pow(c,r),h=this.pow(e,r.addn(1).iushrn(1)),d=this.pow(e,r),p=s;0!==d.cmp(a);){for(var f=d,y=0;0!==f.cmp(a);y++)f=f.redSqr();n(p>y);var _=this.pow(u,new i(1).iushln(p-y-1));h=h.redMul(_),u=_.redSqr(),d=d.redMul(u),p=y}return h},m.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},m.prototype.pow=function(e,t){if(t.isZero())return new i(1);if(0===t.cmpn(1))return e.clone();var o=4,n=new Array(1<<o);n[0]=new i(1).toRed(this),n[1]=e;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],e);var s=n[0],a=0,l=0,g=t.bitLength()%26;for(0===g&&(g=26),r=t.length-1;r>=0;r--){for(var c=t.words[r],u=g-1;u>=0;u--){var h=c>>u&1;s!==n[0]&&(s=this.sqr(s)),0!==h||0!==a?(a<<=1,a|=h,l++,(l===o||0===r&&0===u)&&(s=this.mul(s,n[a]),l=0,a=0)):l=0}g=26}return s},m.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},m.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new b(e)},r(b,m),b.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},b.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},b.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var o=e.imul(t),n=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=o.isub(n).iushrn(this.shift),i=r;return r.cmp(this.m)>=0?i=r.isub(this.m):r.cmpn(0)<0&&(i=r.iadd(this.m)),i._forceRed(this)},b.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var o=e.mul(t),n=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),r=o.isub(n).iushrn(this.shift),s=r;return r.cmp(this.m)>=0?s=r.isub(this.m):r.cmpn(0)<0&&(s=r.iadd(this.m)),s._forceRed(this)},b.prototype.invm=function(e){var t=this.imod(e._invmp(this.m).mul(this.r2));return t._forceRed(this)}}("undefined"==typeof t||t,this)},{}],44:[function(e,t,o){(function(o){function n(e){var t=i(e),o=t.toRed(s.mont(e.modulus)).redPow(new s(e.publicExponent)).fromRed();return{blinder:o,unblinder:t.invm(e.modulus)}}function r(e,t){var r=n(t),i=t.modulus.byteLength(),a=(s.mont(t.modulus),new s(e).mul(r.blinder).umod(t.modulus)),l=a.toRed(s.mont(t.prime1)),g=a.toRed(s.mont(t.prime2)),c=t.coefficient,u=t.prime1,h=t.prime2,d=l.redPow(t.exponent1),p=g.redPow(t.exponent2);d=d.fromRed(),p=p.fromRed();var f=d.isub(p).imul(c).umod(u);return f.imul(h),p.iadd(f),new o(p.imul(r.unblinder).umod(t.modulus).toArray(!1,i))}function i(e){for(var t=e.modulus.byteLength(),o=new s(a(t));o.cmp(e.modulus)>=0||!o.umod(e.prime1)||!o.umod(e.prime2);)o=new s(a(t));return o}var s=e("bn.js"),a=e("randombytes");t.exports=r,r.getr=i}).call(this,e("buffer").Buffer)},{"bn.js":43,buffer:6,randombytes:201}],45:[function(e,t,o){"use strict";var n=o;n.version=e("../package.json").version,n.utils=e("./elliptic/utils"),n.rand=e("brorand"),n.hmacDRBG=e("./elliptic/hmac-drbg"),n.curve=e("./elliptic/curve"),n.curves=e("./elliptic/curves"),n.ec=e("./elliptic/ec"),n.eddsa=e("./elliptic/eddsa")},{"../package.json":68,"./elliptic/curve":48,"./elliptic/curves":51,"./elliptic/ec":52,"./elliptic/eddsa":55,"./elliptic/hmac-drbg":58,"./elliptic/utils":60,brorand:61}],46:[function(e,t,o){"use strict";function n(e,t){this.type=e,this.p=new i(t.p,16),this.red=t.prime?i.red(t.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=t.n&&new i(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4)}function r(e,t){this.curve=e,this.type=t,this.precomputed=null}var i=e("bn.js"),s=e("../../elliptic"),a=s.utils,l=a.getNAF,g=a.getJSF,c=a.assert;t.exports=n,n.prototype.point=function(){throw new Error("Not implemented")},n.prototype.validate=function(){throw new Error("Not implemented")},n.prototype._fixedNafMul=function(e,t){c(e.precomputed);var o=e._getDoubles(),n=l(t,1),r=(1<<o.step+1)-(o.step%2===0?2:1);r/=3;for(var i=[],s=0;s<n.length;s+=o.step){for(var a=0,t=s+o.step-1;t>=s;t--)a=(a<<1)+n[t];i.push(a)}for(var g=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=r;h>0;h--){for(var s=0;s<i.length;s++){var a=i[s];a===h?u=u.mixedAdd(o.points[s]):a===-h&&(u=u.mixedAdd(o.points[s].neg()))}g=g.add(u)}return g.toP()},n.prototype._wnafMul=function(e,t){var o=4,n=e._getNAFPoints(o);o=n.wnd;for(var r=n.points,i=l(t,o),s=this.jpoint(null,null,null),a=i.length-1;a>=0;a--){for(var t=0;a>=0&&0===i[a];a--)t++;if(a>=0&&t++,s=s.dblp(t),0>a)break;var g=i[a];c(0!==g),s="affine"===e.type?g>0?s.mixedAdd(r[g-1>>1]):s.mixedAdd(r[-g-1>>1].neg()):g>0?s.add(r[g-1>>1]):s.add(r[-g-1>>1].neg())}return"affine"===e.type?s.toP():s},n.prototype._wnafMulAdd=function(e,t,o,n){for(var r=this._wnafT1,i=this._wnafT2,s=this._wnafT3,a=0,c=0;n>c;c++){var u=t[c],h=u._getNAFPoints(e);r[c]=h.wnd,i[c]=h.points}for(var c=n-1;c>=1;c-=2){var d=c-1,p=c;if(1===r[d]&&1===r[p]){var f=[t[d],null,null,t[p]];0===t[d].y.cmp(t[p].y)?(f[1]=t[d].add(t[p]),f[2]=t[d].toJ().mixedAdd(t[p].neg())):0===t[d].y.cmp(t[p].y.redNeg())?(f[1]=t[d].toJ().mixedAdd(t[p]),f[2]=t[d].add(t[p].neg())):(f[1]=t[d].toJ().mixedAdd(t[p]),f[2]=t[d].toJ().mixedAdd(t[p].neg()));var y=[-3,-1,-5,-7,0,7,5,1,3],_=g(o[d],o[p]);a=Math.max(_[0].length,a),s[d]=new Array(a),s[p]=new Array(a);for(var m=0;a>m;m++){var b=0|_[0][m],v=0|_[1][m];s[d][m]=y[3*(b+1)+(v+1)],s[p][m]=0,i[d]=f}}else s[d]=l(o[d],r[d]),s[p]=l(o[p],r[p]),a=Math.max(s[d].length,a),a=Math.max(s[p].length,a)}for(var E=this.jpoint(null,null,null),T=this._wnafT4,c=a;c>=0;c--){for(var S=0;c>=0;){for(var k=!0,m=0;n>m;m++)T[m]=0|s[m][c],0!==T[m]&&(k=!1);if(!k)break;S++,c--}if(c>=0&&S++,E=E.dblp(S),0>c)break;for(var m=0;n>m;m++){var u,C=T[m];0!==C&&(C>0?u=i[m][C-1>>1]:0>C&&(u=i[m][-C-1>>1].neg()),E="affine"===u.type?E.mixedAdd(u):E.add(u))}}for(var c=0;n>c;c++)i[c]=null;return E.toP()},n.BasePoint=r,r.prototype.eq=function(){throw new Error("Not implemented")},r.prototype.validate=function(){return this.curve.validate(this)},n.prototype.decodePoint=function(e,t){e=a.toArray(e,t);var o=this.p.byteLength();if(4===e[0]&&e.length-1===2*o)return this.point(e.slice(1,1+o),e.slice(1+o,1+2*o));if((2===e[0]||3===e[0])&&e.length-1===o)return this.pointFromX(e.slice(1,1+o),3===e[0]);throw new Error("Unknown point format")},r.prototype.encodeCompressed=function(e){return this.encode(e,!0)},r.prototype._encode=function(e){var t=this.curve.p.byteLength(),o=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(o):[4].concat(o,this.getY().toArray("be",t))},r.prototype.encode=function(e,t){return a.encode(this._encode(t),e)},r.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},r.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return t?t.points.length>=Math.ceil((e.bitLength()+1)/t.step):!1},r.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var o=[this],n=this,r=0;t>r;r+=e){for(var i=0;e>i;i++)n=n.dbl();o.push(n)}return{step:e,points:o}},r.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],o=(1<<e)-1,n=1===o?null:this.dbl(),r=1;o>r;r++)t[r]=t[r-1].add(n);return{wnd:e,points:t}},r.prototype._getBeta=function(){return null},r.prototype.dblp=function(e){for(var t=this,o=0;e>o;o++)t=t.dbl();return t}},{"../../elliptic":45,"bn.js":43}],47:[function(e,t,o){"use strict";function n(e){this.twisted=1!==(0|e.a),this.mOneA=this.twisted&&-1===(0|e.a),this.extended=this.mOneA,g.call(this,"edwards",e),this.a=new a(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new a(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new a(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),c(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|e.c)}function r(e,t,o,n,r){g.BasePoint.call(this,e,"projective"),null===t&&null===o&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new a(t,16),this.y=new a(o,16),this.z=n?new a(n,16):this.curve.one,this.t=r&&new a(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var i=e("../curve"),s=e("../../elliptic"),a=e("bn.js"),l=e("inherits"),g=i.base,c=s.utils.assert;l(n,g),t.exports=n,n.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},n.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},n.prototype.jpoint=function(e,t,o,n){return this.point(e,t,o,n)},n.prototype.pointFromX=function(e,t){e=new a(e,16),e.red||(e=e.toRed(this.red));var o=e.redSqr(),n=this.c2.redSub(this.a.redMul(o)),r=this.one.redSub(this.c2.redMul(this.d).redMul(o)),i=n.redMul(r.redInvm()),s=i.redSqrt();if(0!==s.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");var l=s.fromRed().isOdd();return(t&&!l||!t&&l)&&(s=s.redNeg()),this.point(e,s)},n.prototype.pointFromY=function(e,t){e=new a(e,16),e.red||(e=e.toRed(this.red));var o=e.redSqr(),n=o.redSub(this.one),r=o.redMul(this.d).redAdd(this.one),i=n.redMul(r.redInvm());if(0===i.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=i.redSqrt();if(0!==s.redSqr().redSub(i).cmp(this.zero))throw new Error("invalid point");return s.isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},n.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),o=e.y.redSqr(),n=t.redMul(this.a).redAdd(o),r=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(o)));return 0===n.cmp(r)},l(r,g.BasePoint),n.prototype.pointFromJSON=function(e){return r.fromJSON(this,e)},n.prototype.point=function(e,t,o,n){return new r(this,e,t,o,n)},r.fromJSON=function(e,t){return new r(e,t[0],t[1],t[2])},r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},r.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&0===this.y.cmp(this.z)},r.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),o=this.z.redSqr();o=o.redIAdd(o);var n=this.curve._mulA(e),r=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),i=n.redAdd(t),s=i.redSub(o),a=n.redSub(t),l=r.redMul(s),g=i.redMul(a),c=r.redMul(a),u=s.redMul(i);return this.curve.point(l,g,u,c)},r.prototype._projDbl=function(){var e,t,o,n=this.x.redAdd(this.y).redSqr(),r=this.x.redSqr(),i=this.y.redSqr();if(this.curve.twisted){var s=this.curve._mulA(r),a=s.redAdd(i);if(this.zOne)e=n.redSub(r).redSub(i).redMul(a.redSub(this.curve.two)),t=a.redMul(s.redSub(i)),o=a.redSqr().redSub(a).redSub(a);else{var l=this.z.redSqr(),g=a.redSub(l).redISub(l);e=n.redSub(r).redISub(i).redMul(g),t=a.redMul(s.redSub(i)),o=a.redMul(g)}}else{var s=r.redAdd(i),l=this.curve._mulC(this.c.redMul(this.z)).redSqr(),g=s.redSub(l).redSub(l);e=this.curve._mulC(n.redISub(s)).redMul(g),t=this.curve._mulC(s).redMul(r.redISub(i)),o=s.redMul(g)}return this.curve.point(e,t,o)},r.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},r.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),o=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),r=this.z.redMul(e.z.redAdd(e.z)),i=o.redSub(t),s=r.redSub(n),a=r.redAdd(n),l=o.redAdd(t),g=i.redMul(s),c=a.redMul(l),u=i.redMul(l),h=s.redMul(a);return this.curve.point(g,c,h,u)},r.prototype._projAdd=function(e){var t,o,n=this.z.redMul(e.z),r=n.redSqr(),i=this.x.redMul(e.x),s=this.y.redMul(e.y),a=this.curve.d.redMul(i).redMul(s),l=r.redSub(a),g=r.redAdd(a),c=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(i).redISub(s),u=n.redMul(l).redMul(c);return this.curve.twisted?(t=n.redMul(g).redMul(s.redSub(this.curve._mulA(i))),o=l.redMul(g)):(t=n.redMul(g).redMul(s.redSub(i)),o=this.curve._mulC(l).redMul(g)),this.curve.point(u,t,o)},r.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},r.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},r.prototype.mulAdd=function(e,t,o){return this.curve._wnafMulAdd(1,[this,t],[e,o],2)},r.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},r.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},r.prototype.getX=function(){return this.normalize(),this.x.fromRed()},r.prototype.getY=function(){return this.normalize(),this.y.fromRed()},r.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},r.prototype.toP=r.prototype.normalize,r.prototype.mixedAdd=r.prototype.add},{"../../elliptic":45,"../curve":48,"bn.js":43,inherits:203}],48:[function(e,t,o){"use strict";var n=o;n.base=e("./base"),n["short"]=e("./short"),n.mont=e("./mont"),n.edwards=e("./edwards")},{"./base":46,"./edwards":47,"./mont":49,"./short":50}],49:[function(e,t,o){"use strict";function n(e){l.call(this,"mont",e),this.a=new s(e.a,16).toRed(this.red),this.b=new s(e.b,16).toRed(this.red),this.i4=new s(4).toRed(this.red).redInvm(),this.two=new s(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function r(e,t,o){l.BasePoint.call(this,e,"projective"),null===t&&null===o?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new s(t,16),this.z=new s(o,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var i=e("../curve"),s=e("bn.js"),a=e("inherits"),l=i.base,g=e("../../elliptic"),c=g.utils;a(n,l),t.exports=n,n.prototype.validate=function(e){var t=e.normalize().x,o=t.redSqr(),n=o.redMul(t).redAdd(o.redMul(this.a)).redAdd(t),r=n.redSqrt();return 0===r.redSqr().cmp(n)},a(r,l.BasePoint),n.prototype.decodePoint=function(e,t){return this.point(c.toArray(e,t),1)},n.prototype.point=function(e,t){return new r(this,e,t)},n.prototype.pointFromJSON=function(e){return r.fromJSON(this,e)},r.prototype.precompute=function(){},r.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},r.fromJSON=function(e,t){return new r(e,t[0],t[1]||e.one)},r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},r.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},r.prototype.dbl=function(){var e=this.x.redAdd(this.z),t=e.redSqr(),o=this.x.redSub(this.z),n=o.redSqr(),r=t.redSub(n),i=t.redMul(n),s=r.redMul(n.redAdd(this.curve.a24.redMul(r)));return this.curve.point(i,s)},r.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},r.prototype.diffAdd=function(e,t){var o=this.x.redAdd(this.z),n=this.x.redSub(this.z),r=e.x.redAdd(e.z),i=e.x.redSub(e.z),s=i.redMul(o),a=r.redMul(n),l=t.z.redMul(s.redAdd(a).redSqr()),g=t.x.redMul(s.redISub(a).redSqr());return this.curve.point(l,g)},r.prototype.mul=function(e){for(var t=e.clone(),o=this,n=this.curve.point(null,null),r=this,i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var s=i.length-1;s>=0;s--)0===i[s]?(o=o.diffAdd(n,r),n=n.dbl()):(n=o.diffAdd(n,r),o=o.dbl());return n},r.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},r.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},r.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},r.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},{"../../elliptic":45,"../curve":48,"bn.js":43,inherits:203}],50:[function(e,t,o){"use strict";function n(e){c.call(this,"short",e),this.a=new l(e.a,16).toRed(this.red),this.b=new l(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function r(e,t,o,n){c.BasePoint.call(this,e,"affine"),null===t&&null===o?(this.x=null,this.y=null,this.inf=!0):(this.x=new l(t,16),this.y=new l(o,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function i(e,t,o,n){c.BasePoint.call(this,e,"jacobian"),null===t&&null===o&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new l(0)):(this.x=new l(t,16),this.y=new l(o,16),this.z=new l(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var s=e("../curve"),a=e("../../elliptic"),l=e("bn.js"),g=e("inherits"),c=s.base,u=a.utils.assert;g(n,c),t.exports=n,n.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,o;if(e.beta)t=new l(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=n[0].cmp(n[1])<0?n[0]:n[1],t=t.toRed(this.red)}if(e.lambda)o=new l(e.lambda,16);else{var r=this._getEndoRoots(this.n);0===this.g.mul(r[0]).x.cmp(this.g.x.redMul(t))?o=r[0]:(o=r[1],u(0===this.g.mul(o).x.cmp(this.g.x.redMul(t))))}var i;return i=e.basis?e.basis.map(function(e){return{a:new l(e.a,16),b:new l(e.b,16)}}):this._getEndoBasis(o),{beta:t,lambda:o,basis:i}}},n.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:l.mont(e),o=new l(2).toRed(t).redInvm(),n=o.redNeg(),r=new l(3).toRed(t).redNeg().redSqrt().redMul(o),i=n.redAdd(r).fromRed(),s=n.redSub(r).fromRed();return[i,s]},n.prototype._getEndoBasis=function(e){for(var t,o,n,r,i,s,a,g,c,u=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,d=this.n.clone(),p=new l(1),f=new l(0),y=new l(0),_=new l(1),m=0;0!==h.cmpn(0);){var b=d.div(h);g=d.sub(b.mul(h)),c=y.sub(b.mul(p));var v=_.sub(b.mul(f));if(!n&&g.cmp(u)<0)t=a.neg(),o=p,n=g.neg(),r=c;else if(n&&2===++m)break;a=g,d=h,h=g,y=p,p=c,_=f,f=v}i=g.neg(),s=c;var E=n.sqr().add(r.sqr()),T=i.sqr().add(s.sqr());return T.cmp(E)>=0&&(i=t,s=o),n.negative&&(n=n.neg(),r=r.neg()),i.negative&&(i=i.neg(),s=s.neg()),[{a:n,b:r},{a:i,b:s}]},n.prototype._endoSplit=function(e){var t=this.endo.basis,o=t[0],n=t[1],r=n.b.mul(e).divRound(this.n),i=o.b.neg().mul(e).divRound(this.n),s=r.mul(o.a),a=i.mul(n.a),l=r.mul(o.b),g=i.mul(n.b),c=e.sub(s).sub(a),u=l.add(g).neg();return{k1:c,k2:u}},n.prototype.pointFromX=function(e,t){e=new l(e,16),e.red||(e=e.toRed(this.red));var o=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=o.redSqrt();if(0!==n.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var r=n.fromRed().isOdd();return(t&&!r||!t&&r)&&(n=n.redNeg()),this.point(e,n)},n.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,o=e.y,n=this.a.redMul(t),r=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===o.redSqr().redISub(r).cmpn(0)},n.prototype._endoWnafMulAdd=function(e,t){for(var o=this._endoWnafT1,n=this._endoWnafT2,r=0;r<e.length;r++){var i=this._endoSplit(t[r]),s=e[r],a=s._getBeta();i.k1.negative&&(i.k1.ineg(),s=s.neg(!0)),i.k2.negative&&(i.k2.ineg(),a=a.neg(!0)),o[2*r]=s,o[2*r+1]=a,n[2*r]=i.k1,n[2*r+1]=i.k2}for(var l=this._wnafMulAdd(1,o,n,2*r),g=0;2*r>g;g++)o[g]=null,n[g]=null;return l},g(r,c.BasePoint),n.prototype.point=function(e,t,o){return new r(this,e,t,o)},n.prototype.pointFromJSON=function(e,t){return r.fromJSON(this,e,t)},r.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var o=this.curve,n=function(e){return o.point(e.x.redMul(o.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},r.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},r.fromJSON=function(e,t,o){function n(t){return e.point(t[0],t[1],o)}"string"==typeof t&&(t=JSON.parse(t));var r=e.point(t[0],t[1],o);if(!t[2])return r;var i=t[2];return r.precomputed={beta:null,doubles:i.doubles&&{step:i.doubles.step,points:[r].concat(i.doubles.points.map(n))},naf:i.naf&&{wnd:i.naf.wnd,points:[r].concat(i.naf.points.map(n))}},r},r.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},r.prototype.isInfinity=function(){return this.inf},r.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var o=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,n)},r.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,o=this.x.redSqr(),n=e.redInvm(),r=o.redAdd(o).redIAdd(o).redIAdd(t).redMul(n),i=r.redSqr().redISub(this.x.redAdd(this.x)),s=r.redMul(this.x.redSub(i)).redISub(this.y);return this.curve.point(i,s)},r.prototype.getX=function(){return this.x.fromRed()},r.prototype.getY=function(){return this.y.fromRed()},r.prototype.mul=function(e){return e=new l(e,16),this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},r.prototype.mulAdd=function(e,t,o){var n=[this,t],r=[e,o];return this.curve.endo?this.curve._endoWnafMulAdd(n,r):this.curve._wnafMulAdd(1,n,r,2)},r.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},r.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var o=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:o.naf&&{wnd:o.naf.wnd,points:o.naf.points.map(n)},doubles:o.doubles&&{step:o.doubles.step,points:o.doubles.points.map(n)}}}return t},r.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e},g(i,c.BasePoint),n.prototype.jpoint=function(e,t,o){return new i(this,e,t,o)},i.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);
var e=this.z.redInvm(),t=e.redSqr(),o=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(o,n)},i.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},i.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),o=this.z.redSqr(),n=this.x.redMul(t),r=e.x.redMul(o),i=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(o.redMul(this.z)),a=n.redSub(r),l=i.redSub(s);if(0===a.cmpn(0))return 0!==l.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var g=a.redSqr(),c=g.redMul(a),u=n.redMul(g),h=l.redSqr().redIAdd(c).redISub(u).redISub(u),d=l.redMul(u.redISub(h)).redISub(i.redMul(c)),p=this.z.redMul(e.z).redMul(a);return this.curve.jpoint(h,d,p)},i.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),o=this.x,n=e.x.redMul(t),r=this.y,i=e.y.redMul(t).redMul(this.z),s=o.redSub(n),a=r.redSub(i);if(0===s.cmpn(0))return 0!==a.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var l=s.redSqr(),g=l.redMul(s),c=o.redMul(l),u=a.redSqr().redIAdd(g).redISub(c).redISub(c),h=a.redMul(c.redISub(u)).redISub(r.redMul(g)),d=this.z.redMul(s);return this.curve.jpoint(u,h,d)},i.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,o=0;e>o;o++)t=t.dbl();return t}for(var n=this.curve.a,r=this.curve.tinv,i=this.x,s=this.y,a=this.z,l=a.redSqr().redSqr(),g=s.redAdd(s),o=0;e>o;o++){var c=i.redSqr(),u=g.redSqr(),h=u.redSqr(),d=c.redAdd(c).redIAdd(c).redIAdd(n.redMul(l)),p=i.redMul(u),f=d.redSqr().redISub(p.redAdd(p)),y=p.redISub(f),_=d.redMul(y);_=_.redIAdd(_).redISub(h);var m=g.redMul(a);e>o+1&&(l=l.redMul(h)),i=f,a=m,g=_}return this.curve.jpoint(i,g.redMul(r),a)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},i.prototype._zeroDbl=function(){var e,t,o;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),i=r.redSqr(),s=this.x.redAdd(r).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n),l=a.redSqr().redISub(s).redISub(s),g=i.redIAdd(i);g=g.redIAdd(g),g=g.redIAdd(g),e=l,t=a.redMul(s.redISub(l)).redISub(g),o=this.y.redAdd(this.y)}else{var c=this.x.redSqr(),u=this.y.redSqr(),h=u.redSqr(),d=this.x.redAdd(u).redSqr().redISub(c).redISub(h);d=d.redIAdd(d);var p=c.redAdd(c).redIAdd(c),f=p.redSqr(),y=h.redIAdd(h);y=y.redIAdd(y),y=y.redIAdd(y),e=f.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(y),o=this.y.redMul(this.z),o=o.redIAdd(o)}return this.curve.jpoint(e,t,o)},i.prototype._threeDbl=function(){var e,t,o;if(this.zOne){var n=this.x.redSqr(),r=this.y.redSqr(),i=r.redSqr(),s=this.x.redAdd(r).redSqr().redISub(n).redISub(i);s=s.redIAdd(s);var a=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),l=a.redSqr().redISub(s).redISub(s);e=l;var g=i.redIAdd(i);g=g.redIAdd(g),g=g.redIAdd(g),t=a.redMul(s.redISub(l)).redISub(g),o=this.y.redAdd(this.y)}else{var c=this.z.redSqr(),u=this.y.redSqr(),h=this.x.redMul(u),d=this.x.redSub(c).redMul(this.x.redAdd(c));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h);p=p.redIAdd(p);var f=p.redAdd(p);e=d.redSqr().redISub(f),o=this.y.redAdd(this.z).redSqr().redISub(u).redISub(c);var y=u.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y),t=d.redMul(p.redISub(e)).redISub(y)}return this.curve.jpoint(e,t,o)},i.prototype._dbl=function(){var e=this.curve.a,t=this.x,o=this.y,n=this.z,r=n.redSqr().redSqr(),i=t.redSqr(),s=o.redSqr(),a=i.redAdd(i).redIAdd(i).redIAdd(e.redMul(r)),l=t.redAdd(t);l=l.redIAdd(l);var g=l.redMul(s),c=a.redSqr().redISub(g.redAdd(g)),u=g.redISub(c),h=s.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=a.redMul(u).redISub(h),p=o.redAdd(o).redMul(n);return this.curve.jpoint(c,d,p)},i.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),o=this.z.redSqr(),n=t.redSqr(),r=e.redAdd(e).redIAdd(e),i=r.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n);s=s.redIAdd(s),s=s.redAdd(s).redIAdd(s),s=s.redISub(i);var a=s.redSqr(),l=n.redIAdd(n);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var g=r.redIAdd(s).redSqr().redISub(i).redISub(a).redISub(l),c=t.redMul(g);c=c.redIAdd(c),c=c.redIAdd(c);var u=this.x.redMul(a).redISub(c);u=u.redIAdd(u),u=u.redIAdd(u);var h=this.y.redMul(g.redMul(l.redISub(g)).redISub(s.redMul(a)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=this.z.redAdd(s).redSqr().redISub(o).redISub(a);return this.curve.jpoint(u,h,d)},i.prototype.mul=function(e,t){return e=new l(e,t),this.curve._wnafMul(this,e)},i.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),o=e.z.redSqr();if(0!==this.x.redMul(o).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),r=o.redMul(e.z);return 0===this.y.redMul(r).redISub(e.y.redMul(n)).cmpn(0)},i.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},{"../../elliptic":45,"../curve":48,"bn.js":43,inherits:203}],51:[function(e,t,o){"use strict";function n(e){"short"===e.type?this.curve=new a.curve["short"](e):"edwards"===e.type?this.curve=new a.curve.edwards(e):this.curve=new a.curve.mont(e),this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,l(this.g.validate(),"Invalid curve"),l(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function r(e,t){Object.defineProperty(i,e,{configurable:!0,enumerable:!0,get:function(){var o=new n(t);return Object.defineProperty(i,e,{configurable:!0,enumerable:!0,value:o}),o}})}var i=o,s=e("hash.js"),a=e("../elliptic"),l=a.utils.assert;i.PresetCurve=n,r("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:s.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),r("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:s.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),r("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:s.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),r("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:s.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),r("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:s.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),r("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"0",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["9"]}),r("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:s.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var g;try{g=e("./precomputed/secp256k1")}catch(c){g=void 0}r("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:s.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",g]})},{"../elliptic":45,"./precomputed/secp256k1":59,"hash.js":62}],52:[function(e,t,o){"use strict";function n(e){return this instanceof n?("string"==typeof e&&(a(i.curves.hasOwnProperty(e),"Unknown curve "+e),e=i.curves[e]),e instanceof i.curves.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),void(this.hash=e.hash||e.curve.hash)):new n(e)}var r=e("bn.js"),i=e("../../elliptic"),s=i.utils,a=s.assert,l=e("./key"),g=e("./signature");t.exports=n,n.prototype.keyPair=function(e){return new l(this,e)},n.prototype.keyFromPrivate=function(e,t){return l.fromPrivate(this,e,t)},n.prototype.keyFromPublic=function(e,t){return l.fromPublic(this,e,t)},n.prototype.genKeyPair=function(e){e||(e={});for(var t=new i.hmacDRBG({hash:this.hash,pers:e.pers,entropy:e.entropy||i.rand(this.hash.hmacStrength),nonce:this.n.toArray()}),o=this.n.byteLength(),n=this.n.sub(new r(2));;){var s=new r(t.generate(o));if(!(s.cmp(n)>0))return s.iaddn(1),this.keyFromPrivate(s)}},n.prototype._truncateToN=function(e,t){var o=8*e.byteLength()-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},n.prototype.sign=function(e,t,o,n){"object"==typeof o&&(n=o,o=null),n||(n={}),t=this.keyFromPrivate(t,o),e=this._truncateToN(new r(e,16));for(var s=this.n.byteLength(),a=t.getPrivate().toArray("be",s),l=e.toArray("be",s),c=new i.hmacDRBG({hash:this.hash,entropy:a,nonce:l,pers:n.pers,persEnc:n.persEnc}),u=this.n.sub(new r(1)),h=0;!0;h++){var d=n.k?n.k(h):new r(c.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(u)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var f=p.getX(),y=f.umod(this.n);if(0!==y.cmpn(0)){var _=d.invm(this.n).mul(y.mul(t.getPrivate()).iadd(e));if(_=_.umod(this.n),0!==_.cmpn(0)){var m=(p.getY().isOdd()?1:0)|(0!==f.cmp(y)?2:0);return n.canonical&&_.cmp(this.nh)>0&&(_=this.n.sub(_),m^=1),new g({r:y,s:_,recoveryParam:m})}}}}}},n.prototype.verify=function(e,t,o,n){e=this._truncateToN(new r(e,16)),o=this.keyFromPublic(o,n),t=new g(t,"hex");var i=t.r,s=t.s;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;if(s.cmpn(1)<0||s.cmp(this.n)>=0)return!1;var a=s.invm(this.n),l=a.mul(e).umod(this.n),c=a.mul(i).umod(this.n),u=this.g.mulAdd(l,o.getPublic(),c);return u.isInfinity()?!1:0===u.getX().umod(this.n).cmp(i)},n.prototype.recoverPubKey=function(e,t,o,n){a((3&o)===o,"The recovery param is more than two bits"),t=new g(t,n);var i=this.n,s=new r(e),l=t.r,c=t.s,u=1&o,h=o>>1;if(l.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");l=h?this.curve.pointFromX(l.add(this.curve.n),u):this.curve.pointFromX(l,u);var d=i.sub(s),p=t.r.invm(i);return this.g.mulAdd(d,l,c).mul(p)},n.prototype.getKeyRecoveryParam=function(e,t,o,n){if(t=new g(t,n),null!==t.recoveryParam)return t.recoveryParam;for(var r=0;4>r;r++){var i;try{i=this.recoverPubKey(e,t,r)}catch(e){continue}if(i.eq(o))return r}throw new Error("Unable to find valid recovery factor")}},{"../../elliptic":45,"./key":53,"./signature":54,"bn.js":43}],53:[function(e,t,o){"use strict";function n(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var r=e("bn.js");t.exports=n,n.fromPublic=function(e,t,o){return t instanceof n?t:new n(e,{pub:t,pubEnc:o})},n.fromPrivate=function(e,t,o){return t instanceof n?t:new n(e,{priv:t,privEnc:o})},n.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},n.prototype.getPublic=function(e,t){return"string"==typeof e&&(t=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),t?this.pub.encode(t,e):this.pub},n.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},n.prototype._importPrivate=function(e,t){this.priv=new r(e,t||16),this.priv=this.priv.umod(this.ec.curve.n)},n.prototype._importPublic=function(e,t){return e.x||e.y?void(this.pub=this.ec.curve.point(e.x,e.y)):void(this.pub=this.ec.curve.decodePoint(e,t))},n.prototype.derive=function(e){return e.mul(this.priv).getX()},n.prototype.sign=function(e,t,o){return this.ec.sign(e,this,t,o)},n.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},n.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},{"bn.js":43}],54:[function(e,t,o){"use strict";function n(e,t){return e instanceof n?e:void(this._importDER(e,t)||(u(e.r&&e.s,"Signature without r or s"),this.r=new l(e.r,16),this.s=new l(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam))}function r(){this.place=0}function i(e,t){var o=e[t.place++];if(!(128&o))return o;for(var n=15&o,r=0,i=0,s=t.place;n>i;i++,s++)r<<=8,r|=e[s];return t.place=s,r}function s(e){for(var t=0,o=e.length-1;!e[t]&&!(128&e[t+1])&&o>t;)t++;return 0===t?e:e.slice(t)}function a(e,t){if(128>t)return void e.push(t);var o=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|o);--o;)e.push(t>>>(o<<3)&255);e.push(t)}var l=e("bn.js"),g=e("../../elliptic"),c=g.utils,u=c.assert;t.exports=n,n.prototype._importDER=function(e,t){e=c.toArray(e,t);var o=new r;if(48!==e[o.place++])return!1;var n=i(e,o);if(n+o.place!==e.length)return!1;if(2!==e[o.place++])return!1;var s=i(e,o),a=e.slice(o.place,s+o.place);if(o.place+=s,2!==e[o.place++])return!1;var g=i(e,o);if(e.length!==g+o.place)return!1;var u=e.slice(o.place,g+o.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===u[0]&&128&u[1]&&(u=u.slice(1)),this.r=new l(a),this.s=new l(u),this.recoveryParam=null,!0},n.prototype.toDER=function(e){var t=this.r.toArray(),o=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&o[0]&&(o=[0].concat(o)),t=s(t),o=s(o);!(o[0]||128&o[1]);)o=o.slice(1);var n=[2];a(n,t.length),n=n.concat(t),n.push(2),a(n,o.length);var r=n.concat(o),i=[48];return a(i,r.length),i=i.concat(r),c.encode(i,e)}},{"../../elliptic":45,"bn.js":43}],55:[function(e,t,o){"use strict";function n(e){if(a("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof n))return new n(e);var e=i.curves[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=r.sha512}var r=e("hash.js"),i=e("../../elliptic"),s=i.utils,a=s.assert,l=s.parseBytes,g=e("./key"),c=e("./signature");t.exports=n,n.prototype.sign=function(e,t){e=l(e);var o=this.keyFromSecret(t),n=this.hashInt(o.messagePrefix(),e),r=this.g.mul(n),i=this.encodePoint(r),s=this.hashInt(i,o.pubBytes(),e).mul(o.priv()),a=n.add(s).umod(this.curve.n);return this.makeSignature({R:r,S:a,Rencoded:i})},n.prototype.verify=function(e,t,o){e=l(e),t=this.makeSignature(t);var n=this.keyFromPublic(o),r=this.hashInt(t.Rencoded(),n.pubBytes(),e),i=this.g.mul(t.S()),s=t.R().add(n.pub().mul(r));return s.eq(i)},n.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return s.intFromLE(e.digest()).umod(this.curve.n)},n.prototype.keyFromPublic=function(e){return g.fromPublic(this,e)},n.prototype.keyFromSecret=function(e){return g.fromSecret(this,e)},n.prototype.makeSignature=function(e){return e instanceof c?e:new c(this,e)},n.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},n.prototype.decodePoint=function(e){e=s.parseBytes(e);var t=e.length-1,o=e.slice(0,t).concat(-129&e[t]),n=0!==(128&e[t]),r=s.intFromLE(o);return this.curve.pointFromY(r,n)},n.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},n.prototype.decodeInt=function(e){return s.intFromLE(e)},n.prototype.isPoint=function(e){return e instanceof this.pointClass}},{"../../elliptic":45,"./key":56,"./signature":57,"hash.js":62}],56:[function(e,t,o){"use strict";function n(e,t){this.eddsa=e,this._secret=a(t.secret),e.isPoint(t.pub)?this._pub=t.pub:this._pubBytes=a(t.pub)}var r=e("../../elliptic"),i=r.utils,s=i.assert,a=i.parseBytes,l=i.cachedProperty;n.fromPublic=function(e,t){return t instanceof n?t:new n(e,{pub:t})},n.fromSecret=function(e,t){return t instanceof n?t:new n(e,{secret:t})},n.prototype.secret=function(){return this._secret},l(n,function(){return this.eddsa.encodePoint(this.pub())}),l(n,function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),l(n,function(){var e=this.eddsa,t=this.hash(),o=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[o]&=127,n[o]|=64,n}),l(n,function(){return this.eddsa.decodeInt(this.privBytes())}),l(n,function(){return this.eddsa.hash().update(this.secret()).digest()}),l(n,function(){return this.hash().slice(this.eddsa.encodingLength)}),n.prototype.sign=function(e){return s(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},n.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},n.prototype.getSecret=function(e){return s(this._secret,"KeyPair is public only"),i.encode(this.secret(),e)},n.prototype.getPublic=function(e){return i.encode(this.pubBytes(),e)},t.exports=n},{"../../elliptic":45}],57:[function(e,t,o){"use strict";function n(e,t){this.eddsa=e,"object"!=typeof t&&(t=g(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),a(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof r&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}var r=e("bn.js"),i=e("../../elliptic"),s=i.utils,a=s.assert,l=s.cachedProperty,g=s.parseBytes;l(n,function(){return this.eddsa.decodeInt(this.Sencoded())}),l(n,function(){return this.eddsa.decodePoint(this.Rencoded())}),l(n,function(){return this.eddsa.encodePoint(this.R())}),l(n,function(){return this.eddsa.encodeInt(this.S())}),n.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},n.prototype.toHex=function(){return s.encode(this.toBytes(),"hex").toUpperCase()},t.exports=n},{"../../elliptic":45,"bn.js":43}],58:[function(e,t,o){"use strict";function n(e){if(!(this instanceof n))return new n(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this.reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=s.toArray(e.entropy,e.entropyEnc),o=s.toArray(e.nonce,e.nonceEnc),r=s.toArray(e.pers,e.persEnc);a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,o,r)}var r=e("hash.js"),i=e("../elliptic"),s=i.utils,a=s.assert;t.exports=n,n.prototype._init=function(e,t,o){var n=e.concat(t).concat(o);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var r=0;r<this.V.length;r++)this.K[r]=0,this.V[r]=1;this._update(n),this.reseed=1,this.reseedInterval=281474976710656},n.prototype._hmac=function(){return new r.hmac(this.hash,this.K)},n.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},n.prototype.reseed=function(e,t,o,n){"string"!=typeof t&&(n=o,o=t,t=null),e=s.toBuffer(e,t),o=s.toBuffer(o,n),a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(o||[])),this.reseed=1},n.prototype.generate=function(e,t,o,n){if(this.reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=o,o=t,t=null),o&&(o=s.toArray(o,n),this._update(o));for(var r=[];r.length<e;)this.V=this._hmac().update(this.V).digest(),r=r.concat(this.V);var i=r.slice(0,e);return this._update(o),this.reseed++,s.encode(i,t)}},{"../elliptic":45,"hash.js":62}],59:[function(e,t,o){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]
}}},{}],60:[function(e,t,o){"use strict";function n(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var o=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)o[n]=0|e[n];return o}if(t){if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(var n=0;n<e.length;n+=2)o.push(parseInt(e[n]+e[n+1],16))}}else for(var n=0;n<e.length;n++){var r=e.charCodeAt(n),i=r>>8,s=255&r;i?o.push(i,s):o.push(s)}return o}function r(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",o=0;o<e.length;o++)t+=r(e[o].toString(16));return t}function s(e,t){for(var o=[],n=1<<t+1,r=e.clone();r.cmpn(1)>=0;){var i;if(r.isOdd()){var s=r.andln(n-1);i=s>(n>>1)-1?(n>>1)-s:s,r.isubn(i)}else i=0;o.push(i);for(var a=0!==r.cmpn(0)&&0===r.andln(n-1)?t+1:1,l=1;a>l;l++)o.push(0);r.iushrn(a)}return o}function a(e,t){var o=[[],[]];e=e.clone(),t=t.clone();for(var n=0,r=0;e.cmpn(-n)>0||t.cmpn(-r)>0;){var i=e.andln(3)+n&3,s=t.andln(3)+r&3;3===i&&(i=-1),3===s&&(s=-1);var a;if(0===(1&i))a=0;else{var l=e.andln(7)+n&7;a=3!==l&&5!==l||2!==s?i:-i}o[0].push(a);var g;if(0===(1&s))g=0;else{var l=t.andln(7)+r&7;g=3!==l&&5!==l||2!==i?s:-s}o[1].push(g),2*n===a+1&&(n=1-n),2*r===g+1&&(r=1-r),e.iushrn(1),t.iushrn(1)}return o}function l(e,t){var o=t.name,n="_"+o;e.prototype[o]=function(){return void 0!==this[n]?this[n]:this[n]=t.call(this)}}function g(e){return"string"==typeof e?u.toArray(e,"hex"):e}function c(e){return new h(e,"hex","le")}var u=o,h=e("bn.js");u.assert=function(e,t){if(!e)throw new Error(t||"Assertion failed")},u.toArray=n,u.zero2=r,u.toHex=i,u.encode=function(e,t){return"hex"===t?i(e):e},u.getNAF=s,u.getJSF=a,u.cachedProperty=l,u.parseBytes=g,u.intFromLE=c},{"bn.js":43}],61:[function(e,t,o){function n(e){this.rand=e}var r;if(t.exports=function(e){return r||(r=new n(null)),r.generate(e)},t.exports.Rand=n,n.prototype.generate=function(e){return this._rand(e)},"object"==typeof window)window.crypto&&window.crypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return window.crypto.getRandomValues(t),t}:window.msCrypto&&window.msCrypto.getRandomValues?n.prototype._rand=function(e){var t=new Uint8Array(e);return window.msCrypto.getRandomValues(t),t}:n.prototype._rand=function(){throw new Error("Not implemented yet")};else try{var i=e("crypto");n.prototype._rand=function(e){return i.randomBytes(e)}}catch(s){n.prototype._rand=function(e){for(var t=new Uint8Array(e),o=0;o<t.length;o++)t[o]=this.rand.getByte();return t}}},{}],62:[function(e,t,o){var n=o;n.utils=e("./hash/utils"),n.common=e("./hash/common"),n.sha=e("./hash/sha"),n.ripemd=e("./hash/ripemd"),n.hmac=e("./hash/hmac"),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},{"./hash/common":63,"./hash/hmac":64,"./hash/ripemd":65,"./hash/sha":66,"./hash/utils":67}],63:[function(e,t,o){function n(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var r=e("../hash"),i=r.utils,s=i.assert;o.BlockHash=n,n.prototype.update=function(e,t){if(e=i.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){e=this.pending;var o=e.length%this._delta8;this.pending=e.slice(e.length-o,e.length),0===this.pending.length&&(this.pending=null),e=i.join32(e,0,e.length-o,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},n.prototype.digest=function(e){return this.update(this._pad()),s(null===this.pending),this._digest(e)},n.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,o=t-(e+this.padLength)%t,n=new Array(o+this.padLength);n[0]=128;for(var r=1;o>r;r++)n[r]=0;if(e<<=3,"big"===this.endian){for(var i=8;i<this.padLength;i++)n[r++]=0;n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=e>>>24&255,n[r++]=e>>>16&255,n[r++]=e>>>8&255,n[r++]=255&e}else{n[r++]=255&e,n[r++]=e>>>8&255,n[r++]=e>>>16&255,n[r++]=e>>>24&255,n[r++]=0,n[r++]=0,n[r++]=0,n[r++]=0;for(var i=8;i<this.padLength;i++)n[r++]=0}return n}},{"../hash":62}],64:[function(e,t,o){function n(e,t,o){return this instanceof n?(this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,void this._init(i.toArray(t,o))):new n(e,t,o)}var r=e("../hash"),i=r.utils,s=i.assert;t.exports=n,n.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),s(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(var t=0;t<e.length;t++)e[t]^=54;this.inner=(new this.Hash).update(e);for(var t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},n.prototype.update=function(e,t){return this.inner.update(e,t),this},n.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},{"../hash":62}],65:[function(e,t,o){function n(){return this instanceof n?(d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.endian="little")):new n}function r(e,t,o,n){return 15>=e?t^o^n:31>=e?t&o|~t&n:47>=e?(t|~o)^n:63>=e?t&n|o&~n:t^(o|~n)}function i(e){return 15>=e?0:31>=e?1518500249:47>=e?1859775393:63>=e?2400959708:2840853838}function s(e){return 15>=e?1352829926:31>=e?1548603684:47>=e?1836072691:63>=e?2053994217:0}var a=e("../hash"),l=a.utils,g=l.rotl32,c=l.sum32,u=l.sum32_3,h=l.sum32_4,d=a.common.BlockHash;l.inherits(n,d),o.ripemd160=n,n.blockSize=512,n.outSize=160,n.hmacStrength=192,n.padLength=64,n.prototype._update=function(e,t){for(var o=this.h[0],n=this.h[1],a=this.h[2],l=this.h[3],d=this.h[4],m=o,b=n,v=a,E=l,T=d,S=0;80>S;S++){var k=c(g(h(o,r(S,n,a,l),e[p[S]+t],i(S)),y[S]),d);o=d,d=l,l=g(a,10),a=n,n=k,k=c(g(h(m,r(79-S,b,v,E),e[f[S]+t],s(S)),_[S]),T),m=T,T=E,E=g(v,10),v=b,b=k}k=u(this.h[1],a,E),this.h[1]=u(this.h[2],l,T),this.h[2]=u(this.h[3],d,m),this.h[3]=u(this.h[4],o,b),this.h[4]=u(this.h[0],n,v),this.h[0]=k},n.prototype._digest=function(e){return"hex"===e?l.toHex32(this.h,"little"):l.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],f=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},{"../hash":62}],66:[function(e,t,o){function n(){return this instanceof n?(Y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=q,void(this.W=new Array(64))):new n}function r(){return this instanceof r?(n.call(this),void(this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])):new r}function i(){return this instanceof i?(Y.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=z,void(this.W=new Array(160))):new i}function s(){return this instanceof s?(i.call(this),void(this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428])):new s}function a(){return this instanceof a?(Y.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],void(this.W=new Array(80))):new a}function l(e,t,o){return e&t^~e&o}function g(e,t,o){return e&t^e&o^t&o}function c(e,t,o){return e^t^o}function u(e){return O(e,2)^O(e,13)^O(e,22)}function h(e){return O(e,6)^O(e,11)^O(e,25)}function d(e){return O(e,7)^O(e,18)^e>>>3}function p(e){return O(e,17)^O(e,19)^e>>>10}function f(e,t,o,n){return 0===e?l(t,o,n):1===e||3===e?c(t,o,n):2===e?g(t,o,n):void 0}function y(e,t,o,n,r,i){var s=e&o^~e&r;return 0>s&&(s+=4294967296),s}function _(e,t,o,n,r,i){var s=t&n^~t&i;return 0>s&&(s+=4294967296),s}function m(e,t,o,n,r,i){var s=e&o^e&r^o&r;return 0>s&&(s+=4294967296),s}function b(e,t,o,n,r,i){var s=t&n^t&i^n&i;return 0>s&&(s+=4294967296),s}function v(e,t){var o=x(e,t,28),n=x(t,e,2),r=x(t,e,7),i=o^n^r;return 0>i&&(i+=4294967296),i}function E(e,t){var o=P(e,t,28),n=P(t,e,2),r=P(t,e,7),i=o^n^r;return 0>i&&(i+=4294967296),i}function T(e,t){var o=x(e,t,14),n=x(e,t,18),r=x(t,e,9),i=o^n^r;return 0>i&&(i+=4294967296),i}function S(e,t){var o=P(e,t,14),n=P(e,t,18),r=P(t,e,9),i=o^n^r;return 0>i&&(i+=4294967296),i}function k(e,t){var o=x(e,t,1),n=x(e,t,8),r=U(e,t,7),i=o^n^r;return 0>i&&(i+=4294967296),i}function C(e,t){var o=P(e,t,1),n=P(e,t,8),r=H(e,t,7),i=o^n^r;return 0>i&&(i+=4294967296),i}function B(e,t){var o=x(e,t,19),n=x(t,e,29),r=U(e,t,6),i=o^n^r;return 0>i&&(i+=4294967296),i}function I(e,t){var o=P(e,t,19),n=P(t,e,29),r=H(e,t,6),i=o^n^r;return 0>i&&(i+=4294967296),i}var A=e("../hash"),w=A.utils,R=w.assert,O=w.rotr32,N=w.rotl32,M=w.sum32,L=w.sum32_4,D=w.sum32_5,x=w.rotr64_hi,P=w.rotr64_lo,U=w.shr64_hi,H=w.shr64_lo,F=w.sum64,G=w.sum64_hi,V=w.sum64_lo,W=w.sum64_4_hi,K=w.sum64_4_lo,j=w.sum64_5_hi,X=w.sum64_5_lo,Y=A.common.BlockHash,q=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],z=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],J=[1518500249,1859775393,2400959708,3395469782];w.inherits(n,Y),o.sha256=n,n.blockSize=512,n.outSize=256,n.hmacStrength=192,n.padLength=64,n.prototype._update=function(e,t){for(var o=this.W,n=0;16>n;n++)o[n]=e[t+n];for(;n<o.length;n++)o[n]=L(p(o[n-2]),o[n-7],d(o[n-15]),o[n-16]);var r=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],c=this.h[4],f=this.h[5],y=this.h[6],_=this.h[7];R(this.k.length===o.length);for(var n=0;n<o.length;n++){var m=D(_,h(c),l(c,f,y),this.k[n],o[n]),b=M(u(r),g(r,i,s));_=y,y=f,f=c,c=M(a,m),a=s,s=i,i=r,r=M(m,b)}this.h[0]=M(this.h[0],r),this.h[1]=M(this.h[1],i),this.h[2]=M(this.h[2],s),this.h[3]=M(this.h[3],a),this.h[4]=M(this.h[4],c),this.h[5]=M(this.h[5],f),this.h[6]=M(this.h[6],y),this.h[7]=M(this.h[7],_)},n.prototype._digest=function(e){return"hex"===e?w.toHex32(this.h,"big"):w.split32(this.h,"big")},w.inherits(r,n),o.sha224=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(e){return"hex"===e?w.toHex32(this.h.slice(0,7),"big"):w.split32(this.h.slice(0,7),"big")},w.inherits(i,Y),o.sha512=i,i.blockSize=1024,i.outSize=512,i.hmacStrength=192,i.padLength=128,i.prototype._prepareBlock=function(e,t){for(var o=this.W,n=0;32>n;n++)o[n]=e[t+n];for(;n<o.length;n+=2){var r=B(o[n-4],o[n-3]),i=I(o[n-4],o[n-3]),s=o[n-14],a=o[n-13],l=k(o[n-30],o[n-29]),g=C(o[n-30],o[n-29]),c=o[n-32],u=o[n-31];o[n]=W(r,i,s,a,l,g,c,u),o[n+1]=K(r,i,s,a,l,g,c,u)}},i.prototype._update=function(e,t){this._prepareBlock(e,t);var o=this.W,n=this.h[0],r=this.h[1],i=this.h[2],s=this.h[3],a=this.h[4],l=this.h[5],g=this.h[6],c=this.h[7],u=this.h[8],h=this.h[9],d=this.h[10],p=this.h[11],f=this.h[12],k=this.h[13],C=this.h[14],B=this.h[15];R(this.k.length===o.length);for(var I=0;I<o.length;I+=2){var A=C,w=B,O=T(u,h),N=S(u,h),M=y(u,h,d,p,f,k),L=_(u,h,d,p,f,k),D=this.k[I],x=this.k[I+1],P=o[I],U=o[I+1],H=j(A,w,O,N,M,L,D,x,P,U),W=X(A,w,O,N,M,L,D,x,P,U),A=v(n,r),w=E(n,r),O=m(n,r,i,s,a,l),N=b(n,r,i,s,a,l),K=G(A,w,O,N),Y=V(A,w,O,N);C=f,B=k,f=d,k=p,d=u,p=h,u=G(g,c,H,W),h=V(c,c,H,W),g=a,c=l,a=i,l=s,i=n,s=r,n=G(H,W,K,Y),r=V(H,W,K,Y)}F(this.h,0,n,r),F(this.h,2,i,s),F(this.h,4,a,l),F(this.h,6,g,c),F(this.h,8,u,h),F(this.h,10,d,p),F(this.h,12,f,k),F(this.h,14,C,B)},i.prototype._digest=function(e){return"hex"===e?w.toHex32(this.h,"big"):w.split32(this.h,"big")},w.inherits(s,i),o.sha384=s,s.blockSize=1024,s.outSize=384,s.hmacStrength=192,s.padLength=128,s.prototype._digest=function(e){return"hex"===e?w.toHex32(this.h.slice(0,12),"big"):w.split32(this.h.slice(0,12),"big")},w.inherits(a,Y),o.sha1=a,a.blockSize=512,a.outSize=160,a.hmacStrength=80,a.padLength=64,a.prototype._update=function(e,t){for(var o=this.W,n=0;16>n;n++)o[n]=e[t+n];for(;n<o.length;n++)o[n]=N(o[n-3]^o[n-8]^o[n-14]^o[n-16],1);for(var r=this.h[0],i=this.h[1],s=this.h[2],a=this.h[3],l=this.h[4],n=0;n<o.length;n++){var g=~~(n/20),c=D(N(r,5),f(g,i,s,a),l,o[n],J[g]);l=a,a=s,s=N(i,30),i=r,r=c}this.h[0]=M(this.h[0],r),this.h[1]=M(this.h[1],i),this.h[2]=M(this.h[2],s),this.h[3]=M(this.h[3],a),this.h[4]=M(this.h[4],l)},a.prototype._digest=function(e){return"hex"===e?w.toHex32(this.h,"big"):w.split32(this.h,"big")}},{"../hash":62}],67:[function(e,t,o){function n(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var o=[];if("string"==typeof e)if(t){if("hex"===t){e=e.replace(/[^a-z0-9]+/gi,""),e.length%2!==0&&(e="0"+e);for(var n=0;n<e.length;n+=2)o.push(parseInt(e[n]+e[n+1],16))}}else for(var n=0;n<e.length;n++){var r=e.charCodeAt(n),i=r>>8,s=255&r;i?o.push(i,s):o.push(s)}else for(var n=0;n<e.length;n++)o[n]=0|e[n];return o}function r(e){for(var t="",o=0;o<e.length;o++)t+=a(e[o].toString(16));return t}function i(e){var t=e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24;return t>>>0}function s(e,t){for(var o="",n=0;n<e.length;n++){var r=e[n];"little"===t&&(r=i(r)),o+=l(r.toString(16))}return o}function a(e){return 1===e.length?"0"+e:e}function l(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}function g(e,t,o,n){var r=o-t;_(r%4===0);for(var i=new Array(r/4),s=0,a=t;s<i.length;s++,a+=4){var l;l="big"===n?e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3]:e[a+3]<<24|e[a+2]<<16|e[a+1]<<8|e[a],i[s]=l>>>0}return i}function c(e,t){for(var o=new Array(4*e.length),n=0,r=0;n<e.length;n++,r+=4){var i=e[n];"big"===t?(o[r]=i>>>24,o[r+1]=i>>>16&255,o[r+2]=i>>>8&255,o[r+3]=255&i):(o[r+3]=i>>>24,o[r+2]=i>>>16&255,o[r+1]=i>>>8&255,o[r]=255&i)}return o}function u(e,t){return e>>>t|e<<32-t}function h(e,t){return e<<t|e>>>32-t}function d(e,t){return e+t>>>0}function p(e,t,o){return e+t+o>>>0}function f(e,t,o,n){return e+t+o+n>>>0}function y(e,t,o,n,r){return e+t+o+n+r>>>0}function _(e,t){if(!e)throw new Error(t||"Assertion failed")}function m(e,t,o,n){var r=e[t],i=e[t+1],s=n+i>>>0,a=(n>s?1:0)+o+r;e[t]=a>>>0,e[t+1]=s}function b(e,t,o,n){var r=t+n>>>0,i=(t>r?1:0)+e+o;return i>>>0}function v(e,t,o,n){var r=t+n;return r>>>0}function E(e,t,o,n,r,i,s,a){var l=0,g=t;g=g+n>>>0,l+=t>g?1:0,g=g+i>>>0,l+=i>g?1:0,g=g+a>>>0,l+=a>g?1:0;var c=e+o+r+s+l;return c>>>0}function T(e,t,o,n,r,i,s,a){var l=t+n+i+a;return l>>>0}function S(e,t,o,n,r,i,s,a,l,g){var c=0,u=t;u=u+n>>>0,c+=t>u?1:0,u=u+i>>>0,c+=i>u?1:0,u=u+a>>>0,c+=a>u?1:0,u=u+g>>>0,c+=g>u?1:0;var h=e+o+r+s+l+c;return h>>>0}function k(e,t,o,n,r,i,s,a,l,g){var c=t+n+i+a+g;return c>>>0}function C(e,t,o){var n=t<<32-o|e>>>o;return n>>>0}function B(e,t,o){var n=e<<32-o|t>>>o;return n>>>0}function I(e,t,o){return e>>>o}function A(e,t,o){var n=e<<32-o|t>>>o;return n>>>0}var w=o,R=e("inherits");w.toArray=n,w.toHex=r,w.htonl=i,w.toHex32=s,w.zero2=a,w.zero8=l,w.join32=g,w.split32=c,w.rotr32=u,w.rotl32=h,w.sum32=d,w.sum32_3=p,w.sum32_4=f,w.sum32_5=y,w.assert=_,w.inherits=R,o.sum64=m,o.sum64_hi=b,o.sum64_lo=v,o.sum64_4_hi=E,o.sum64_4_lo=T,o.sum64_5_hi=S,o.sum64_5_lo=k,o.rotr64_hi=C,o.rotr64_lo=B,o.shr64_hi=I,o.shr64_lo=A},{inherits:203}],68:[function(e,t,o){t.exports={name:"elliptic",version:"6.2.3",description:"EC cryptography",main:"lib/elliptic.js",files:["lib"],scripts:{coverage:"npm run unit --coverage",coveralls:"npm run coverage && cat ./coverage/lcov.info | coveralls",jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/*.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/*.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/*-test.js"},repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},keywords:["EC","Elliptic","curve","Cryptography"],author:{name:"Fedor Indutny",email:"fedor@indutny.com"},license:"MIT",bugs:{url:"https://github.com/indutny/elliptic/issues"},homepage:"https://github.com/indutny/elliptic",devDependencies:{coveralls:"^2.11.3",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},dependencies:{"bn.js":"^4.0.0",brorand:"^1.0.1","hash.js":"^1.0.0",inherits:"^2.0.1"},gitHead:"c32f20b22b420eb6af3c6dda28963deb7facf823",_id:"elliptic@6.2.3",_shasum:"18e46d7306b0951275a2d42063270a14b74ebe99",_from:"elliptic@>=6.0.0 <7.0.0",_npmVersion:"3.3.12",_nodeVersion:"5.4.1",_npmUser:{name:"indutny",email:"fedor@indutny.com"},dist:{shasum:"18e46d7306b0951275a2d42063270a14b74ebe99",tarball:"https://registry.npmjs.org/elliptic/-/elliptic-6.2.3.tgz"},maintainers:[{name:"indutny",email:"fedor@indutny.com"}],directories:{},_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.2.3.tgz",readme:"ERROR: No README data found!"}},{}],69:[function(e,t,o){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},{}],70:[function(e,t,o){var n=e("asn1.js"),r=n.define("RSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("modulus")["int"](),this.key("publicExponent")["int"](),this.key("privateExponent")["int"](),this.key("prime1")["int"](),this.key("prime2")["int"](),this.key("exponent1")["int"](),this.key("exponent2")["int"](),this.key("coefficient")["int"]())});o.RSAPrivateKey=r;var i=n.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus")["int"](),this.key("publicExponent")["int"]())});o.RSAPublicKey=i;var s=n.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())});o.PublicKey=s;var a=n.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"]()).optional())}),l=n.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version")["int"](),this.key("algorithm").use(a),this.key("subjectPrivateKey").octstr())});o.PrivateKey=l;var g=n.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters")["int"]())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});o.EncryptedPrivateKey=g;var c=n.define("DSAPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("p")["int"](),this.key("q")["int"](),this.key("g")["int"](),this.key("pub_key")["int"](),this.key("priv_key")["int"]())});o.DSAPrivateKey=c,o.DSAparam=n.define("DSAparam",function(){this["int"]()});var u=n.define("ECPrivateKey",function(){this.seq().obj(this.key("version")["int"](),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});o.ECPrivateKey=u;var h=n.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});o.signature=n.define("signature",function(){this.seq().obj(this.key("r")["int"](),this.key("s")["int"]())})},{"asn1.js":73}],71:[function(e,t,o){(function(o){var n=/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m,r=/^-----BEGIN (.*) KEY-----\r?\n/m,i=/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m,s=e("evp_bytestokey"),a=e("browserify-aes");t.exports=function(e,t){var l,g=e.toString(),c=g.match(n);if(c){var u="aes"+c[1],h=new o(c[2],"hex"),d=new o(c[3].replace(/\r?\n/g,""),"base64"),p=s(t,h.slice(0,8),parseInt(c[1],10)).key,f=[],y=a.createDecipheriv(u,p,h);f.push(y.update(d)),f.push(y["final"]()),l=o.concat(f)}else{var _=g.match(i);l=new o(_[2].replace(/\r?\n/g,""),"base64")}var m=g.match(r)[1]+" KEY";return{tag:m,data:l}}}).call(this,e("buffer").Buffer)},{"browserify-aes":90,buffer:6,evp_bytestokey:105}],72:[function(e,t,o){(function(o){function n(e){var t;"object"!=typeof e||o.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=new o(e));var n,s,l=a(e,t),g=l.tag,c=l.data;switch(g){case"PUBLIC KEY":switch(s=i.PublicKey.decode(c,"der"),n=s.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=i.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+g);case"ENCRYPTED PRIVATE KEY":c=i.EncryptedPrivateKey.decode(c,"der"),c=r(c,t);case"PRIVATE KEY":switch(s=i.PrivateKey.decode(c,"der"),n=s.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:i.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=i.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+g);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=i.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+g)}}function r(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=s[e.algorithm.decrypt.cipher.algo.join(".")],a=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,u=parseInt(i.split("-")[1],10)/8,h=g.pbkdf2Sync(t,n,r,u),d=l.createDecipheriv(i,h,a),p=[];return p.push(d.update(c)),p.push(d["final"]()),o.concat(p)}var i=e("./asn1"),s=e("./aesid.json"),a=e("./fixProc"),l=e("browserify-aes"),g=e("pbkdf2");t.exports=n,n.signature=i.signature}).call(this,e("buffer").Buffer)},{"./aesid.json":69,"./asn1":70,"./fixProc":71,"browserify-aes":90,buffer:6,pbkdf2:155}],73:[function(e,t,o){var n=o;n.bignum=e("bn.js"),n.define=e("./asn1/api").define,n.base=e("./asn1/base"),n.constants=e("./asn1/constants"),n.decoders=e("./asn1/decoders"),n.encoders=e("./asn1/encoders")},{"./asn1/api":74,"./asn1/base":76,"./asn1/constants":80,"./asn1/decoders":82,"./asn1/encoders":85,"bn.js":43}],74:[function(e,t,o){function n(e,t){this.name=e,this.body=t,this.decoders={},this.encoders={}}var r=e("../asn1"),i=e("inherits"),s=o;s.define=function(e,t){return new n(e,t)},n.prototype._createNamed=function(t){var o;try{o=e("vm").runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(n){o=function(e){this._initNamed(e)}}return i(o,t),o.prototype._initNamed=function(e){t.call(this,e)},new o(this)},n.prototype._getDecoder=function(e){return this.decoders.hasOwnProperty(e)||(this.decoders[e]=this._createNamed(r.decoders[e])),this.decoders[e]},n.prototype.decode=function(e,t,o){return this._getDecoder(t).decode(e,o)},n.prototype._getEncoder=function(e){return this.encoders.hasOwnProperty(e)||(this.encoders[e]=this._createNamed(r.encoders[e])),this.encoders[e]},n.prototype.encode=function(e,t,o){return this._getEncoder(t).encode(e,o)}},{"../asn1":73,inherits:203,vm:222}],75:[function(e,t,o){function n(e,t){return s.call(this,t),a.isBuffer(e)?(this.base=e,this.offset=0,void(this.length=e.length)):void this.error("Input not Buffer")}function r(e,t){if(Array.isArray(e))this.length=0,this.value=e.map(function(e){return e instanceof r||(e=new r(e,t)),this.length+=e.length,e},this);else if("number"==typeof e){if(!(e>=0&&255>=e))return t.error("non-byte EncoderBuffer value");this.value=e,this.length=1}else if("string"==typeof e)this.value=e,this.length=a.byteLength(e);else{if(!a.isBuffer(e))return t.error("Unsupported type: "+typeof e);this.value=e,this.length=e.length}}var i=e("inherits"),s=e("../base").Reporter,a=e("buffer").Buffer;i(n,s),o.DecoderBuffer=n,n.prototype.save=function(){return{offset:this.offset,reporter:s.prototype.save.call(this)}},n.prototype.restore=function(e){var t=new n(this.base);return t.offset=e.offset,t.length=this.offset,this.offset=e.offset,s.prototype.restore.call(this,e.reporter),t},n.prototype.isEmpty=function(){return this.offset===this.length},n.prototype.readUInt8=function(e){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(e||"DecoderBuffer overrun")},n.prototype.skip=function(e,t){if(!(this.offset+e<=this.length))return this.error(t||"DecoderBuffer overrun");var o=new n(this.base);return o._reporterState=this._reporterState,o.offset=this.offset,o.length=this.offset+e,this.offset+=e,o},n.prototype.raw=function(e){return this.base.slice(e?e.offset:this.offset,this.length)},o.EncoderBuffer=r,r.prototype.join=function(e,t){return e||(e=new a(this.length)),t||(t=0),0===this.length?e:(Array.isArray(this.value)?this.value.forEach(function(o){o.join(e,t),t+=o.length}):("number"==typeof this.value?e[t]=this.value:"string"==typeof this.value?e.write(this.value,t):a.isBuffer(this.value)&&this.value.copy(e,t),t+=this.length),e)}},{"../base":76,buffer:6,inherits:203}],76:[function(e,t,o){var n=o;n.Reporter=e("./reporter").Reporter,n.DecoderBuffer=e("./buffer").DecoderBuffer,n.EncoderBuffer=e("./buffer").EncoderBuffer,n.Node=e("./node")},{"./buffer":75,"./node":77,"./reporter":78}],77:[function(e,t,o){function n(e,t){var o={};this._baseState=o,o.enc=e,o.parent=t||null,o.children=null,o.tag=null,o.args=null,o.reverseArgs=null,o.choice=null,o.optional=!1,o.any=!1,o.obj=!1,o.use=null,o.useDecoder=null,o.key=null,o["default"]=null,o.explicit=null,o.implicit=null,o.contains=null,o.parent||(o.children=[],this._wrap())}var r=e("../base").Reporter,i=e("../base").EncoderBuffer,s=e("../base").DecoderBuffer,a=e("minimalistic-assert"),l=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],g=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(l),c=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];t.exports=n;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit"];n.prototype.clone=function(){var e=this._baseState,t={};u.forEach(function(o){t[o]=e[o]});var o=new this.constructor(t.parent);return o._baseState=t,o},n.prototype._wrap=function(){var e=this._baseState;g.forEach(function(t){this[t]=function(){var o=new this.constructor(this);return e.children.push(o),o[t].apply(o,arguments)}},this)},n.prototype._init=function(e){var t=this._baseState;a(null===t.parent),e.call(this),t.children=t.children.filter(function(e){return e._baseState.parent===this},this),a.equal(t.children.length,1,"Root node can have only one child")},n.prototype._useArgs=function(e){var t=this._baseState,o=e.filter(function(e){return e instanceof this.constructor},this);e=e.filter(function(e){return!(e instanceof this.constructor)},this),0!==o.length&&(a(null===t.children),t.children=o,o.forEach(function(e){e._baseState.parent=this},this)),0!==e.length&&(a(null===t.args),t.args=e,t.reverseArgs=e.map(function(e){if("object"!=typeof e||e.constructor!==Object)return e;var t={};return Object.keys(e).forEach(function(o){o==(0|o)&&(o|=0);var n=e[o];t[n]=o}),t}))},c.forEach(function(e){n.prototype[e]=function(){var t=this._baseState;throw new Error(e+" not implemented for encoding: "+t.enc)}}),l.forEach(function(e){n.prototype[e]=function(){var t=this._baseState,o=Array.prototype.slice.call(arguments);return a(null===t.tag),t.tag=e,this._useArgs(o),this}}),n.prototype.use=function(e){var t=this._baseState;return a(null===t.use),t.use=e,this},n.prototype.optional=function(){var e=this._baseState;return e.optional=!0,this},n.prototype.def=function(e){var t=this._baseState;return a(null===t["default"]),t["default"]=e,t.optional=!0,this},n.prototype.explicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.explicit=e,this},n.prototype.implicit=function(e){var t=this._baseState;return a(null===t.explicit&&null===t.implicit),t.implicit=e,this},n.prototype.obj=function(){var e=this._baseState,t=Array.prototype.slice.call(arguments);
return e.obj=!0,0!==t.length&&this._useArgs(t),this},n.prototype.key=function(e){var t=this._baseState;return a(null===t.key),t.key=e,this},n.prototype.any=function(){var e=this._baseState;return e.any=!0,this},n.prototype.choice=function(e){var t=this._baseState;return a(null===t.choice),t.choice=e,this._useArgs(Object.keys(e).map(function(t){return e[t]})),this},n.prototype.contains=function(e){var t=this._baseState;return a(null===t.use),t.contains=e,this},n.prototype._decode=function(e){var t=this._baseState;if(null===t.parent)return e.wrapResult(t.children[0]._decode(e));var o,n=t["default"],r=!0;if(null!==t.key&&(o=e.enterKey(t.key)),t.optional){var i=null;if(null!==t.explicit?i=t.explicit:null!==t.implicit?i=t.implicit:null!==t.tag&&(i=t.tag),null!==i||t.any){if(r=this._peekTag(e,i,t.any),e.isError(r))return r}else{var a=e.save();try{null===t.choice?this._decodeGeneric(t.tag,e):this._decodeChoice(e),r=!0}catch(l){r=!1}e.restore(a)}}var g;if(t.obj&&r&&(g=e.enterObject()),r){if(null!==t.explicit){var c=this._decodeTag(e,t.explicit);if(e.isError(c))return c;e=c}if(null===t.use&&null===t.choice){if(t.any)var a=e.save();var u=this._decodeTag(e,null!==t.implicit?t.implicit:t.tag,t.any);if(e.isError(u))return u;t.any?n=e.raw(a):e=u}if(n=t.any?n:null===t.choice?this._decodeGeneric(t.tag,e):this._decodeChoice(e),e.isError(n))return n;if(t.any||null!==t.choice||null===t.children||t.children.forEach(function(t){t._decode(e)}),t.contains&&("octstr"===t.tag||"bitstr"===t.tag)){var h=new s(n);n=this._getUse(t.contains,e._reporterState.obj)._decode(h)}}return t.obj&&r&&(n=e.leaveObject(g)),null===t.key||null===n&&r!==!0||e.leaveKey(o,t.key,n),n},n.prototype._decodeGeneric=function(e,t){var o=this._baseState;return"seq"===e||"set"===e?null:"seqof"===e||"setof"===e?this._decodeList(t,e,o.args[0]):/str$/.test(e)?this._decodeStr(t,e):"objid"===e&&o.args?this._decodeObjid(t,o.args[0],o.args[1]):"objid"===e?this._decodeObjid(t,null,null):"gentime"===e||"utctime"===e?this._decodeTime(t,e):"null_"===e?this._decodeNull(t):"bool"===e?this._decodeBool(t):"int"===e||"enum"===e?this._decodeInt(t,o.args&&o.args[0]):null!==o.use?this._getUse(o.use,t._reporterState.obj)._decode(t):t.error("unknown tag: "+e)},n.prototype._getUse=function(e,t){var o=this._baseState;return o.useDecoder=this._use(e,t),a(null===o.useDecoder._baseState.parent),o.useDecoder=o.useDecoder._baseState.children[0],o.implicit!==o.useDecoder._baseState.implicit&&(o.useDecoder=o.useDecoder.clone(),o.useDecoder._baseState.implicit=o.implicit),o.useDecoder},n.prototype._decodeChoice=function(e){var t=this._baseState,o=null,n=!1;return Object.keys(t.choice).some(function(r){var i=e.save(),s=t.choice[r];try{var a=s._decode(e);if(e.isError(a))return!1;o={type:r,value:a},n=!0}catch(l){return e.restore(i),!1}return!0},this),n?o:e.error("Choice not matched")},n.prototype._createEncoderBuffer=function(e){return new i(e,this.reporter)},n.prototype._encode=function(e,t,o){var n=this._baseState;if(null===n["default"]||n["default"]!==e){var r=this._encodeValue(e,t,o);if(void 0!==r&&!this._skipDefault(r,t,o))return r}},n.prototype._encodeValue=function(e,t,o){var n=this._baseState;if(null===n.parent)return n.children[0]._encode(e,t||new r);var i=null;if(this.reporter=t,n.optional&&void 0===e){if(null===n["default"])return;e=n["default"]}var s=null,a=!1;if(n.any)i=this._createEncoderBuffer(e);else if(n.choice)i=this._encodeChoice(e,t);else if(n.contains)s=this._getUse(n.contains,o)._encode(e,t),a=!0;else if(n.children)s=n.children.map(function(o){if("null_"===o._baseState.tag)return o._encode(null,t,e);if(null===o._baseState.key)return t.error("Child should have a key");var n=t.enterKey(o._baseState.key);if("object"!=typeof e)return t.error("Child expected, but input is not object");var r=o._encode(e[o._baseState.key],t,e);return t.leaveKey(n),r},this).filter(function(e){return e}),s=this._createEncoderBuffer(s);else if("seqof"===n.tag||"setof"===n.tag){if(!n.args||1!==n.args.length)return t.error("Too many args for : "+n.tag);if(!Array.isArray(e))return t.error("seqof/setof, but data is not Array");var l=this.clone();l._baseState.implicit=null,s=this._createEncoderBuffer(e.map(function(o){var n=this._baseState;return this._getUse(n.args[0],e)._encode(o,t)},l))}else null!==n.use?i=this._getUse(n.use,o)._encode(e,t):(s=this._encodePrimitive(n.tag,e),a=!0);var i;if(!n.any&&null===n.choice){var g=null!==n.implicit?n.implicit:n.tag,c=null===n.implicit?"universal":"context";null===g?null===n.use&&t.error("Tag could be ommited only for .use()"):null===n.use&&(i=this._encodeComposite(g,a,c,s))}return null!==n.explicit&&(i=this._encodeComposite(n.explicit,!1,"context",i)),i},n.prototype._encodeChoice=function(e,t){var o=this._baseState,n=o.choice[e.type];return n||a(!1,e.type+" not found in "+JSON.stringify(Object.keys(o.choice))),n._encode(e.value,t)},n.prototype._encodePrimitive=function(e,t){var o=this._baseState;if(/str$/.test(e))return this._encodeStr(t,e);if("objid"===e&&o.args)return this._encodeObjid(t,o.reverseArgs[0],o.args[1]);if("objid"===e)return this._encodeObjid(t,null,null);if("gentime"===e||"utctime"===e)return this._encodeTime(t,e);if("null_"===e)return this._encodeNull();if("int"===e||"enum"===e)return this._encodeInt(t,o.args&&o.reverseArgs[0]);if("bool"===e)return this._encodeBool(t);throw new Error("Unsupported tag: "+e)},n.prototype._isNumstr=function(e){return/^[0-9 ]*$/.test(e)},n.prototype._isPrintstr=function(e){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(e)}},{"../base":76,"minimalistic-assert":87}],78:[function(e,t,o){function n(e){this._reporterState={obj:null,path:[],options:e||{},errors:[]}}function r(e,t){this.path=e,this.rethrow(t)}var i=e("inherits");o.Reporter=n,n.prototype.isError=function(e){return e instanceof r},n.prototype.save=function(){var e=this._reporterState;return{obj:e.obj,pathLen:e.path.length}},n.prototype.restore=function(e){var t=this._reporterState;t.obj=e.obj,t.path=t.path.slice(0,e.pathLen)},n.prototype.enterKey=function(e){return this._reporterState.path.push(e)},n.prototype.leaveKey=function(e,t,o){var n=this._reporterState;n.path=n.path.slice(0,e-1),null!==n.obj&&(n.obj[t]=o)},n.prototype.enterObject=function(){var e=this._reporterState,t=e.obj;return e.obj={},t},n.prototype.leaveObject=function(e){var t=this._reporterState,o=t.obj;return t.obj=e,o},n.prototype.error=function(e){var t,o=this._reporterState,n=e instanceof r;if(t=n?e:new r(o.path.map(function(e){return"["+JSON.stringify(e)+"]"}).join(""),e.message||e,e.stack),!o.options.partial)throw t;return n||o.errors.push(t),t},n.prototype.wrapResult=function(e){var t=this._reporterState;return t.options.partial?{result:this.isError(e)?null:e,errors:t.errors}:e},i(r,Error),r.prototype.rethrow=function(e){return this.message=e+" at: "+(this.path||"(shallow)"),Error.captureStackTrace(this,r),this}},{inherits:203}],79:[function(e,t,o){var n=e("../constants");o.tagClass={0:"universal",1:"application",2:"context",3:"private"},o.tagClassByName=n._reverse(o.tagClass),o.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},o.tagByName=n._reverse(o.tag)},{"../constants":80}],80:[function(e,t,o){var n=o;n._reverse=function(e){var t={};return Object.keys(e).forEach(function(o){(0|o)==o&&(o=0|o);var n=e[o];t[n]=o}),t},n.der=e("./der")},{"./der":79}],81:[function(e,t,o){function n(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new r,this.tree._init(e.body)}function r(e){g.Node.call(this,"der",e)}function i(e,t){var o=e.readUInt8(t);if(e.isError(o))return o;var n=u.tagClass[o>>6],r=0===(32&o);if(31===(31&o)){var i=o;for(o=0;128===(128&i);){if(i=e.readUInt8(t),e.isError(i))return i;o<<=7,o|=127&i}}else o&=31;var s=u.tag[o];return{cls:n,primitive:r,tag:o,tagStr:s}}function s(e,t,o){var n=e.readUInt8(o);if(e.isError(n))return n;if(!t&&128===n)return null;if(0===(128&n))return n;var r=127&n;if(r>=4)return e.error("length octect is too long");n=0;for(var i=0;r>i;i++){n<<=8;var s=e.readUInt8(o);if(e.isError(s))return s;n|=s}return n}var a=e("inherits"),l=e("../../asn1"),g=l.base,c=l.bignum,u=l.constants.der;t.exports=n,n.prototype.decode=function(e,t){return e instanceof g.DecoderBuffer||(e=new g.DecoderBuffer(e,t)),this.tree._decode(e,t)},a(r,g.Node),r.prototype._peekTag=function(e,t,o){if(e.isEmpty())return!1;var n=e.save(),r=i(e,'Failed to peek tag: "'+t+'"');return e.isError(r)?r:(e.restore(n),r.tag===t||r.tagStr===t||r.tagStr+"of"===t||o)},r.prototype._decodeTag=function(e,t,o){var n=i(e,'Failed to decode tag of "'+t+'"');if(e.isError(n))return n;var r=s(e,n.primitive,'Failed to get length of "'+t+'"');if(e.isError(r))return r;if(!o&&n.tag!==t&&n.tagStr!==t&&n.tagStr+"of"!==t)return e.error('Failed to match tag: "'+t+'"');if(n.primitive||null!==r)return e.skip(r,'Failed to match body of: "'+t+'"');var a=e.save(),l=this._skipUntilEnd(e,'Failed to skip indefinite length body: "'+this.tag+'"');return e.isError(l)?l:(r=e.offset-a.offset,e.restore(a),e.skip(r,'Failed to match body of: "'+t+'"'))},r.prototype._skipUntilEnd=function(e,t){for(;;){var o=i(e,t);if(e.isError(o))return o;var n=s(e,o.primitive,t);if(e.isError(n))return n;var r;if(r=o.primitive||null!==n?e.skip(n):this._skipUntilEnd(e,t),e.isError(r))return r;if("end"===o.tagStr)break}},r.prototype._decodeList=function(e,t,o){for(var n=[];!e.isEmpty();){var r=this._peekTag(e,"end");if(e.isError(r))return r;var i=o.decode(e,"der");if(e.isError(i)&&r)break;n.push(i)}return n},r.prototype._decodeStr=function(e,t){if("bitstr"===t){var o=e.readUInt8();return e.isError(o)?o:{unused:o,data:e.raw()}}if("bmpstr"===t){var n=e.raw();if(n.length%2===1)return e.error("Decoding of string type: bmpstr length mismatch");for(var r="",i=0;i<n.length/2;i++)r+=String.fromCharCode(n.readUInt16BE(2*i));return r}if("numstr"===t){var s=e.raw().toString("ascii");return this._isNumstr(s)?s:e.error("Decoding of string type: numstr unsupported characters")}if("octstr"===t)return e.raw();if("printstr"===t){var a=e.raw().toString("ascii");return this._isPrintstr(a)?a:e.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(t)?e.raw().toString():e.error("Decoding of string type: "+t+" unsupported")},r.prototype._decodeObjid=function(e,t,o){for(var n,r=[],i=0;!e.isEmpty();){var s=e.readUInt8();i<<=7,i|=127&s,0===(128&s)&&(r.push(i),i=0)}128&s&&r.push(i);var a=r[0]/40|0,l=r[0]%40;if(n=o?r:[a,l].concat(r.slice(1)),t){var g=t[n.join(" ")];void 0===g&&(g=t[n.join(".")]),void 0!==g&&(n=g)}return n},r.prototype._decodeTime=function(e,t){var o=e.raw().toString();if("gentime"===t)var n=0|o.slice(0,4),r=0|o.slice(4,6),i=0|o.slice(6,8),s=0|o.slice(8,10),a=0|o.slice(10,12),l=0|o.slice(12,14);else{if("utctime"!==t)return e.error("Decoding "+t+" time is not supported yet");var n=0|o.slice(0,2),r=0|o.slice(2,4),i=0|o.slice(4,6),s=0|o.slice(6,8),a=0|o.slice(8,10),l=0|o.slice(10,12);n=70>n?2e3+n:1900+n}return Date.UTC(n,r-1,i,s,a,l,0)},r.prototype._decodeNull=function(e){return null},r.prototype._decodeBool=function(e){var t=e.readUInt8();return e.isError(t)?t:0!==t},r.prototype._decodeInt=function(e,t){var o=e.raw(),n=new c(o);return t&&(n=t[n.toString(10)]||n),n},r.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getDecoder("der").tree}},{"../../asn1":73,inherits:203}],82:[function(e,t,o){var n=o;n.der=e("./der"),n.pem=e("./pem")},{"./der":81,"./pem":83}],83:[function(e,t,o){function n(e){s.call(this,e),this.enc="pem"}var r=e("inherits"),i=e("buffer").Buffer,s=(e("../../asn1"),e("./der"));r(n,s),t.exports=n,n.prototype.decode=function(e,t){for(var o=e.toString().split(/[\r\n]+/g),n=t.label.toUpperCase(),r=/^-----(BEGIN|END) ([^-]+)-----$/,a=-1,l=-1,g=0;g<o.length;g++){var c=o[g].match(r);if(null!==c&&c[2]===n){if(-1!==a){if("END"!==c[1])break;l=g;break}if("BEGIN"!==c[1])break;a=g}}if(-1===a||-1===l)throw new Error("PEM section not found for: "+n);var u=o.slice(a+1,l).join("");u.replace(/[^a-z0-9\+\/=]+/gi,"");var h=new i(u,"base64");return s.prototype.decode.call(this,h,t)}},{"../../asn1":73,"./der":81,buffer:6,inherits:203}],84:[function(e,t,o){function n(e){this.enc="der",this.name=e.name,this.entity=e,this.tree=new r,this.tree._init(e.body)}function r(e){c.Node.call(this,"der",e)}function i(e){return 10>e?"0"+e:e}function s(e,t,o,n){var r;if("seqof"===e?e="seq":"setof"===e&&(e="set"),u.tagByName.hasOwnProperty(e))r=u.tagByName[e];else{if("number"!=typeof e||(0|e)!==e)return n.error("Unknown tag: "+e);r=e}return r>=31?n.error("Multi-octet tag encoding unsupported"):(t||(r|=32),r|=u.tagClassByName[o||"universal"]<<6)}var a=e("inherits"),l=e("buffer").Buffer,g=e("../../asn1"),c=g.base,u=(g.bignum,g.constants.der);t.exports=n,n.prototype.encode=function(e,t){return this.tree._encode(e,t).join()},a(r,c.Node),r.prototype._encodeComposite=function(e,t,o,n){var r=s(e,t,o,this.reporter);if(n.length<128){var i=new l(2);return i[0]=r,i[1]=n.length,this._createEncoderBuffer([i,n])}for(var a=1,g=n.length;g>=256;g>>=8)a++;var i=new l(2+a);i[0]=r,i[1]=128|a;for(var g=1+a,c=n.length;c>0;g--,c>>=8)i[g]=255&c;return this._createEncoderBuffer([i,n])},r.prototype._encodeStr=function(e,t){if("bitstr"===t)return this._createEncoderBuffer([0|e.unused,e.data]);if("bmpstr"===t){for(var o=new l(2*e.length),n=0;n<e.length;n++)o.writeUInt16BE(e.charCodeAt(n),2*n);return this._createEncoderBuffer(o)}return"numstr"===t?this._isNumstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===t?this._isPrintstr(e)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(t)?this._createEncoderBuffer(e):this.reporter.error("Encoding of string type: "+t+" unsupported")},r.prototype._encodeObjid=function(e,t,o){if("string"==typeof e){if(!t)return this.reporter.error("string objid given, but no values map found");if(!t.hasOwnProperty(e))return this.reporter.error("objid not found in values map");e=t[e].split(/[\s\.]+/g);for(var n=0;n<e.length;n++)e[n]|=0}else if(Array.isArray(e)){e=e.slice();for(var n=0;n<e.length;n++)e[n]|=0}if(!Array.isArray(e))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(e));if(!o){if(e[1]>=40)return this.reporter.error("Second objid identifier OOB");e.splice(0,2,40*e[0]+e[1])}for(var r=0,n=0;n<e.length;n++){var i=e[n];for(r++;i>=128;i>>=7)r++}for(var s=new l(r),a=s.length-1,n=e.length-1;n>=0;n--){var i=e[n];for(s[a--]=127&i;(i>>=7)>0;)s[a--]=128|127&i}return this._createEncoderBuffer(s)},r.prototype._encodeTime=function(e,t){var o,n=new Date(e);return"gentime"===t?o=[i(n.getFullYear()),i(n.getUTCMonth()+1),i(n.getUTCDate()),i(n.getUTCHours()),i(n.getUTCMinutes()),i(n.getUTCSeconds()),"Z"].join(""):"utctime"===t?o=[i(n.getFullYear()%100),i(n.getUTCMonth()+1),i(n.getUTCDate()),i(n.getUTCHours()),i(n.getUTCMinutes()),i(n.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+t+" time is not supported yet"),this._encodeStr(o,"octstr")},r.prototype._encodeNull=function(){return this._createEncoderBuffer("")},r.prototype._encodeInt=function(e,t){if("string"==typeof e){if(!t)return this.reporter.error("String int or enum given, but no values map");if(!t.hasOwnProperty(e))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(e));e=t[e]}if("number"!=typeof e&&!l.isBuffer(e)){var o=e.toArray();!e.sign&&128&o[0]&&o.unshift(0),e=new l(o)}if(l.isBuffer(e)){var n=e.length;0===e.length&&n++;var r=new l(n);return e.copy(r),0===e.length&&(r[0]=0),this._createEncoderBuffer(r)}if(128>e)return this._createEncoderBuffer(e);if(256>e)return this._createEncoderBuffer([0,e]);for(var n=1,i=e;i>=256;i>>=8)n++;for(var r=new Array(n),i=r.length-1;i>=0;i--)r[i]=255&e,e>>=8;return 128&r[0]&&r.unshift(0),this._createEncoderBuffer(new l(r))},r.prototype._encodeBool=function(e){return this._createEncoderBuffer(e?255:0)},r.prototype._use=function(e,t){return"function"==typeof e&&(e=e(t)),e._getEncoder("der").tree},r.prototype._skipDefault=function(e,t,o){var n,r=this._baseState;if(null===r["default"])return!1;var i=e.join();if(void 0===r.defaultBuffer&&(r.defaultBuffer=this._encodeValue(r["default"],t,o).join()),i.length!==r.defaultBuffer.length)return!1;for(n=0;n<i.length;n++)if(i[n]!==r.defaultBuffer[n])return!1;return!0}},{"../../asn1":73,buffer:6,inherits:203}],85:[function(e,t,o){var n=o;n.der=e("./der"),n.pem=e("./pem")},{"./der":84,"./pem":86}],86:[function(e,t,o){function n(e){i.call(this,e),this.enc="pem"}var r=e("inherits"),i=(e("buffer").Buffer,e("../../asn1"),e("./der"));r(n,i),t.exports=n,n.prototype.encode=function(e,t){for(var o=i.prototype.encode.call(this,e),n=o.toString("base64"),r=["-----BEGIN "+t.label+"-----"],s=0;s<n.length;s+=64)r.push(n.slice(s,s+64));return r.push("-----END "+t.label+"-----"),r.join("\n")}},{"../../asn1":73,"./der":84,buffer:6,inherits:203}],87:[function(e,t,o){arguments[4][38][0].apply(o,arguments)},{dup:38}],88:[function(e,t,o){(function(e){function t(e){var t,o;return t=e>a||0>e?(o=Math.abs(e)%a,0>e?a-o:o):e}function n(e){for(var t=0;t<e.length;e++)e[t]=0;return!1}function r(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function i(e){for(var t=e.length/4,o=new Array(t),n=-1;++n<t;)o[n]=e.readUInt32BE(4*n);return o}function s(e){this._key=i(e),this._doReset()}var a=Math.pow(2,32);r.prototype.init=function(){var e,t,o,n,r,i,s,a,l,g;for(e=function(){var e,o;for(o=[],t=e=0;256>e;t=++e)128>t?o.push(t<<1):o.push(t<<1^283);return o}(),r=0,l=0,t=g=0;256>g;t=++g)o=l^l<<1^l<<2^l<<3^l<<4,o=o>>>8^255&o^99,this.SBOX[r]=o,this.INV_SBOX[o]=r,i=e[r],s=e[i],a=e[s],n=257*e[o]^16843008*o,this.SUB_MIX[0][r]=n<<24|n>>>8,this.SUB_MIX[1][r]=n<<16|n>>>16,this.SUB_MIX[2][r]=n<<8|n>>>24,this.SUB_MIX[3][r]=n,n=16843009*a^65537*s^257*i^16843008*r,this.INV_SUB_MIX[0][o]=n<<24|n>>>8,this.INV_SUB_MIX[1][o]=n<<16|n>>>16,this.INV_SUB_MIX[2][o]=n<<8|n>>>24,this.INV_SUB_MIX[3][o]=n,0===r?r=l=1:(r=i^e[e[e[a^i]]],l^=e[e[l]]);return!0};var l=new r;s.blockSize=16,s.prototype.blockSize=s.blockSize,s.keySize=32,s.prototype.keySize=s.keySize,s.prototype._doReset=function(){var e,t,o,n,r,i;for(o=this._key,t=o.length,this._nRounds=t+6,r=4*(this._nRounds+1),this._keySchedule=[],n=0;r>n;n++)this._keySchedule[n]=t>n?o[n]:(i=this._keySchedule[n-1],n%t===0?(i=i<<8|i>>>24,i=l.SBOX[i>>>24]<<24|l.SBOX[i>>>16&255]<<16|l.SBOX[i>>>8&255]<<8|l.SBOX[255&i],i^=l.RCON[n/t|0]<<24):t>6&&n%t===4?i=l.SBOX[i>>>24]<<24|l.SBOX[i>>>16&255]<<16|l.SBOX[i>>>8&255]<<8|l.SBOX[255&i]:void 0,this._keySchedule[n-t]^i);for(this._invKeySchedule=[],e=0;r>e;e++)n=r-e,i=this._keySchedule[n-(e%4?0:4)],this._invKeySchedule[e]=4>e||4>=n?i:l.INV_SUB_MIX[0][l.SBOX[i>>>24]]^l.INV_SUB_MIX[1][l.SBOX[i>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[i>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&i]];return!0},s.prototype.encryptBlock=function(t){t=i(new e(t));var o=this._doCryptBlock(t,this._keySchedule,l.SUB_MIX,l.SBOX),n=new e(16);return n.writeUInt32BE(o[0],0),n.writeUInt32BE(o[1],4),n.writeUInt32BE(o[2],8),n.writeUInt32BE(o[3],12),n},s.prototype.decryptBlock=function(t){t=i(new e(t));var o=[t[3],t[1]];t[1]=o[0],t[3]=o[1];var n=this._doCryptBlock(t,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX),r=new e(16);return r.writeUInt32BE(n[0],0),r.writeUInt32BE(n[3],4),r.writeUInt32BE(n[2],8),r.writeUInt32BE(n[1],12),r},s.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},s.prototype._doCryptBlock=function(e,o,n,r){var i,s,a,l,g,c,u,h,d;s=e[0]^o[0],a=e[1]^o[1],l=e[2]^o[2],g=e[3]^o[3],i=4;for(var p=1;p<this._nRounds;p++)c=n[0][s>>>24]^n[1][a>>>16&255]^n[2][l>>>8&255]^n[3][255&g]^o[i++],u=n[0][a>>>24]^n[1][l>>>16&255]^n[2][g>>>8&255]^n[3][255&s]^o[i++],h=n[0][l>>>24]^n[1][g>>>16&255]^n[2][s>>>8&255]^n[3][255&a]^o[i++],d=n[0][g>>>24]^n[1][s>>>16&255]^n[2][a>>>8&255]^n[3][255&l]^o[i++],s=c,a=u,l=h,g=d;return c=(r[s>>>24]<<24|r[a>>>16&255]<<16|r[l>>>8&255]<<8|r[255&g])^o[i++],u=(r[a>>>24]<<24|r[l>>>16&255]<<16|r[g>>>8&255]<<8|r[255&s])^o[i++],h=(r[l>>>24]<<24|r[g>>>16&255]<<16|r[s>>>8&255]<<8|r[255&a])^o[i++],d=(r[g>>>24]<<24|r[s>>>16&255]<<16|r[a>>>8&255]<<8|r[255&l])^o[i++],[t(c),t(u),t(h),t(d)]},o.AES=s}).call(this,e("buffer").Buffer)},{buffer:6}],89:[function(e,t,o){(function(o){function n(e,t,r,a){if(!(this instanceof n))return new n(e,t,r);s.call(this),this._finID=o.concat([r,new o([0,0,0,1])]),r=o.concat([r,new o([0,0,0,2])]),this._cipher=new i.AES(t),this._prev=new o(r.length),this._cache=new o(""),this._secCache=new o(""),this._decrypt=a,this._alen=0,this._len=0,r.copy(this._prev),this._mode=e;var g=new o(4);g.fill(0),this._ghash=new l(this._cipher.encryptBlock(g)),this._authTag=null,this._called=!1}function r(e,t){var o=0;e.length!==t.length&&o++;for(var n=Math.min(e.length,t.length),r=-1;++r<n;)o+=e[r]^t[r];return o}var i=e("./aes"),s=e("cipher-base"),a=e("inherits"),l=e("./ghash"),g=e("buffer-xor");a(n,s),t.exports=n,n.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;16>t&&(t=new o(t),t.fill(0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},n.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=g(this._ghash["final"](8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(r(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=e;this._cipher.scrub()},n.prototype.getAuthTag=function(){if(!this._decrypt&&o.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},n.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},n.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length}}).call(this,e("buffer").Buffer)},{"./aes":88,"./ghash":93,buffer:6,"buffer-xor":102,"cipher-base":103,inherits:203}],90:[function(e,t,o){arguments[4][14][0].apply(o,arguments)},{"./decrypter":91,"./encrypter":92,"./modes":94,dup:14}],91:[function(e,t,o){(function(t){function n(e,o,i){return this instanceof n?(g.call(this),this._cache=new r,this._last=void 0,this._cipher=new l.AES(o),this._prev=new t(i.length),i.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new n(e,o,i)}function r(){return this instanceof r?void(this.cache=new t("")):new r}function i(e){for(var t=e[15],o=-1;++o<t;)if(e[o+(16-t)]!==t)throw new Error("unable to decrypt data");return 16!==t?e.slice(0,16-t):void 0}function s(e,o,r){var i=u[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=new t(r)),"string"==typeof o&&(o=new t(o)),o.length!==i.key/8)throw new TypeError("invalid key length "+o.length);if(r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===i.type?new h(f[i.mode],o,r,!0):"auth"===i.type?new d(f[i.mode],o,r,!0):new n(f[i.mode],o,r)}function a(e,t){var o=u[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var n=p(t,!1,o.key,o.iv);return s(e,n.key,n.iv)}var l=e("./aes"),g=e("cipher-base"),c=e("inherits"),u=e("./modes"),h=e("./streamCipher"),d=e("./authCipher"),p=e("evp_bytestokey");c(n,g),n.prototype._update=function(e){this._cache.add(e);for(var o,n,r=[];o=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,o),r.push(n);return t.concat(r)},n.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return i(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},n.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},r.prototype.add=function(e){this.cache=t.concat([this.cache,e])},r.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},r.prototype.flush=function(){return this.cache.length?this.cache:void 0};var f={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};o.createDecipher=a,o.createDecipheriv=s}).call(this,e("buffer").Buffer)},{"./aes":88,"./authCipher":89,"./modes":94,"./modes/cbc":95,"./modes/cfb":96,"./modes/cfb1":97,"./modes/cfb8":98,"./modes/ctr":99,"./modes/ecb":100,"./modes/ofb":101,"./streamCipher":104,buffer:6,"cipher-base":103,evp_bytestokey:105,inherits:203}],92:[function(e,t,o){(function(t){function n(e,o,i){return this instanceof n?(l.call(this),this._cache=new r,this._cipher=new a.AES(o),this._prev=new t(i.length),i.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new n(e,o,i)}function r(){return this instanceof r?void(this.cache=new t("")):new r}function i(e,o,r){var i=c[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=new t(r)),"string"==typeof o&&(o=new t(o)),o.length!==i.key/8)throw new TypeError("invalid key length "+o.length);if(r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===i.type?new h(p[i.mode],o,r):"auth"===i.type?new d(p[i.mode],o,r):new n(p[i.mode],o,r)}function s(e,t){var o=c[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var n=u(t,!1,o.key,o.iv);return i(e,n.key,n.iv)}var a=e("./aes"),l=e("cipher-base"),g=e("inherits"),c=e("./modes"),u=e("evp_bytestokey"),h=e("./streamCipher"),d=e("./authCipher");g(n,l),n.prototype._update=function(e){this._cache.add(e);for(var o,n,r=[];o=this._cache.get();)n=this._mode.encrypt(this,o),r.push(n);return t.concat(r)},n.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if("10101010101010101010101010101010"!==e.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},n.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},r.prototype.add=function(e){this.cache=t.concat([this.cache,e])},r.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},r.prototype.flush=function(){for(var e=16-this.cache.length,o=new t(e),n=-1;++n<e;)o.writeUInt8(e,n);var r=t.concat([this.cache,o]);return r};var p={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};o.createCipheriv=i,o.createCipher=s}).call(this,e("buffer").Buffer)},{"./aes":88,"./authCipher":89,"./modes":94,"./modes/cbc":95,"./modes/cfb":96,"./modes/cfb1":97,"./modes/cfb8":98,"./modes/ctr":99,"./modes/ecb":100,"./modes/ofb":101,"./streamCipher":104,buffer:6,"cipher-base":103,evp_bytestokey:105,inherits:203}],93:[function(e,t,o){(function(e){function o(t){this.h=t,this.state=new e(16),this.state.fill(0),this.cache=new e("")}function n(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function r(t){t=t.map(i);var o=new e(16);return o.writeUInt32BE(t[0],0),o.writeUInt32BE(t[1],4),o.writeUInt32BE(t[2],8),o.writeUInt32BE(t[3],12),o}function i(e){var t,o;return t=e>l||0>e?(o=Math.abs(e)%l,0>e?l-o:o):e}function s(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}var a=new e(16);a.fill(0),t.exports=o,o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,o,i=n(this.h),a=[0,0,0,0],l=-1;++l<128;){for(t=0!==(this.state[~~(l/8)]&1<<7-l%8),t&&(a=s(a,i)),o=0!==(1&i[3]),e=3;e>0;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,o&&(i[0]=i[0]^225<<24)}this.state=r(a)},o.prototype.update=function(t){this.cache=e.concat([this.cache,t]);for(var o;this.cache.length>=16;)o=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(o)},o.prototype["final"]=function(t,o){return this.cache.length&&this.ghash(e.concat([this.cache,a],16)),this.ghash(r([0,t,0,o])),this.state};var l=Math.pow(2,32)}).call(this,e("buffer").Buffer)},{buffer:6}],94:[function(e,t,o){arguments[4][18][0].apply(o,arguments)},{dup:18}],95:[function(e,t,o){arguments[4][19][0].apply(o,arguments)},{"buffer-xor":102,dup:19}],96:[function(e,t,o){(function(t){function n(e,o,n){var i=o.length,s=r(o,e._cache);return e._cache=e._cache.slice(i),e._prev=t.concat([e._prev,n?o:s]),s}var r=e("buffer-xor");o.encrypt=function(e,o,r){for(var i,s=new t("");o.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new t("")),!(e._cache.length<=o.length)){s=t.concat([s,n(e,o,r)]);break}i=e._cache.length,s=t.concat([s,n(e,o.slice(0,i),r)]),o=o.slice(i)}return s}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-xor":102}],97:[function(e,t,o){(function(e){function t(e,t,o){for(var r,i,s,a=-1,l=8,g=0;++a<l;)r=e._cipher.encryptBlock(e._prev),i=t&1<<7-a?128:0,s=r[0]^i,g+=(128&s)>>a%8,e._prev=n(e._prev,o?i:s);return g}function n(t,o){var n=t.length,r=-1,i=new e(t.length);for(t=e.concat([t,new e([o])]);++r<n;)i[r]=t[r]<<1|t[r+1]>>7;return i}o.encrypt=function(o,n,r){for(var i=n.length,s=new e(i),a=-1;++a<i;)s[a]=t(o,n[a],r);return s}}).call(this,e("buffer").Buffer)},{buffer:6}],98:[function(e,t,o){(function(e){function t(t,o,n){var r=t._cipher.encryptBlock(t._prev),i=r[0]^o;return t._prev=e.concat([t._prev.slice(1),new e([n?o:i])]),i}o.encrypt=function(o,n,r){for(var i=n.length,s=new e(i),a=-1;++a<i;)s[a]=t(o,n[a],r);return s}}).call(this,e("buffer").Buffer)},{buffer:6}],99:[function(e,t,o){(function(t){function n(e){for(var t,o=e.length;o--;){if(t=e.readUInt8(o),255!==t){t++,e.writeUInt8(t,o);break}e.writeUInt8(0,o)}}function r(e){var t=e._cipher.encryptBlock(e._prev);return n(e._prev),t}var i=e("buffer-xor");o.encrypt=function(e,o){for(;e._cache.length<o.length;)e._cache=t.concat([e._cache,r(e)]);var n=e._cache.slice(0,o.length);return e._cache=e._cache.slice(o.length),i(o,n)}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-xor":102}],100:[function(e,t,o){arguments[4][24][0].apply(o,arguments)},{dup:24}],101:[function(e,t,o){(function(t){function n(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var r=e("buffer-xor");o.encrypt=function(e,o){for(;e._cache.length<o.length;)e._cache=t.concat([e._cache,n(e)]);var i=e._cache.slice(0,o.length);return e._cache=e._cache.slice(o.length),r(o,i)}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-xor":102}],102:[function(e,t,o){(function(e){t.exports=function(t,o){for(var n=Math.min(t.length,o.length),r=new e(n),i=0;n>i;++i)r[i]=t[i]^o[i];return r}}).call(this,e("buffer").Buffer)},{buffer:6}],103:[function(e,t,o){(function(o){function n(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this["final"]=this._finalOrDigest,this._decoder=null,this._encoding=null}var r=e("stream").Transform,i=e("inherits"),s=e("string_decoder").StringDecoder;t.exports=n,i(n,r),n.prototype.update=function(e,t,n){"string"==typeof e&&(e=new o(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state");
},n.prototype._transform=function(e,t,o){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(r){n=r}finally{o(n)}},n.prototype._flush=function(e){var t;try{this.push(this._final())}catch(o){t=o}finally{e(t)}},n.prototype._finalOrDigest=function(e){var t=this._final()||new o("");return e&&(t=this._toString(t,e,!0)),t},n.prototype._toString=function(e,t,o){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return o&&(n+=this._decoder.end()),n}}).call(this,e("buffer").Buffer)},{buffer:6,inherits:203,stream:220,string_decoder:221}],104:[function(e,t,o){(function(o){function n(e,t,s,a){return this instanceof n?(i.call(this),this._cipher=new r.AES(t),this._prev=new o(s.length),this._cache=new o(""),this._secCache=new o(""),this._decrypt=a,s.copy(this._prev),void(this._mode=e)):new n(e,t,s)}var r=e("./aes"),i=e("cipher-base"),s=e("inherits");s(n,i),t.exports=n,n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()}}).call(this,e("buffer").Buffer)},{"./aes":88,buffer:6,"cipher-base":103,inherits:203}],105:[function(e,t,o){(function(o){function n(e,t,n,i){o.isBuffer(e)||(e=new o(e,"binary")),t&&!o.isBuffer(t)&&(t=new o(t,"binary")),n/=8,i=i||0;for(var s,a,l=0,g=0,c=new o(n),u=new o(i),h=0,d=[];;){if(h++>0&&d.push(s),d.push(e),t&&d.push(t),s=r(o.concat(d)),d=[],a=0,n>0)for(;;){if(0===n)break;if(a===s.length)break;c[l++]=s[a],n--,a++}if(i>0&&a!==s.length)for(;;){if(0===i)break;if(a===s.length)break;u[g++]=s[a],i--,a++}if(0===n&&0===i)break}for(a=0;a<s.length;a++)s[a]=0;return{key:c,iv:u}}var r=e("create-hash/md5");t.exports=n}).call(this,e("buffer").Buffer)},{buffer:6,"create-hash/md5":136}],106:[function(e,t,o){(function(o){function n(e,t,o,n){var s=y(t);if(s.curve){if("ecdsa"!==n)throw new Error("wrong private key type");return r(e,s)}if("dsa"===s.type){if("dsa"!==n)throw new Error("wrong private key type");return i(e,s,o)}if("rsa"!==n)throw new Error("wrong private key type");for(var a=s.modulus.byteLength(),l=[0,1];e.length+l.length+1<a;)l.push(255);l.push(0);for(var g=-1;++g<e.length;)l.push(e[g]);var c=d(l,s);return c}function r(e,t){var n=p[t.curve.join(".")];if(!n)throw new Error("unknown curve "+t.curve.join("."));var r=new m(n),i=r.genKeyPair();i._importPrivate(t.privateKey);var s=i.sign(e);return new o(s.toDER())}function i(e,t,o){for(var n,r=t.params.priv_key,i=t.params.p,g=t.params.q,h=t.params.g,d=new _(0),p=l(e,g).mod(g),f=!1,y=a(r,g,e,o);f===!1;)n=c(g,y,o),d=u(h,n,i,g),f=n.invm(g).imul(p.add(r.mul(d))).mod(g),f.cmpn(0)||(f=!1,d=new _(0));return s(d,f)}function s(e,t){e=e.toArray(),t=t.toArray(),128&e[0]&&(e=[0].concat(e)),128&t[0]&&(t=[0].concat(t));var n=e.length+t.length+4,r=[48,n,2,e.length];return r=r.concat(e,[2,t.length],t),new o(r)}function a(e,t,n,r){if(e=new o(e.toArray()),e.length<t.byteLength()){var i=new o(t.byteLength()-e.length);i.fill(0),e=o.concat([i,e])}var s=n.length,a=g(n,t),l=new o(s);l.fill(1);var c=new o(s);return c.fill(0),c=h(r,c).update(l).update(new o([0])).update(e).update(a).digest(),l=h(r,c).update(l).digest(),c=h(r,c).update(l).update(new o([1])).update(e).update(a).digest(),l=h(r,c).update(l).digest(),{k:c,v:l}}function l(e,t){var o=new _(e),n=(e.length<<3)-t.bitLength();return n>0&&o.ishrn(n),o}function g(e,t){e=l(e,t),e=e.mod(t);var n=new o(e.toArray());if(n.length<t.byteLength()){var r=new o(t.byteLength()-n.length);r.fill(0),n=o.concat([r,n])}return n}function c(e,t,n){var r,i;do{for(r=new o("");8*r.length<e.bitLength();)t.v=h(n,t.k).update(t.v).digest(),r=o.concat([r,t.v]);i=l(r,e),t.k=h(n,t.k).update(t.v).update(new o([0])).digest(),t.v=h(n,t.k).update(t.v).digest()}while(-1!==i.cmp(e));return i}function u(e,t,o,n){return e.toRed(_.mont(o)).redPow(t).fromRed().mod(n)}var h=e("create-hmac"),d=e("browserify-rsa"),p=e("./curves"),f=e("elliptic"),y=e("parse-asn1"),_=e("bn.js"),m=f.ec;t.exports=n,t.exports.getKey=a,t.exports.makeKey=c}).call(this,e("buffer").Buffer)},{"./curves":42,"bn.js":43,"browserify-rsa":44,buffer:6,"create-hmac":147,elliptic:45,"parse-asn1":72}],107:[function(e,t,o){(function(o){function n(e,t,n,s){var a=g(n);if("ec"===a.type){if("ecdsa"!==s)throw new Error("wrong public key type");return r(e,t,a)}if("dsa"===a.type){if("dsa"!==s)throw new Error("wrong public key type");return i(e,t,a)}if("rsa"!==s)throw new Error("wrong public key type");for(var l=a.modulus.byteLength(),u=[1],h=0;t.length+u.length+2<l;)u.push(255),h++;u.push(0);for(var d=-1;++d<t.length;)u.push(t[d]);u=new o(u);var p=c.mont(a.modulus);e=new c(e).toRed(p),e=e.redPow(new c(a.publicExponent)),e=new o(e.fromRed().toArray());var f=0;for(8>h&&(f=1),l=Math.min(e.length,u.length),e.length!==u.length&&(f=1),d=-1;++d<l;)f|=e[d]^u[d];return 0===f}function r(e,t,o){var n=a[o.data.algorithm.curve.join(".")];if(!n)throw new Error("unknown curve "+o.data.algorithm.curve.join("."));var r=new u(n),i=o.data.subjectPrivateKey.data;return r.verify(t,e,i)}function i(e,t,o){var n=o.data.p,r=o.data.q,i=o.data.g,a=o.data.pub_key,l=g.signature.decode(e,"der"),u=l.s,h=l.r;s(u,r),s(h,r);var d=c.mont(n),p=u.invm(r),f=i.toRed(d).redPow(new c(t).mul(p).mod(r)).fromRed().mul(a.toRed(d).redPow(h.mul(p).mod(r)).fromRed()).mod(n).mod(r);return!f.cmp(h)}function s(e,t){if(e.cmpn(0)<=0)throw new Error("invalid sig");if(e.cmp(t)>=t)throw new Error("invalid sig")}var a=e("./curves"),l=e("elliptic"),g=e("parse-asn1"),c=e("bn.js"),u=l.ec;t.exports=n}).call(this,e("buffer").Buffer)},{"./curves":42,"bn.js":43,buffer:6,elliptic:45,"parse-asn1":72}],108:[function(e,t,o){(function(o){function n(e){this.curveType=a[e],this.curveType||(this.curveType={name:e}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}function r(e,t,n){Array.isArray(e)||(e=e.toArray());var r=new o(e);if(n&&r.length<n){var i=new o(n-r.length);i.fill(0),r=o.concat([i,r])}return t?r.toString(t):r}var i=e("elliptic"),s=e("bn.js");t.exports=function(e){return new n(e)};var a={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};a.p224=a.secp224r1,a.p256=a.secp256r1=a.prime256v1,a.p192=a.secp192r1=a.prime192v1,a.p384=a.secp384r1,a.p521=a.secp521r1,n.prototype.generateKeys=function(e,t){return this.keys=this.curve.genKeyPair(),this.getPublicKey(e,t)},n.prototype.computeSecret=function(e,t,n){t=t||"utf8",o.isBuffer(e)||(e=new o(e,t));var i=this.curve.keyFromPublic(e).getPublic(),s=i.mul(this.keys.getPrivate()).getX();return r(s,n,this.curveType.byteLength)},n.prototype.getPublicKey=function(e,t){var o=this.keys.getPublic("compressed"===t,!0);return"hybrid"===t&&(o[o.length-1]%2?o[0]=7:o[0]=6),r(o,e)},n.prototype.getPrivateKey=function(e){return r(this.keys.getPrivate(),e)},n.prototype.setPublicKey=function(e,t){return t=t||"utf8",o.isBuffer(e)||(e=new o(e,t)),this.keys._importPublic(e),this},n.prototype.setPrivateKey=function(e,t){t=t||"utf8",o.isBuffer(e)||(e=new o(e,t));var n=new s(e);return n=n.toString(16),this.keys._importPrivate(n),this}}).call(this,e("buffer").Buffer)},{"bn.js":109,buffer:6,elliptic:110}],109:[function(e,t,o){arguments[4][43][0].apply(o,arguments)},{dup:43}],110:[function(e,t,o){arguments[4][45][0].apply(o,arguments)},{"../package.json":133,"./elliptic/curve":113,"./elliptic/curves":116,"./elliptic/ec":117,"./elliptic/eddsa":120,"./elliptic/hmac-drbg":123,"./elliptic/utils":125,brorand:126,dup:45}],111:[function(e,t,o){arguments[4][46][0].apply(o,arguments)},{"../../elliptic":110,"bn.js":109,dup:46}],112:[function(e,t,o){arguments[4][47][0].apply(o,arguments)},{"../../elliptic":110,"../curve":113,"bn.js":109,dup:47,inherits:203}],113:[function(e,t,o){arguments[4][48][0].apply(o,arguments)},{"./base":111,"./edwards":112,"./mont":114,"./short":115,dup:48}],114:[function(e,t,o){arguments[4][49][0].apply(o,arguments)},{"../../elliptic":110,"../curve":113,"bn.js":109,dup:49,inherits:203}],115:[function(e,t,o){arguments[4][50][0].apply(o,arguments)},{"../../elliptic":110,"../curve":113,"bn.js":109,dup:50,inherits:203}],116:[function(e,t,o){arguments[4][51][0].apply(o,arguments)},{"../elliptic":110,"./precomputed/secp256k1":124,dup:51,"hash.js":127}],117:[function(e,t,o){arguments[4][52][0].apply(o,arguments)},{"../../elliptic":110,"./key":118,"./signature":119,"bn.js":109,dup:52}],118:[function(e,t,o){arguments[4][53][0].apply(o,arguments)},{"bn.js":109,dup:53}],119:[function(e,t,o){arguments[4][54][0].apply(o,arguments)},{"../../elliptic":110,"bn.js":109,dup:54}],120:[function(e,t,o){arguments[4][55][0].apply(o,arguments)},{"../../elliptic":110,"./key":121,"./signature":122,dup:55,"hash.js":127}],121:[function(e,t,o){arguments[4][56][0].apply(o,arguments)},{"../../elliptic":110,dup:56}],122:[function(e,t,o){arguments[4][57][0].apply(o,arguments)},{"../../elliptic":110,"bn.js":109,dup:57}],123:[function(e,t,o){arguments[4][58][0].apply(o,arguments)},{"../elliptic":110,dup:58,"hash.js":127}],124:[function(e,t,o){arguments[4][59][0].apply(o,arguments)},{dup:59}],125:[function(e,t,o){arguments[4][60][0].apply(o,arguments)},{"bn.js":109,dup:60}],126:[function(e,t,o){arguments[4][61][0].apply(o,arguments)},{dup:61}],127:[function(e,t,o){arguments[4][62][0].apply(o,arguments)},{"./hash/common":128,"./hash/hmac":129,"./hash/ripemd":130,"./hash/sha":131,"./hash/utils":132,dup:62}],128:[function(e,t,o){arguments[4][63][0].apply(o,arguments)},{"../hash":127,dup:63}],129:[function(e,t,o){arguments[4][64][0].apply(o,arguments)},{"../hash":127,dup:64}],130:[function(e,t,o){arguments[4][65][0].apply(o,arguments)},{"../hash":127,dup:65}],131:[function(e,t,o){arguments[4][66][0].apply(o,arguments)},{"../hash":127,dup:66}],132:[function(e,t,o){arguments[4][67][0].apply(o,arguments)},{dup:67,inherits:203}],133:[function(e,t,o){arguments[4][68][0].apply(o,arguments)},{dup:68}],134:[function(e,t,o){(function(o){"use strict";function n(e){g.call(this,"digest"),this._hash=e,this.buffers=[]}function r(e){g.call(this,"digest"),this._hash=e}var i=e("inherits"),s=e("./md5"),a=e("ripemd160"),l=e("sha.js"),g=e("cipher-base");i(n,g),n.prototype._update=function(e){this.buffers.push(e)},n.prototype._final=function(){var e=o.concat(this.buffers),t=this._hash(e);return this.buffers=null,t},i(r,g),r.prototype._update=function(e){this._hash.update(e)},r.prototype._final=function(){return this._hash.digest()},t.exports=function(e){return e=e.toLowerCase(),"md5"===e?new n(s):"rmd160"===e||"ripemd160"===e?new n(a):new r(l(e))}}).call(this,e("buffer").Buffer)},{"./md5":136,buffer:6,"cipher-base":137,inherits:203,ripemd160:138,"sha.js":140}],135:[function(e,t,o){(function(e){"use strict";function t(t,o){if(t.length%i!==0){var n=t.length+(i-t.length%i);t=e.concat([t,s],n)}for(var r=[],a=o?t.readInt32BE:t.readInt32LE,l=0;l<t.length;l+=i)r.push(a.call(t,l));return r}function n(t,o,n){for(var r=new e(o),i=n?r.writeInt32BE:r.writeInt32LE,s=0;s<t.length;s++)i.call(r,t[s],4*s,!0);return r}function r(o,r,i,s){e.isBuffer(o)||(o=new e(o));var l=r(t(o,s),o.length*a);return n(l,i,s)}var i=4,s=new e(i);s.fill(0);var a=8;o.hash=r}).call(this,e("buffer").Buffer)},{buffer:6}],136:[function(e,t,o){"use strict";function n(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var o=1732584193,n=-271733879,r=-1732584194,c=271733878,u=0;u<e.length;u+=16){var h=o,d=n,p=r,f=c;o=i(o,n,r,c,e[u+0],7,-680876936),c=i(c,o,n,r,e[u+1],12,-389564586),r=i(r,c,o,n,e[u+2],17,606105819),n=i(n,r,c,o,e[u+3],22,-1044525330),o=i(o,n,r,c,e[u+4],7,-176418897),c=i(c,o,n,r,e[u+5],12,1200080426),r=i(r,c,o,n,e[u+6],17,-1473231341),n=i(n,r,c,o,e[u+7],22,-45705983),o=i(o,n,r,c,e[u+8],7,1770035416),c=i(c,o,n,r,e[u+9],12,-1958414417),r=i(r,c,o,n,e[u+10],17,-42063),n=i(n,r,c,o,e[u+11],22,-1990404162),o=i(o,n,r,c,e[u+12],7,1804603682),c=i(c,o,n,r,e[u+13],12,-40341101),r=i(r,c,o,n,e[u+14],17,-1502002290),n=i(n,r,c,o,e[u+15],22,1236535329),o=s(o,n,r,c,e[u+1],5,-165796510),c=s(c,o,n,r,e[u+6],9,-1069501632),r=s(r,c,o,n,e[u+11],14,643717713),n=s(n,r,c,o,e[u+0],20,-373897302),o=s(o,n,r,c,e[u+5],5,-701558691),c=s(c,o,n,r,e[u+10],9,38016083),r=s(r,c,o,n,e[u+15],14,-660478335),n=s(n,r,c,o,e[u+4],20,-405537848),o=s(o,n,r,c,e[u+9],5,568446438),c=s(c,o,n,r,e[u+14],9,-1019803690),r=s(r,c,o,n,e[u+3],14,-187363961),n=s(n,r,c,o,e[u+8],20,1163531501),o=s(o,n,r,c,e[u+13],5,-1444681467),c=s(c,o,n,r,e[u+2],9,-51403784),r=s(r,c,o,n,e[u+7],14,1735328473),n=s(n,r,c,o,e[u+12],20,-1926607734),o=a(o,n,r,c,e[u+5],4,-378558),c=a(c,o,n,r,e[u+8],11,-2022574463),r=a(r,c,o,n,e[u+11],16,1839030562),n=a(n,r,c,o,e[u+14],23,-35309556),o=a(o,n,r,c,e[u+1],4,-1530992060),c=a(c,o,n,r,e[u+4],11,1272893353),r=a(r,c,o,n,e[u+7],16,-155497632),n=a(n,r,c,o,e[u+10],23,-1094730640),o=a(o,n,r,c,e[u+13],4,681279174),c=a(c,o,n,r,e[u+0],11,-358537222),r=a(r,c,o,n,e[u+3],16,-722521979),n=a(n,r,c,o,e[u+6],23,76029189),o=a(o,n,r,c,e[u+9],4,-640364487),c=a(c,o,n,r,e[u+12],11,-421815835),r=a(r,c,o,n,e[u+15],16,530742520),n=a(n,r,c,o,e[u+2],23,-995338651),o=l(o,n,r,c,e[u+0],6,-198630844),c=l(c,o,n,r,e[u+7],10,1126891415),r=l(r,c,o,n,e[u+14],15,-1416354905),n=l(n,r,c,o,e[u+5],21,-57434055),o=l(o,n,r,c,e[u+12],6,1700485571),c=l(c,o,n,r,e[u+3],10,-1894986606),r=l(r,c,o,n,e[u+10],15,-1051523),n=l(n,r,c,o,e[u+1],21,-2054922799),o=l(o,n,r,c,e[u+8],6,1873313359),c=l(c,o,n,r,e[u+15],10,-30611744),r=l(r,c,o,n,e[u+6],15,-1560198380),n=l(n,r,c,o,e[u+13],21,1309151649),o=l(o,n,r,c,e[u+4],6,-145523070),c=l(c,o,n,r,e[u+11],10,-1120210379),r=l(r,c,o,n,e[u+2],15,718787259),n=l(n,r,c,o,e[u+9],21,-343485551),o=g(o,h),n=g(n,d),r=g(r,p),c=g(c,f)}return Array(o,n,r,c)}function r(e,t,o,n,r,i){return g(c(g(g(t,e),g(n,i)),r),o)}function i(e,t,o,n,i,s,a){return r(t&o|~t&n,e,t,i,s,a)}function s(e,t,o,n,i,s,a){return r(t&n|o&~n,e,t,i,s,a)}function a(e,t,o,n,i,s,a){return r(t^o^n,e,t,i,s,a)}function l(e,t,o,n,i,s,a){return r(o^(t|~n),e,t,i,s,a)}function g(e,t){var o=(65535&e)+(65535&t),n=(e>>16)+(t>>16)+(o>>16);return n<<16|65535&o}function c(e,t){return e<<t|e>>>32-t}var u=e("./helpers");t.exports=function(e){return u.hash(e,n,16)}},{"./helpers":135}],137:[function(e,t,o){(function(o){function n(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this["final"]=this._finalOrDigest,this._decoder=null,this._encoding=null}var r=e("stream").Transform,i=e("inherits"),s=e("string_decoder").StringDecoder;t.exports=n,i(n,r),n.prototype.update=function(e,t,n){"string"==typeof e&&(e=new o(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(e,t,o){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(r){n=r}finally{o(n)}},n.prototype._flush=function(e){var t;try{this.push(this._final())}catch(o){t=o}finally{e(t)}},n.prototype._finalOrDigest=function(e){var t=this._final()||new o("");return e&&(t=this._toString(t,e,!0)),t},n.prototype._toString=function(e,t,o){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return o&&(n+=this._decoder.end()),n}}).call(this,e("buffer").Buffer)},{buffer:6,inherits:203,stream:220,string_decoder:221}],138:[function(e,t,o){(function(e){function o(e){for(var t=[],o=0,n=0;o<e.length;o++,n+=8)t[n>>>5]|=e[o]<<24-n%32;return t}function n(e){for(var t=[],o=0;o<32*e.length;o+=8)t.push(e[o>>>5]>>>24-o%32&255);return t}function r(e,t,o){for(var n=0;16>n;n++){var r=o+n,u=t[r];t[r]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}var m,b,v,E,T,S,k,C,B,I;S=m=e[0],k=b=e[1],C=v=e[2],B=E=e[3],I=T=e[4];var A;for(n=0;80>n;n+=1)A=m+t[o+h[n]]|0,A+=16>n?i(b,v,E)+y[0]:32>n?s(b,v,E)+y[1]:48>n?a(b,v,E)+y[2]:64>n?l(b,v,E)+y[3]:g(b,v,E)+y[4],A=0|A,A=c(A,p[n]),A=A+T|0,m=T,T=E,E=c(v,10),v=b,b=A,A=S+t[o+d[n]]|0,A+=16>n?g(k,C,B)+_[0]:32>n?l(k,C,B)+_[1]:48>n?a(k,C,B)+_[2]:64>n?s(k,C,B)+_[3]:i(k,C,B)+_[4],A=0|A,A=c(A,f[n]),A=A+I|0,S=I,I=B,B=c(C,10),C=k,k=A;A=e[1]+v+B|0,e[1]=e[2]+E+I|0,e[2]=e[3]+T+S|0,e[3]=e[4]+m+k|0,e[4]=e[0]+b+C|0,e[0]=A}function i(e,t,o){return e^t^o}function s(e,t,o){return e&t|~e&o}function a(e,t,o){return(e|~t)^o}function l(e,t,o){return e&o|t&~o}function g(e,t,o){return e^(t|~o)}function c(e,t){return e<<t|e>>>32-t}function u(t){var i=[1732584193,4023233417,2562383102,271733878,3285377520];"string"==typeof t&&(t=new e(t,"utf8"));var s=o(t),a=8*t.length,l=8*t.length;s[a>>>5]|=128<<24-a%32,s[(a+64>>>9<<4)+14]=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8);for(var g=0;g<s.length;g+=16)r(i,s,g);for(g=0;5>g;g++){var c=i[g];i[g]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var u=n(i);return new e(u)}var h=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],d=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],p=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],f=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],y=[0,1518500249,1859775393,2400959708,2840853838],_=[1352829926,1548603684,1836072691,2053994217,0];t.exports=u}).call(this,e("buffer").Buffer)},{buffer:6}],139:[function(e,t,o){(function(e){function o(t,o){this._block=new e(t),this._finalSize=o,this._blockSize=t,this._len=0,this._s=0}o.prototype.update=function(t,o){"string"==typeof t&&(o=o||"utf8",t=new e(t,o));for(var n=this._len+=t.length,r=this._s||0,i=0,s=this._block;n>r;){for(var a=Math.min(t.length,i+this._blockSize-r%this._blockSize),l=a-i,g=0;l>g;g++)s[r%this._blockSize+g]=t[g+i];r+=l,i+=l,r%this._blockSize===0&&this._update(s)}return this._s=r,this},o.prototype.digest=function(e){var t=8*this._len;this._block[this._len%this._blockSize]=128,this._block.fill(0,this._len%this._blockSize+1),t%(8*this._blockSize)>=8*this._finalSize&&(this._update(this._block),this._block.fill(0)),this._block.writeInt32BE(t,this._blockSize-4);var o=this._update(this._block)||this._hash();return e?o.toString(e):o},o.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=o}).call(this,e("buffer").Buffer)},{buffer:6}],140:[function(e,t,o){var o=t.exports=function(e){e=e.toLowerCase();var t=o[e];if(!t)throw new Error(e+" is not supported (we accept pull requests)");return new t};o.sha=e("./sha"),o.sha1=e("./sha1"),o.sha224=e("./sha224"),o.sha256=e("./sha256"),o.sha384=e("./sha384"),o.sha512=e("./sha512")},{"./sha":141,"./sha1":142,"./sha224":143,"./sha256":144,"./sha384":145,"./sha512":146}],141:[function(e,t,o){(function(o){function n(){this.init(),this._w=c,l.call(this,64,56)}function r(e){return e<<5|e>>>27}function i(e){return e<<30|e>>>2}function s(e,t,o,n){return 0===e?t&o|~t&n:2===e?t&o|t&n|o&n:t^o^n}var a=e("inherits"),l=e("./hash"),g=[1518500249,1859775393,-1894007588,-899497514],c=new Array(80);a(n,l),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(e){for(var t=this._w,o=0|this._a,n=0|this._b,a=0|this._c,l=0|this._d,c=0|this._e,u=0;16>u;++u)t[u]=e.readInt32BE(4*u);for(;80>u;++u)t[u]=t[u-3]^t[u-8]^t[u-14]^t[u-16];for(var h=0;80>h;++h){var d=~~(h/20),p=r(o)+s(d,n,a,l)+c+t[h]+g[d]|0;c=l,l=a,a=i(n),n=o,o=p}this._a=o+this._a|0,this._b=n+this._b|0,this._c=a+this._c|0,this._d=l+this._d|0,this._e=c+this._e|0},n.prototype._hash=function(){var e=new o(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":139,buffer:6,inherits:203}],142:[function(e,t,o){(function(o){function n(){this.init(),this._w=u,g.call(this,64,56)}function r(e){return e<<1|e>>>31}function i(e){return e<<5|e>>>27}function s(e){return e<<30|e>>>2}function a(e,t,o,n){return 0===e?t&o|~t&n:2===e?t&o|t&n|o&n:t^o^n}var l=e("inherits"),g=e("./hash"),c=[1518500249,1859775393,-1894007588,-899497514],u=new Array(80);l(n,g),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},n.prototype._update=function(e){for(var t=this._w,o=0|this._a,n=0|this._b,l=0|this._c,g=0|this._d,u=0|this._e,h=0;16>h;++h)t[h]=e.readInt32BE(4*h);for(;80>h;++h)t[h]=r(t[h-3]^t[h-8]^t[h-14]^t[h-16]);for(var d=0;80>d;++d){var p=~~(d/20),f=i(o)+a(p,n,l,g)+u+t[d]+c[p]|0;u=g,g=l,l=s(n),n=o,o=f}this._a=o+this._a|0,this._b=n+this._b|0,this._c=l+this._c|0,this._d=g+this._d|0,this._e=u+this._e|0},n.prototype._hash=function(){var e=new o(20);return e.writeInt32BE(0|this._a,0),e.writeInt32BE(0|this._b,4),e.writeInt32BE(0|this._c,8),e.writeInt32BE(0|this._d,12),e.writeInt32BE(0|this._e,16),e},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":139,buffer:6,inherits:203}],143:[function(e,t,o){(function(o){function n(){this.init(),this._w=a,s.call(this,64,56)}var r=e("inherits"),i=e("./sha256"),s=e("./hash"),a=new Array(64);r(n,i),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var e=new o(28);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":139,"./sha256":144,buffer:6,inherits:203}],144:[function(e,t,o){(function(o){function n(){this.init(),this._w=d,u.call(this,64,56)}function r(e,t,o){return o^e&(t^o)}function i(e,t,o){return e&t|o&(e|t)}function s(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function a(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function l(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function g(e){return(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10}var c=e("inherits"),u=e("./hash"),h=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],d=new Array(64);c(n,u),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},n.prototype._update=function(e){for(var t=this._w,o=0|this._a,n=0|this._b,c=0|this._c,u=0|this._d,d=0|this._e,p=0|this._f,f=0|this._g,y=0|this._h,_=0;16>_;++_)t[_]=e.readInt32BE(4*_);for(;64>_;++_)t[_]=g(t[_-2])+t[_-7]+l(t[_-15])+t[_-16]|0;for(var m=0;64>m;++m){var b=y+a(d)+r(d,p,f)+h[m]+t[m]|0,v=s(o)+i(o,n,c)|0;y=f,f=p,p=d,d=u+b|0,u=c,c=n,n=o,o=b+v|0}this._a=o+this._a|0,this._b=n+this._b|0,this._c=c+this._c|0,this._d=u+this._d|0,this._e=d+this._e|0,this._f=p+this._f|0,this._g=f+this._g|0,this._h=y+this._h|0},n.prototype._hash=function(){var e=new o(32);return e.writeInt32BE(this._a,0),e.writeInt32BE(this._b,4),e.writeInt32BE(this._c,8),e.writeInt32BE(this._d,12),e.writeInt32BE(this._e,16),e.writeInt32BE(this._f,20),e.writeInt32BE(this._g,24),e.writeInt32BE(this._h,28),e},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":139,buffer:6,inherits:203}],145:[function(e,t,o){(function(o){function n(){this.init(),this._w=a,s.call(this,128,112)}var r=e("inherits"),i=e("./sha512"),s=e("./hash"),a=new Array(160);r(n,i),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){function e(e,o,n){t.writeInt32BE(e,n),t.writeInt32BE(o,n+4)}var t=new o(48);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),t},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":139,"./sha512":146,buffer:6,inherits:203}],146:[function(e,t,o){(function(o){function n(){this.init(),this._w=y,p.call(this,128,112)}function r(e,t,o){return o^e&(t^o)}function i(e,t,o){return e&t|o&(e|t)}function s(e,t){return(e>>>28|t<<4)^(t>>>2|e<<30)^(t>>>7|e<<25)}function a(e,t){return(e>>>14|t<<18)^(e>>>18|t<<14)^(t>>>9|e<<23)}function l(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^e>>>7}function g(e,t){return(e>>>1|t<<31)^(e>>>8|t<<24)^(e>>>7|t<<25)}function c(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^e>>>6}function u(e,t){return(e>>>19|t<<13)^(t>>>29|e<<3)^(e>>>6|t<<26)}function h(e,t){return t>>>0>e>>>0?1:0}var d=e("inherits"),p=e("./hash"),f=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],y=new Array(160);d(n,p),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},n.prototype._update=function(e){for(var t=this._w,o=0|this._ah,n=0|this._bh,d=0|this._ch,p=0|this._dh,y=0|this._eh,_=0|this._fh,m=0|this._gh,b=0|this._hh,v=0|this._al,E=0|this._bl,T=0|this._cl,S=0|this._dl,k=0|this._el,C=0|this._fl,B=0|this._gl,I=0|this._hl,A=0;32>A;A+=2)t[A]=e.readInt32BE(4*A),t[A+1]=e.readInt32BE(4*A+4);for(;160>A;A+=2){var w=t[A-30],R=t[A-30+1],O=l(w,R),N=g(R,w);w=t[A-4],R=t[A-4+1];var M=c(w,R),L=u(R,w),D=t[A-14],x=t[A-14+1],P=t[A-32],U=t[A-32+1],H=N+x|0,F=O+D+h(H,N)|0;H=H+L|0,F=F+M+h(H,L)|0,H=H+U|0,F=F+P+h(H,U)|0,t[A]=F,t[A+1]=H}for(var G=0;160>G;G+=2){F=t[G],H=t[G+1];var V=i(o,n,d),W=i(v,E,T),K=s(o,v),j=s(v,o),X=a(y,k),Y=a(k,y),q=f[G],z=f[G+1],J=r(y,_,m),Q=r(k,C,B),Z=I+Y|0,$=b+X+h(Z,I)|0;Z=Z+Q|0,$=$+J+h(Z,Q)|0,Z=Z+z|0,$=$+q+h(Z,z)|0,Z=Z+H|0,$=$+F+h(Z,H)|0;var ee=j+W|0,te=K+V+h(ee,j)|0;b=m,I=B,m=_,B=C,_=y,C=k,k=S+Z|0,y=p+$+h(k,S)|0,p=d,S=T,d=n,T=E,n=o,E=v,v=Z+ee|0,o=$+te+h(v,Z)|0}this._al=this._al+v|0,this._bl=this._bl+E|0,this._cl=this._cl+T|0,this._dl=this._dl+S|0,this._el=this._el+k|0,this._fl=this._fl+C|0,this._gl=this._gl+B|0,this._hl=this._hl+I|0,this._ah=this._ah+o+h(this._al,v)|0,this._bh=this._bh+n+h(this._bl,E)|0,this._ch=this._ch+d+h(this._cl,T)|0,this._dh=this._dh+p+h(this._dl,S)|0,this._eh=this._eh+y+h(this._el,k)|0,this._fh=this._fh+_+h(this._fl,C)|0,this._gh=this._gh+m+h(this._gl,B)|0,this._hh=this._hh+b+h(this._hl,I)|0},n.prototype._hash=function(){function e(e,o,n){t.writeInt32BE(e,n),t.writeInt32BE(o,n+4)}var t=new o(64);return e(this._ah,this._al,0),e(this._bh,this._bl,8),e(this._ch,this._cl,16),e(this._dh,this._dl,24),e(this._eh,this._el,32),e(this._fh,this._fl,40),e(this._gh,this._gl,48),e(this._hh,this._hl,56),t},t.exports=n}).call(this,e("buffer").Buffer)},{"./hash":139,buffer:6,inherits:203}],147:[function(e,t,o){(function(o){"use strict";function n(e,t){s.call(this),e=e.toLowerCase(),"string"==typeof t&&(t=new o(t));var n="sha512"===e||"sha384"===e?128:64;this._alg=e,this._key=t,t.length>n?t=r(e).update(t).digest():t.length<n&&(t=o.concat([t,a],n));for(var i=this._ipad=new o(n),l=this._opad=new o(n),g=0;n>g;g++)i[g]=54^t[g],l[g]=92^t[g];this._hash=r(e).update(i)}var r=e("create-hash/browser"),i=e("inherits"),s=e("stream").Transform,a=new o(128);a.fill(0),i(n,s),n.prototype.update=function(e,t){return this._hash.update(e,t),this},n.prototype._transform=function(e,t,o){this._hash.update(e),o()},n.prototype._flush=function(e){this.push(this.digest()),e()},n.prototype.digest=function(e){var t=this._hash.digest();return r(this._alg).update(this._opad).update(t).digest(e)},t.exports=function(e,t){return new n(e,t)}}).call(this,e("buffer").Buffer)},{buffer:6,"create-hash/browser":134,inherits:203,stream:220}],148:[function(e,t,o){(function(t){function n(e){var o=new t(s[e].prime,"hex"),n=new t(s[e].gen,"hex");return new a(o,n)}function r(e,o,n,s){return t.isBuffer(o)||void 0===l[o]?r(e,"binary",o,n):(o=o||"binary",s=s||"binary",n=n||new t([2]),t.isBuffer(n)||(n=new t(n,s)),"number"==typeof e?new a(i(e,n),n,!0):(t.isBuffer(e)||(e=new t(e,o)),new a(e,n,!0)))}var i=e("./lib/generatePrime"),s=e("./lib/primes.json"),a=e("./lib/dh"),l={binary:!0,hex:!0,base64:!0};o.DiffieHellmanGroup=o.createDiffieHellmanGroup=o.getDiffieHellman=n,o.createDiffieHellman=o.DiffieHellman=r}).call(this,e("buffer").Buffer)},{"./lib/dh":149,"./lib/generatePrime":150,"./lib/primes.json":151,buffer:6}],149:[function(e,t,o){(function(o){function n(e,t){return t=t||"utf8",o.isBuffer(e)||(e=new o(e,t)),this._pub=new l(e),this}function r(e,t){return t=t||"utf8",o.isBuffer(e)||(e=new o(e,t)),this._priv=new l(e),this}function i(e,t){var o=t.toString("hex"),n=[o,e.toString(16)].join("_");if(n in m)return m[n];var r=0;if(e.isEven()||!y.simpleSieve||!y.fermatTest(e)||!c.test(e))return r+=1,r+="02"===o||"05"===o?8:4,m[n]=r,r;c.test(e.shrn(1))||(r+=2);var i;switch(o){case"02":
e.mod(u).cmp(h)&&(r+=8);break;case"05":i=e.mod(d),i.cmp(p)&&i.cmp(f)&&(r+=8);break;default:r+=4}return m[n]=r,r}function s(e,t,o){this.setGenerator(t),this.__prime=new l(e),this._prime=l.mont(this.__prime),this._primeLen=e.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,o?(this.setPublicKey=n,this.setPrivateKey=r):this._primeCode=8}function a(e,t){var n=new o(e.toArray());return t?n.toString(t):n}var l=e("bn.js"),g=e("miller-rabin"),c=new g,u=new l(24),h=new l(11),d=new l(10),p=new l(3),f=new l(7),y=e("./generatePrime"),_=e("randombytes");t.exports=s;var m={};Object.defineProperty(s.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!=typeof this._primeCode&&(this._primeCode=i(this.__prime,this.__gen)),this._primeCode}}),s.prototype.generateKeys=function(){return this._priv||(this._priv=new l(_(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},s.prototype.computeSecret=function(e){e=new l(e),e=e.toRed(this._prime);var t=e.redPow(this._priv).fromRed(),n=new o(t.toArray()),r=this.getPrime();if(n.length<r.length){var i=new o(r.length-n.length);i.fill(0),n=o.concat([i,n])}return n},s.prototype.getPublicKey=function(e){return a(this._pub,e)},s.prototype.getPrivateKey=function(e){return a(this._priv,e)},s.prototype.getPrime=function(e){return a(this.__prime,e)},s.prototype.getGenerator=function(e){return a(this._gen,e)},s.prototype.setGenerator=function(e,t){return t=t||"utf8",o.isBuffer(e)||(e=new o(e,t)),this.__gen=e,this._gen=new l(e),this}}).call(this,e("buffer").Buffer)},{"./generatePrime":150,"bn.js":152,buffer:6,"miller-rabin":153,randombytes:201}],150:[function(e,t,o){function n(){if(null!==b)return b;var e=1048576,t=[];t[0]=2;for(var o=1,n=3;e>n;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;o>i&&t[i]<=r&&n%t[i]!==0;i++);o!==i&&t[i]<=r||(t[o++]=n)}return b=t,t}function r(e){for(var t=n(),o=0;o<t.length;o++)if(0===e.modn(t[o]))return 0===e.cmpn(t[o]);return!0}function i(e){var t=l.mont(e);return 0===d.toRed(t).redPow(e.subn(1)).fromRed().cmpn(1)}function s(e,t){if(16>e)return new l(2===t||5===t?[140,123]:[140,39]);t=new l(t);for(var o,n;;){for(o=new l(a(Math.ceil(e/8)));o.bitLength()>e;)o.ishrn(1);if(o.isEven()&&o.iadd(h),o.testn(1)||o.iadd(d),t.cmp(d)){if(!t.cmp(p))for(;o.mod(f).cmp(y);)o.iadd(m)}else for(;o.mod(g).cmp(_);)o.iadd(m);if(n=o.shrn(1),r(n)&&r(o)&&i(n)&&i(o)&&u.test(n)&&u.test(o))return o}}var a=e("randombytes");t.exports=s,s.simpleSieve=r,s.fermatTest=i;var l=e("bn.js"),g=new l(24),c=e("miller-rabin"),u=new c,h=new l(1),d=new l(2),p=new l(5),f=(new l(16),new l(8),new l(10)),y=new l(3),_=(new l(7),new l(11)),m=new l(4),b=(new l(12),null)},{"bn.js":152,"miller-rabin":153,randombytes:201}],151:[function(e,t,o){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},{}],152:[function(e,t,o){arguments[4][43][0].apply(o,arguments)},{dup:43}],153:[function(e,t,o){function n(e){this.rand=e||new i.Rand}var r=e("bn.js"),i=e("brorand");t.exports=n,n.create=function(e){return new n(e)},n.prototype._rand=function(e){var t=e.bitLength(),o=this.rand.generate(Math.ceil(t/8));o[0]|=3;var n=7&t;return 0!==n&&(o[o.length-1]>>=7-n),new r(o)},n.prototype.test=function(e,t,o){var n=e.bitLength(),i=r.mont(e),s=new r(1).toRed(i);t||(t=Math.max(1,n/48|0));for(var a=e.subn(1),l=a.subn(1),g=0;!a.testn(g);g++);for(var c=e.shrn(g),u=a.toRed(i),h=!0;t>0;t--){var d=this._rand(l);o&&o(d);var p=d.toRed(i).redPow(c);if(0!==p.cmp(s)&&0!==p.cmp(u)){for(var f=1;g>f;f++){if(p=p.redSqr(),0===p.cmp(s))return!1;if(0===p.cmp(u))break}if(f===g)return!1}}return h},n.prototype.getDivisor=function(e,t){var o=e.bitLength(),n=r.mont(e),i=new r(1).toRed(n);t||(t=Math.max(1,o/48|0));for(var s=e.subn(1),a=s.subn(1),l=0;!s.testn(l);l++);for(var g=e.shrn(l),c=s.toRed(n);t>0;t--){var u=this._rand(a),h=e.gcd(u);if(0!==h.cmpn(1))return h;var d=u.toRed(n).redPow(g);if(0!==d.cmp(i)&&0!==d.cmp(c)){for(var p=1;l>p;p++){if(d=d.redSqr(),0===d.cmp(i))return d.fromRed().subn(1).gcd(e);if(0===d.cmp(c))break}if(p===l)return d=d.redSqr(),d.fromRed().subn(1).gcd(e)}}return!1}},{"bn.js":152,brorand:154}],154:[function(e,t,o){arguments[4][61][0].apply(o,arguments)},{dup:61}],155:[function(e,t,o){(function(t){function n(e,t,o,n,i,s){if("function"==typeof i&&(s=i,i=void 0),"function"!=typeof s)throw new Error("No callback provided to pbkdf2");var a=r(e,t,o,n,i);setTimeout(function(){s(void 0,a)})}function r(e,o,n,r,a){if("number"!=typeof n)throw new TypeError("Iterations not a number");if(0>n)throw new TypeError("Bad iterations");if("number"!=typeof r)throw new TypeError("Key length not a number");if(0>r||r>s)throw new TypeError("Bad key length");a=a||"sha1",t.isBuffer(e)||(e=new t(e,"binary")),t.isBuffer(o)||(o=new t(o,"binary"));var l,g=1,c=new t(r),u=new t(o.length+4);o.copy(u,0,0,o.length);for(var h,d,p=1;g>=p;p++){u.writeUInt32BE(p,o.length);var f=i(a,e).update(u).digest();l||(l=f.length,d=new t(l),g=Math.ceil(r/l),h=r-(g-1)*l),f.copy(d,0,0,l);for(var y=1;n>y;y++){f=i(a,e).update(f).digest();for(var _=0;l>_;_++)d[_]^=f[_]}var m=(p-1)*l,b=p===g?h:l;d.copy(c,m,0,b)}return c}var i=e("create-hmac"),s=Math.pow(2,30)-1;o.pbkdf2=n,o.pbkdf2Sync=r}).call(this,e("buffer").Buffer)},{buffer:6,"create-hmac":147}],156:[function(e,t,o){o.publicEncrypt=e("./publicEncrypt"),o.privateDecrypt=e("./privateDecrypt"),o.privateEncrypt=function(e,t){return o.publicEncrypt(e,t,!0)},o.publicDecrypt=function(e,t){return o.privateDecrypt(e,t,!0)}},{"./privateDecrypt":197,"./publicEncrypt":198}],157:[function(e,t,o){(function(o){function n(e){var t=new o(4);return t.writeUInt32BE(e,0),t}var r=e("create-hash");t.exports=function(e,t){for(var i,s=new o(""),a=0;s.length<t;)i=n(a++),s=o.concat([s,r("sha1").update(e).update(i).digest()]);return s.slice(0,t)}}).call(this,e("buffer").Buffer)},{buffer:6,"create-hash":134}],158:[function(e,t,o){arguments[4][43][0].apply(o,arguments)},{dup:43}],159:[function(e,t,o){(function(o){function n(e){var t=i(e),o=t.toRed(s.mont(e.modulus)).redPow(new s(e.publicExponent)).fromRed();return{blinder:o,unblinder:t.invm(e.modulus)}}function r(e,t){var r=n(t),i=t.modulus.byteLength(),a=(s.mont(t.modulus),new s(e).mul(r.blinder).umod(t.modulus)),l=a.toRed(s.mont(t.prime1)),g=a.toRed(s.mont(t.prime2)),c=t.coefficient,u=t.prime1,h=t.prime2,d=l.redPow(t.exponent1),p=g.redPow(t.exponent2);d=d.fromRed(),p=p.fromRed();var f=d.isub(p).imul(c).umod(u);return f.imul(h),p.iadd(f),new o(p.imul(r.unblinder).umod(t.modulus).toArray(!1,i))}function i(e){for(var t=e.modulus.byteLength(),o=new s(a(t));o.cmp(e.modulus)>=0||!o.umod(e.prime1)||!o.umod(e.prime2);)o=new s(a(t));return o}var s=e("bn.js"),a=e("randombytes");t.exports=r,r.getr=i}).call(this,e("buffer").Buffer)},{"bn.js":158,buffer:6,randombytes:201}],160:[function(e,t,o){arguments[4][69][0].apply(o,arguments)},{dup:69}],161:[function(e,t,o){arguments[4][70][0].apply(o,arguments)},{"asn1.js":164,dup:70}],162:[function(e,t,o){(function(o){var n=/Proc-Type: 4,ENCRYPTED\r?\nDEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)\r?\n\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n/m,r=/^-----BEGIN (.*) KEY-----\r?\n/m,i=/^-----BEGIN (.*) KEY-----\r?\n([0-9A-z\n\r\+\/\=]+)\r?\n-----END \1 KEY-----$/m,s=e("evp_bytestokey"),a=e("browserify-aes");t.exports=function(e,t){var l,g=e.toString(),c=g.match(n);if(c){var u="aes"+c[1],h=new o(c[2],"hex"),d=new o(c[3].replace(/\r?\n/g,""),"base64"),p=s(t,h.slice(0,8),parseInt(c[1],10)).key,f=[],y=a.createDecipheriv(u,p,h);f.push(y.update(d)),f.push(y["final"]()),l=o.concat(f)}else{var _=g.match(i);l=new o(_[2].replace(/\r?\n/g,""),"base64")}var m=g.match(r)[1]+" KEY";return{tag:m,data:l}}}).call(this,e("buffer").Buffer)},{"browserify-aes":181,buffer:6,evp_bytestokey:196}],163:[function(e,t,o){(function(o){function n(e){var t;"object"!=typeof e||o.isBuffer(e)||(t=e.passphrase,e=e.key),"string"==typeof e&&(e=new o(e));var n,s,l=a(e,t),g=l.tag,c=l.data;switch(g){case"PUBLIC KEY":switch(s=i.PublicKey.decode(c,"der"),n=s.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(s.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return s.subjectPrivateKey=s.subjectPublicKey,{type:"ec",data:s};case"1.2.840.10040.4.1":return s.algorithm.params.pub_key=i.DSAparam.decode(s.subjectPublicKey.data,"der"),{type:"dsa",data:s.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+g);case"ENCRYPTED PRIVATE KEY":c=i.EncryptedPrivateKey.decode(c,"der"),c=r(c,t);case"PRIVATE KEY":switch(s=i.PrivateKey.decode(c,"der"),n=s.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(s.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:s.algorithm.curve,privateKey:i.ECPrivateKey.decode(s.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return s.algorithm.params.priv_key=i.DSAparam.decode(s.subjectPrivateKey,"der"),{type:"dsa",params:s.algorithm.params};default:throw new Error("unknown key id "+n)}throw new Error("unknown key type "+g);case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(c,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(c,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(c,"der")};case"EC PRIVATE KEY":return c=i.ECPrivateKey.decode(c,"der"),{curve:c.parameters.value,privateKey:c.privateKey};default:throw new Error("unknown key type "+g)}}function r(e,t){var n=e.algorithm.decrypt.kde.kdeparams.salt,r=parseInt(e.algorithm.decrypt.kde.kdeparams.iters.toString(),10),i=s[e.algorithm.decrypt.cipher.algo.join(".")],a=e.algorithm.decrypt.cipher.iv,c=e.subjectPrivateKey,u=parseInt(i.split("-")[1],10)/8,h=g.pbkdf2Sync(t,n,r,u),d=l.createDecipheriv(i,h,a),p=[];return p.push(d.update(c)),p.push(d["final"]()),o.concat(p)}var i=e("./asn1"),s=e("./aesid.json"),a=e("./fixProc"),l=e("browserify-aes"),g=e("pbkdf2");t.exports=n,n.signature=i.signature}).call(this,e("buffer").Buffer)},{"./aesid.json":160,"./asn1":161,"./fixProc":162,"browserify-aes":181,buffer:6,pbkdf2:155}],164:[function(e,t,o){arguments[4][73][0].apply(o,arguments)},{"./asn1/api":165,"./asn1/base":167,"./asn1/constants":171,"./asn1/decoders":173,"./asn1/encoders":176,"bn.js":158,dup:73}],165:[function(e,t,o){arguments[4][74][0].apply(o,arguments)},{"../asn1":164,dup:74,inherits:203,vm:222}],166:[function(e,t,o){arguments[4][75][0].apply(o,arguments)},{"../base":167,buffer:6,dup:75,inherits:203}],167:[function(e,t,o){arguments[4][76][0].apply(o,arguments)},{"./buffer":166,"./node":168,"./reporter":169,dup:76}],168:[function(e,t,o){arguments[4][77][0].apply(o,arguments)},{"../base":167,dup:77,"minimalistic-assert":178}],169:[function(e,t,o){arguments[4][78][0].apply(o,arguments)},{dup:78,inherits:203}],170:[function(e,t,o){arguments[4][79][0].apply(o,arguments)},{"../constants":171,dup:79}],171:[function(e,t,o){arguments[4][80][0].apply(o,arguments)},{"./der":170,dup:80}],172:[function(e,t,o){arguments[4][81][0].apply(o,arguments)},{"../../asn1":164,dup:81,inherits:203}],173:[function(e,t,o){arguments[4][82][0].apply(o,arguments)},{"./der":172,"./pem":174,dup:82}],174:[function(e,t,o){arguments[4][83][0].apply(o,arguments)},{"../../asn1":164,"./der":172,buffer:6,dup:83,inherits:203}],175:[function(e,t,o){arguments[4][84][0].apply(o,arguments)},{"../../asn1":164,buffer:6,dup:84,inherits:203}],176:[function(e,t,o){arguments[4][85][0].apply(o,arguments)},{"./der":175,"./pem":177,dup:85}],177:[function(e,t,o){arguments[4][86][0].apply(o,arguments)},{"../../asn1":164,"./der":175,buffer:6,dup:86,inherits:203}],178:[function(e,t,o){arguments[4][38][0].apply(o,arguments)},{dup:38}],179:[function(e,t,o){(function(e){function t(e){var t,o;return t=e>a||0>e?(o=Math.abs(e)%a,0>e?a-o:o):e}function n(e){for(var t=0;t<e.length;e++)e[t]=0;return!1}function r(){this.SBOX=[],this.INV_SBOX=[],this.SUB_MIX=[[],[],[],[]],this.INV_SUB_MIX=[[],[],[],[]],this.init(),this.RCON=[0,1,2,4,8,16,32,64,128,27,54]}function i(e){for(var t=e.length/4,o=new Array(t),n=-1;++n<t;)o[n]=e.readUInt32BE(4*n);return o}function s(e){this._key=i(e),this._doReset()}var a=Math.pow(2,32);r.prototype.init=function(){var e,t,o,n,r,i,s,a,l,g;for(e=function(){var e,o;for(o=[],t=e=0;256>e;t=++e)128>t?o.push(t<<1):o.push(t<<1^283);return o}(),r=0,l=0,t=g=0;256>g;t=++g)o=l^l<<1^l<<2^l<<3^l<<4,o=o>>>8^255&o^99,this.SBOX[r]=o,this.INV_SBOX[o]=r,i=e[r],s=e[i],a=e[s],n=257*e[o]^16843008*o,this.SUB_MIX[0][r]=n<<24|n>>>8,this.SUB_MIX[1][r]=n<<16|n>>>16,this.SUB_MIX[2][r]=n<<8|n>>>24,this.SUB_MIX[3][r]=n,n=16843009*a^65537*s^257*i^16843008*r,this.INV_SUB_MIX[0][o]=n<<24|n>>>8,this.INV_SUB_MIX[1][o]=n<<16|n>>>16,this.INV_SUB_MIX[2][o]=n<<8|n>>>24,this.INV_SUB_MIX[3][o]=n,0===r?r=l=1:(r=i^e[e[e[a^i]]],l^=e[e[l]]);return!0};var l=new r;s.blockSize=16,s.prototype.blockSize=s.blockSize,s.keySize=32,s.prototype.keySize=s.keySize,s.prototype._doReset=function(){var e,t,o,n,r,i;for(o=this._key,t=o.length,this._nRounds=t+6,r=4*(this._nRounds+1),this._keySchedule=[],n=0;r>n;n++)this._keySchedule[n]=t>n?o[n]:(i=this._keySchedule[n-1],n%t===0?(i=i<<8|i>>>24,i=l.SBOX[i>>>24]<<24|l.SBOX[i>>>16&255]<<16|l.SBOX[i>>>8&255]<<8|l.SBOX[255&i],i^=l.RCON[n/t|0]<<24):t>6&&n%t===4?i=l.SBOX[i>>>24]<<24|l.SBOX[i>>>16&255]<<16|l.SBOX[i>>>8&255]<<8|l.SBOX[255&i]:void 0,this._keySchedule[n-t]^i);for(this._invKeySchedule=[],e=0;r>e;e++)n=r-e,i=this._keySchedule[n-(e%4?0:4)],this._invKeySchedule[e]=4>e||4>=n?i:l.INV_SUB_MIX[0][l.SBOX[i>>>24]]^l.INV_SUB_MIX[1][l.SBOX[i>>>16&255]]^l.INV_SUB_MIX[2][l.SBOX[i>>>8&255]]^l.INV_SUB_MIX[3][l.SBOX[255&i]];return!0},s.prototype.encryptBlock=function(t){t=i(new e(t));var o=this._doCryptBlock(t,this._keySchedule,l.SUB_MIX,l.SBOX),n=new e(16);return n.writeUInt32BE(o[0],0),n.writeUInt32BE(o[1],4),n.writeUInt32BE(o[2],8),n.writeUInt32BE(o[3],12),n},s.prototype.decryptBlock=function(t){t=i(new e(t));var o=[t[3],t[1]];t[1]=o[0],t[3]=o[1];var n=this._doCryptBlock(t,this._invKeySchedule,l.INV_SUB_MIX,l.INV_SBOX),r=new e(16);return r.writeUInt32BE(n[0],0),r.writeUInt32BE(n[3],4),r.writeUInt32BE(n[2],8),r.writeUInt32BE(n[1],12),r},s.prototype.scrub=function(){n(this._keySchedule),n(this._invKeySchedule),n(this._key)},s.prototype._doCryptBlock=function(e,o,n,r){var i,s,a,l,g,c,u,h,d;s=e[0]^o[0],a=e[1]^o[1],l=e[2]^o[2],g=e[3]^o[3],i=4;for(var p=1;p<this._nRounds;p++)c=n[0][s>>>24]^n[1][a>>>16&255]^n[2][l>>>8&255]^n[3][255&g]^o[i++],u=n[0][a>>>24]^n[1][l>>>16&255]^n[2][g>>>8&255]^n[3][255&s]^o[i++],h=n[0][l>>>24]^n[1][g>>>16&255]^n[2][s>>>8&255]^n[3][255&a]^o[i++],d=n[0][g>>>24]^n[1][s>>>16&255]^n[2][a>>>8&255]^n[3][255&l]^o[i++],s=c,a=u,l=h,g=d;return c=(r[s>>>24]<<24|r[a>>>16&255]<<16|r[l>>>8&255]<<8|r[255&g])^o[i++],u=(r[a>>>24]<<24|r[l>>>16&255]<<16|r[g>>>8&255]<<8|r[255&s])^o[i++],h=(r[l>>>24]<<24|r[g>>>16&255]<<16|r[s>>>8&255]<<8|r[255&a])^o[i++],d=(r[g>>>24]<<24|r[s>>>16&255]<<16|r[a>>>8&255]<<8|r[255&l])^o[i++],[t(c),t(u),t(h),t(d)]},o.AES=s}).call(this,e("buffer").Buffer)},{buffer:6}],180:[function(e,t,o){(function(o){function n(e,t,r,a){if(!(this instanceof n))return new n(e,t,r);s.call(this),this._finID=o.concat([r,new o([0,0,0,1])]),r=o.concat([r,new o([0,0,0,2])]),this._cipher=new i.AES(t),this._prev=new o(r.length),this._cache=new o(""),this._secCache=new o(""),this._decrypt=a,this._alen=0,this._len=0,r.copy(this._prev),this._mode=e;var g=new o(4);g.fill(0),this._ghash=new l(this._cipher.encryptBlock(g)),this._authTag=null,this._called=!1}function r(e,t){var o=0;e.length!==t.length&&o++;for(var n=Math.min(e.length,t.length),r=-1;++r<n;)o+=e[r]^t[r];return o}var i=e("./aes"),s=e("cipher-base"),a=e("inherits"),l=e("./ghash"),g=e("buffer-xor");a(n,s),t.exports=n,n.prototype._update=function(e){if(!this._called&&this._alen){var t=16-this._alen%16;16>t&&(t=new o(t),t.fill(0),this._ghash.update(t))}this._called=!0;var n=this._mode.encrypt(this,e);return this._decrypt?this._ghash.update(e):this._ghash.update(n),this._len+=e.length,n},n.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var e=g(this._ghash["final"](8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt){if(r(e,this._authTag))throw new Error("Unsupported state or unable to authenticate data")}else this._authTag=e;this._cipher.scrub()},n.prototype.getAuthTag=function(){if(!this._decrypt&&o.isBuffer(this._authTag))return this._authTag;throw new Error("Attempting to get auth tag in unsupported state")},n.prototype.setAuthTag=function(e){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=e},n.prototype.setAAD=function(e){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(e),this._alen+=e.length}}).call(this,e("buffer").Buffer)},{"./aes":179,"./ghash":184,buffer:6,"buffer-xor":193,"cipher-base":194,inherits:203}],181:[function(e,t,o){arguments[4][14][0].apply(o,arguments)},{"./decrypter":182,"./encrypter":183,"./modes":185,dup:14}],182:[function(e,t,o){(function(t){function n(e,o,i){return this instanceof n?(g.call(this),this._cache=new r,this._last=void 0,this._cipher=new l.AES(o),this._prev=new t(i.length),i.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new n(e,o,i)}function r(){return this instanceof r?void(this.cache=new t("")):new r}function i(e){for(var t=e[15],o=-1;++o<t;)if(e[o+(16-t)]!==t)throw new Error("unable to decrypt data");return 16!==t?e.slice(0,16-t):void 0}function s(e,o,r){var i=u[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=new t(r)),"string"==typeof o&&(o=new t(o)),o.length!==i.key/8)throw new TypeError("invalid key length "+o.length);if(r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===i.type?new h(f[i.mode],o,r,!0):"auth"===i.type?new d(f[i.mode],o,r,!0):new n(f[i.mode],o,r)}function a(e,t){var o=u[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var n=p(t,!1,o.key,o.iv);return s(e,n.key,n.iv)}var l=e("./aes"),g=e("cipher-base"),c=e("inherits"),u=e("./modes"),h=e("./streamCipher"),d=e("./authCipher"),p=e("evp_bytestokey");c(n,g),n.prototype._update=function(e){this._cache.add(e);for(var o,n,r=[];o=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,o),r.push(n);return t.concat(r)},n.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return i(this._mode.decrypt(this,e));if(e)throw new Error("data not multiple of block length")},n.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},r.prototype.add=function(e){this.cache=t.concat([this.cache,e])},r.prototype.get=function(e){var t;if(e){if(this.cache.length>16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t}else if(this.cache.length>=16)return t=this.cache.slice(0,16),this.cache=this.cache.slice(16),t;return null},r.prototype.flush=function(){return this.cache.length?this.cache:void 0};var f={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};o.createDecipher=a,o.createDecipheriv=s}).call(this,e("buffer").Buffer)},{"./aes":179,"./authCipher":180,"./modes":185,"./modes/cbc":186,"./modes/cfb":187,"./modes/cfb1":188,"./modes/cfb8":189,"./modes/ctr":190,"./modes/ecb":191,"./modes/ofb":192,"./streamCipher":195,buffer:6,"cipher-base":194,evp_bytestokey:196,inherits:203}],183:[function(e,t,o){(function(t){function n(e,o,i){return this instanceof n?(l.call(this),this._cache=new r,this._cipher=new a.AES(o),this._prev=new t(i.length),i.copy(this._prev),this._mode=e,void(this._autopadding=!0)):new n(e,o,i)}function r(){return this instanceof r?void(this.cache=new t("")):new r}function i(e,o,r){var i=c[e.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"==typeof r&&(r=new t(r)),"string"==typeof o&&(o=new t(o)),o.length!==i.key/8)throw new TypeError("invalid key length "+o.length);if(r.length!==i.iv)throw new TypeError("invalid iv length "+r.length);return"stream"===i.type?new h(p[i.mode],o,r):"auth"===i.type?new d(p[i.mode],o,r):new n(p[i.mode],o,r)}function s(e,t){var o=c[e.toLowerCase()];if(!o)throw new TypeError("invalid suite type");var n=u(t,!1,o.key,o.iv);return i(e,n.key,n.iv)}var a=e("./aes"),l=e("cipher-base"),g=e("inherits"),c=e("./modes"),u=e("evp_bytestokey"),h=e("./streamCipher"),d=e("./authCipher");g(n,l),n.prototype._update=function(e){this._cache.add(e);for(var o,n,r=[];o=this._cache.get();)n=this._mode.encrypt(this,o),r.push(n);return t.concat(r)},n.prototype._final=function(){var e=this._cache.flush();if(this._autopadding)return e=this._mode.encrypt(this,e),this._cipher.scrub(),e;if("10101010101010101010101010101010"!==e.toString("hex"))throw this._cipher.scrub(),new Error("data not multiple of block length")},n.prototype.setAutoPadding=function(e){return this._autopadding=!!e,this},r.prototype.add=function(e){this.cache=t.concat([this.cache,e])},r.prototype.get=function(){if(this.cache.length>15){var e=this.cache.slice(0,16);return this.cache=this.cache.slice(16),e}return null},r.prototype.flush=function(){for(var e=16-this.cache.length,o=new t(e),n=-1;++n<e;)o.writeUInt8(e,n);var r=t.concat([this.cache,o]);return r};var p={ECB:e("./modes/ecb"),CBC:e("./modes/cbc"),CFB:e("./modes/cfb"),CFB8:e("./modes/cfb8"),CFB1:e("./modes/cfb1"),OFB:e("./modes/ofb"),CTR:e("./modes/ctr"),GCM:e("./modes/ctr")};o.createCipheriv=i,o.createCipher=s}).call(this,e("buffer").Buffer)},{"./aes":179,"./authCipher":180,"./modes":185,"./modes/cbc":186,"./modes/cfb":187,"./modes/cfb1":188,"./modes/cfb8":189,"./modes/ctr":190,"./modes/ecb":191,"./modes/ofb":192,"./streamCipher":195,buffer:6,"cipher-base":194,evp_bytestokey:196,inherits:203}],184:[function(e,t,o){(function(e){function o(t){this.h=t,this.state=new e(16),this.state.fill(0),this.cache=new e("")}function n(e){return[e.readUInt32BE(0),e.readUInt32BE(4),e.readUInt32BE(8),e.readUInt32BE(12)]}function r(t){t=t.map(i);var o=new e(16);return o.writeUInt32BE(t[0],0),o.writeUInt32BE(t[1],4),o.writeUInt32BE(t[2],8),o.writeUInt32BE(t[3],12),o}function i(e){var t,o;return t=e>l||0>e?(o=Math.abs(e)%l,0>e?l-o:o):e}function s(e,t){return[e[0]^t[0],e[1]^t[1],e[2]^t[2],e[3]^t[3]]}var a=new e(16);a.fill(0),t.exports=o,o.prototype.ghash=function(e){for(var t=-1;++t<e.length;)this.state[t]^=e[t];this._multiply()},o.prototype._multiply=function(){for(var e,t,o,i=n(this.h),a=[0,0,0,0],l=-1;++l<128;){for(t=0!==(this.state[~~(l/8)]&1<<7-l%8),t&&(a=s(a,i)),o=0!==(1&i[3]),e=3;e>0;e--)i[e]=i[e]>>>1|(1&i[e-1])<<31;i[0]=i[0]>>>1,o&&(i[0]=i[0]^225<<24)}this.state=r(a)},o.prototype.update=function(t){this.cache=e.concat([this.cache,t]);for(var o;this.cache.length>=16;)o=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(o)},o.prototype["final"]=function(t,o){return this.cache.length&&this.ghash(e.concat([this.cache,a],16)),this.ghash(r([0,t,0,o])),this.state};var l=Math.pow(2,32)}).call(this,e("buffer").Buffer)},{buffer:6}],185:[function(e,t,o){arguments[4][18][0].apply(o,arguments)},{dup:18}],186:[function(e,t,o){arguments[4][19][0].apply(o,arguments)},{"buffer-xor":193,dup:19}],187:[function(e,t,o){(function(t){function n(e,o,n){var i=o.length,s=r(o,e._cache);return e._cache=e._cache.slice(i),e._prev=t.concat([e._prev,n?o:s]),s}var r=e("buffer-xor");o.encrypt=function(e,o,r){for(var i,s=new t("");o.length;){if(0===e._cache.length&&(e._cache=e._cipher.encryptBlock(e._prev),e._prev=new t("")),!(e._cache.length<=o.length)){s=t.concat([s,n(e,o,r)]);break}i=e._cache.length,s=t.concat([s,n(e,o.slice(0,i),r)]),o=o.slice(i)}return s}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-xor":193}],188:[function(e,t,o){(function(e){function t(e,t,o){for(var r,i,s,a=-1,l=8,g=0;++a<l;)r=e._cipher.encryptBlock(e._prev),i=t&1<<7-a?128:0,s=r[0]^i,g+=(128&s)>>a%8,e._prev=n(e._prev,o?i:s);return g}function n(t,o){var n=t.length,r=-1,i=new e(t.length);for(t=e.concat([t,new e([o])]);++r<n;)i[r]=t[r]<<1|t[r+1]>>7;return i}o.encrypt=function(o,n,r){for(var i=n.length,s=new e(i),a=-1;++a<i;)s[a]=t(o,n[a],r);return s}}).call(this,e("buffer").Buffer)},{buffer:6}],189:[function(e,t,o){(function(e){function t(t,o,n){var r=t._cipher.encryptBlock(t._prev),i=r[0]^o;return t._prev=e.concat([t._prev.slice(1),new e([n?o:i])]),i}o.encrypt=function(o,n,r){for(var i=n.length,s=new e(i),a=-1;++a<i;)s[a]=t(o,n[a],r);return s}}).call(this,e("buffer").Buffer)},{buffer:6}],190:[function(e,t,o){(function(t){function n(e){for(var t,o=e.length;o--;){if(t=e.readUInt8(o),255!==t){t++,e.writeUInt8(t,o);break}e.writeUInt8(0,o)}}function r(e){var t=e._cipher.encryptBlock(e._prev);return n(e._prev),t}var i=e("buffer-xor");o.encrypt=function(e,o){for(;e._cache.length<o.length;)e._cache=t.concat([e._cache,r(e)]);var n=e._cache.slice(0,o.length);return e._cache=e._cache.slice(o.length),i(o,n)}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-xor":193}],191:[function(e,t,o){arguments[4][24][0].apply(o,arguments)},{dup:24}],192:[function(e,t,o){(function(t){function n(e){return e._prev=e._cipher.encryptBlock(e._prev),e._prev}var r=e("buffer-xor");o.encrypt=function(e,o){for(;e._cache.length<o.length;)e._cache=t.concat([e._cache,n(e)]);
var i=e._cache.slice(0,o.length);return e._cache=e._cache.slice(o.length),r(o,i)}}).call(this,e("buffer").Buffer)},{buffer:6,"buffer-xor":193}],193:[function(e,t,o){(function(e){t.exports=function(t,o){for(var n=Math.min(t.length,o.length),r=new e(n),i=0;n>i;++i)r[i]=t[i]^o[i];return r}}).call(this,e("buffer").Buffer)},{buffer:6}],194:[function(e,t,o){(function(o){function n(e){r.call(this),this.hashMode="string"==typeof e,this.hashMode?this[e]=this._finalOrDigest:this["final"]=this._finalOrDigest,this._decoder=null,this._encoding=null}var r=e("stream").Transform,i=e("inherits"),s=e("string_decoder").StringDecoder;t.exports=n,i(n,r),n.prototype.update=function(e,t,n){"string"==typeof e&&(e=new o(e,t));var r=this._update(e);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(e,t,o){var n;try{this.hashMode?this._update(e):this.push(this._update(e))}catch(r){n=r}finally{o(n)}},n.prototype._flush=function(e){var t;try{this.push(this._final())}catch(o){t=o}finally{e(t)}},n.prototype._finalOrDigest=function(e){var t=this._final()||new o("");return e&&(t=this._toString(t,e,!0)),t},n.prototype._toString=function(e,t,o){if(this._decoder||(this._decoder=new s(t),this._encoding=t),this._encoding!==t)throw new Error("can't switch encodings");var n=this._decoder.write(e);return o&&(n+=this._decoder.end()),n}}).call(this,e("buffer").Buffer)},{buffer:6,inherits:203,stream:220,string_decoder:221}],195:[function(e,t,o){(function(o){function n(e,t,s,a){return this instanceof n?(i.call(this),this._cipher=new r.AES(t),this._prev=new o(s.length),this._cache=new o(""),this._secCache=new o(""),this._decrypt=a,s.copy(this._prev),void(this._mode=e)):new n(e,t,s)}var r=e("./aes"),i=e("cipher-base"),s=e("inherits");s(n,i),t.exports=n,n.prototype._update=function(e){return this._mode.encrypt(this,e,this._decrypt)},n.prototype._final=function(){this._cipher.scrub()}}).call(this,e("buffer").Buffer)},{"./aes":179,buffer:6,"cipher-base":194,inherits:203}],196:[function(e,t,o){(function(o){function n(e,t,n,i){o.isBuffer(e)||(e=new o(e,"binary")),t&&!o.isBuffer(t)&&(t=new o(t,"binary")),n/=8,i=i||0;for(var s,a,l=0,g=0,c=new o(n),u=new o(i),h=0,d=[];;){if(h++>0&&d.push(s),d.push(e),t&&d.push(t),s=r(o.concat(d)),d=[],a=0,n>0)for(;;){if(0===n)break;if(a===s.length)break;c[l++]=s[a],n--,a++}if(i>0&&a!==s.length)for(;;){if(0===i)break;if(a===s.length)break;u[g++]=s[a],i--,a++}if(0===n&&0===i)break}for(a=0;a<s.length;a++)s[a]=0;return{key:c,iv:u}}var r=e("create-hash/md5");t.exports=n}).call(this,e("buffer").Buffer)},{buffer:6,"create-hash/md5":136}],197:[function(e,t,o){(function(o){function n(e,t){var n=(e.modulus,e.modulus.byteLength()),r=(t.length,u("sha1").update(new o("")).digest()),s=r.length;if(0!==t[0])throw new Error("decryption error");var g=t.slice(1,s+1),c=t.slice(s+1),h=l(g,a(c,s)),d=l(c,a(h,n-s-1));if(i(r,d.slice(0,s)))throw new Error("decryption error");for(var p=s;0===d[p];)p++;if(1!==d[p++])throw new Error("decryption error");return d.slice(p)}function r(e,t,o){for(var n=t.slice(0,2),r=2,i=0;0!==t[r++];)if(r>=t.length){i++;break}var s=t.slice(2,r-1);t.slice(r-1,r);if(("0002"!==n.toString("hex")&&!o||"0001"!==n.toString("hex")&&o)&&i++,s.length<8&&i++,i)throw new Error("decryption error");return t.slice(r)}function i(e,t){e=new o(e),t=new o(t);var n=0,r=e.length;e.length!==t.length&&(n++,r=Math.min(e.length,t.length));for(var i=-1;++i<r;)n+=e[i]^t[i];return n}var s=e("parse-asn1"),a=e("./mgf"),l=e("./xor"),g=e("bn.js"),c=e("browserify-rsa"),u=e("create-hash"),h=e("./withPublic");t.exports=function(e,t,i){var a;a=e.padding?e.padding:i?1:4;var l=s(e),u=l.modulus.byteLength();if(t.length>u||new g(t).cmp(l.modulus)>=0)throw new Error("decryption error");var d;d=i?h(new g(t),l):c(t,l);var p=new o(u-d.length);if(p.fill(0),d=o.concat([p,d],u),4===a)return n(l,d);if(1===a)return r(l,d,i);if(3===a)return d;throw new Error("unknown padding")}}).call(this,e("buffer").Buffer)},{"./mgf":157,"./withPublic":199,"./xor":200,"bn.js":158,"browserify-rsa":159,buffer:6,"create-hash":134,"parse-asn1":163}],198:[function(e,t,o){(function(o){function n(e,t){var n=e.modulus.byteLength(),r=t.length,i=l("sha1").update(new o("")).digest(),s=i.length,h=2*s;if(r>n-h-2)throw new Error("message too long");var d=new o(n-r-h-2);d.fill(0);var p=n-s-1,f=a(s),y=c(o.concat([i,d,new o([1]),t],p),g(f,p)),_=c(f,g(y,s));return new u(o.concat([new o([0]),_,y],n))}function r(e,t,n){var r=t.length,s=e.modulus.byteLength();if(r>s-11)throw new Error("message too long");var a;return n?(a=new o(s-r-3),a.fill(255)):a=i(s-r-3),new u(o.concat([new o([0,n?1:2]),a,new o([0]),t],s))}function i(e,t){for(var n,r=new o(e),i=0,s=a(2*e),l=0;e>i;)l===s.length&&(s=a(2*e),l=0),n=s[l++],n&&(r[i++]=n);return r}var s=e("parse-asn1"),a=e("randombytes"),l=e("create-hash"),g=e("./mgf"),c=e("./xor"),u=e("bn.js"),h=e("./withPublic"),d=e("browserify-rsa");t.exports=function(e,t,o){var i;i=e.padding?e.padding:o?1:4;var a,l=s(e);if(4===i)a=n(l,t);else if(1===i)a=r(l,t,o);else{if(3!==i)throw new Error("unknown padding");if(a=new u(t),a.cmp(l.modulus)>=0)throw new Error("data too long for modulus")}return o?d(a,l):h(a,l)}}).call(this,e("buffer").Buffer)},{"./mgf":157,"./withPublic":199,"./xor":200,"bn.js":158,"browserify-rsa":159,buffer:6,"create-hash":134,"parse-asn1":163,randombytes:201}],199:[function(e,t,o){(function(o){function n(e,t){return new o(e.toRed(r.mont(t.modulus)).redPow(new r(t.publicExponent)).fromRed().toArray())}var r=e("bn.js");t.exports=n}).call(this,e("buffer").Buffer)},{"bn.js":158,buffer:6}],200:[function(e,t,o){t.exports=function(e,t){for(var o=e.length,n=-1;++n<o;)e[n]^=t[n];return e}},{}],201:[function(e,t,o){(function(e,o,n){"use strict";function r(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function i(t,r){if(t>65536)throw new Error("requested too many random bytes");var i=new o.Uint8Array(t);t>0&&s.getRandomValues(i);var a=new n(i.buffer);return"function"==typeof r?e.nextTick(function(){r(null,a)}):a}var s=o.crypto||o.msCrypto;s&&s.getRandomValues?t.exports=i:t.exports=r}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("buffer").Buffer)},{_process:205,buffer:6}],202:[function(e,t,o){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"number"==typeof e}function s(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!i(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,o,n,i,l,g;if(this._events||(this._events={}),"error"===e&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(o=this._events[e],a(o))return!1;if(r(o))switch(arguments.length){case 1:o.call(this);break;case 2:o.call(this,arguments[1]);break;case 3:o.call(this,arguments[1],arguments[2]);break;default:i=Array.prototype.slice.call(arguments,1),o.apply(this,i)}else if(s(o))for(i=Array.prototype.slice.call(arguments,1),g=o.slice(),n=g.length,l=0;n>l;l++)g[l].apply(this,i);return!0},n.prototype.addListener=function(e,t){var o;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?s(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,s(this._events[e])&&!this._events[e].warned&&(o=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,o&&o>0&&this._events[e].length>o&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var n=!1;return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var o,n,i,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(o=this._events[e],i=o.length,n=-1,o===t||r(o.listener)&&o.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(s(o)){for(a=i;a-- >0;)if(o[a]===t||o[a].listener&&o[a].listener===t){n=a;break}if(0>n)return this;1===o.length?(o.length=0,delete this._events[e]):o.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,o;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(o=this._events[e],r(o))this.removeListener(e,o);else if(o)for(;o.length;)this.removeListener(e,o[o.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},{}],203:[function(e,t,o){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var o=function(){};o.prototype=t.prototype,e.prototype=new o,e.prototype.constructor=e}},{}],204:[function(e,t,o){t.exports=function(e){return!(null==e||!(e._isBuffer||e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)))}},{}],205:[function(e,t,o){function n(){c=!1,a.length?g=a.concat(g):u=-1,g.length&&r()}function r(){if(!c){var e=setTimeout(n);c=!0;for(var t=g.length;t;){for(a=g,g=[];++u<t;)a&&a[u].run();u=-1,t=g.length}a=null,c=!1,clearTimeout(e)}}function i(e,t){this.fun=e,this.array=t}function s(){}var a,l=t.exports={},g=[],c=!1,u=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];g.push(new i(e,t)),1!==g.length||c||setTimeout(r,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=s,l.addListener=s,l.once=s,l.off=s,l.removeListener=s,l.removeAllListeners=s,l.emit=s,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],206:[function(e,t,o){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":207}],207:[function(e,t,o){"use strict";function n(e){return this instanceof n?(g.call(this,e),c.call(this,e),e&&e.readable===!1&&(this.readable=!1),e&&e.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,e&&e.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",r)):new n(e)}function r(){this.allowHalfOpen||this._writableState.ended||a(i,this)}function i(e){e.end()}var s=Object.keys||function(e){var t=[];for(var o in e)t.push(o);return t};t.exports=n;var a=e("process-nextick-args"),l=e("core-util-is");l.inherits=e("inherits");var g=e("./_stream_readable"),c=e("./_stream_writable");l.inherits(n,g);for(var u=s(c.prototype),h=0;h<u.length;h++){var d=u[h];n.prototype[d]||(n.prototype[d]=c.prototype[d])}},{"./_stream_readable":209,"./_stream_writable":211,"core-util-is":212,inherits:203,"process-nextick-args":214}],208:[function(e,t,o){"use strict";function n(e){return this instanceof n?void r.call(this,e):new n(e)}t.exports=n;var r=e("./_stream_transform"),i=e("core-util-is");i.inherits=e("inherits"),i.inherits(n,r),n.prototype._transform=function(e,t,o){o(null,e)}},{"./_stream_transform":210,"core-util-is":212,inherits:203}],209:[function(e,t,o){(function(o){"use strict";function n(t,o){L=L||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,o instanceof L&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var n=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(M||(M=e("string_decoder/").StringDecoder),this.decoder=new M(t.encoding),this.encoding=t.encoding)}function r(t){return L=L||e("./_stream_duplex"),this instanceof r?(this._readableState=new n(t,this),this.readable=!0,t&&"function"==typeof t.read&&(this._read=t.read),void A.call(this)):new r(t)}function i(e,t,o,n,r){var i=g(t,o);if(i)e.emit("error",i);else if(null===o)t.reading=!1,c(e,t);else if(t.objectMode||o&&o.length>0)if(t.ended&&!r){var a=new Error("stream.push() after EOF");e.emit("error",a)}else if(t.endEmitted&&r){var a=new Error("stream.unshift() after end event");e.emit("error",a)}else{var l;!t.decoder||r||n||(o=t.decoder.write(o),l=!t.objectMode&&0===o.length),r||(t.reading=!1),l||(t.flowing&&0===t.length&&!t.sync?(e.emit("data",o),e.read(0)):(t.length+=t.objectMode?1:o.length,r?t.buffer.unshift(o):t.buffer.push(o),t.needReadable&&u(e))),d(e,t)}else r||(t.reading=!1);return s(t)}function s(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||0===e.length)}function a(e){return e>=D?e=D:(e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e++),e}function l(e,t){return 0===t.length&&t.ended?0:t.objectMode?0===e?0:1:null===e||isNaN(e)?t.flowing&&t.buffer.length?t.buffer[0].length:t.length:0>=e?0:(e>t.highWaterMark&&(t.highWaterMark=a(e)),e>t.length?t.ended?t.length:(t.needReadable=!0,0):e)}function g(e,t){var o=null;return I.isBuffer(t)||"string"==typeof t||null===t||void 0===t||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o}function c(e,t){if(!t.ended){if(t.decoder){var o=t.decoder.end();o&&o.length&&(t.buffer.push(o),t.length+=t.objectMode?1:o.length)}t.ended=!0,u(e)}}function u(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(N("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?C(h,e):h(e))}function h(e){N("emit readable"),e.emit("readable"),b(e)}function d(e,t){t.readingMore||(t.readingMore=!0,C(p,e,t))}function p(e,t){for(var o=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(N("maybeReadMore read 0"),e.read(0),o!==t.length);)o=t.length;t.readingMore=!1}function f(e){return function(){var t=e._readableState;N("pipeOnDrain",t.awaitDrain),t.awaitDrain&&t.awaitDrain--,0===t.awaitDrain&&w(e,"data")&&(t.flowing=!0,b(e))}}function y(e){N("readable nexttick read 0"),e.read(0)}function _(e,t){t.resumeScheduled||(t.resumeScheduled=!0,C(m,e,t))}function m(e,t){t.reading||(N("resume read 0"),e.read(0)),t.resumeScheduled=!1,e.emit("resume"),b(e),t.flowing&&!t.reading&&e.read(0)}function b(e){var t=e._readableState;if(N("flow",t.flowing),t.flowing)do var o=e.read();while(null!==o&&t.flowing)}function v(e,t){var o,n=t.buffer,r=t.length,i=!!t.decoder,s=!!t.objectMode;if(0===n.length)return null;if(0===r)o=null;else if(s)o=n.shift();else if(!e||e>=r)o=i?n.join(""):1===n.length?n[0]:I.concat(n,r),n.length=0;else if(e<n[0].length){var a=n[0];o=a.slice(0,e),n[0]=a.slice(e)}else if(e===n[0].length)o=n.shift();else{o=i?"":new I(e);for(var l=0,g=0,c=n.length;c>g&&e>l;g++){var a=n[0],u=Math.min(e-l,a.length);i?o+=a.slice(0,u):a.copy(o,l,0,u),u<a.length?n[0]=a.slice(u):n.shift(),l+=u}}return o}function E(e){var t=e._readableState;if(t.length>0)throw new Error("endReadable called on non-empty stream");t.endEmitted||(t.ended=!0,C(T,t,e))}function T(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function S(e,t){for(var o=0,n=e.length;n>o;o++)t(e[o],o)}function k(e,t){for(var o=0,n=e.length;n>o;o++)if(e[o]===t)return o;return-1}t.exports=r;var C=e("process-nextick-args"),B=e("isarray"),I=e("buffer").Buffer;r.ReadableState=n;var A,w=(e("events"),function(e,t){return e.listeners(t).length});!function(){try{A=e("stream")}catch(t){}finally{A||(A=e("events").EventEmitter)}}();var I=e("buffer").Buffer,R=e("core-util-is");R.inherits=e("inherits");var O=e("util"),N=void 0;N=O&&O.debuglog?O.debuglog("stream"):function(){};var M;R.inherits(r,A);var L,L;r.prototype.push=function(e,t){var o=this._readableState;return o.objectMode||"string"!=typeof e||(t=t||o.defaultEncoding,t!==o.encoding&&(e=new I(e,t),t="")),i(this,o,e,t,!1)},r.prototype.unshift=function(e){var t=this._readableState;return i(this,t,e,"",!0)},r.prototype.isPaused=function(){return this._readableState.flowing===!1},r.prototype.setEncoding=function(t){return M||(M=e("string_decoder/").StringDecoder),this._readableState.decoder=new M(t),this._readableState.encoding=t,this};var D=8388608;r.prototype.read=function(e){N("read",e);var t=this._readableState,o=e;if(("number"!=typeof e||e>0)&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return N("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?E(this):u(this),null;if(e=l(e,t),0===e&&t.ended)return 0===t.length&&E(this),null;var n=t.needReadable;N("need readable",n),(0===t.length||t.length-e<t.highWaterMark)&&(n=!0,N("length less than watermark",n)),(t.ended||t.reading)&&(n=!1,N("reading or ended",n)),n&&(N("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1),n&&!t.reading&&(e=l(o,t));var r;return r=e>0?v(e,t):null,null===r&&(t.needReadable=!0,e=0),t.length-=e,0!==t.length||t.ended||(t.needReadable=!0),o!==e&&t.ended&&0===t.length&&E(this),null!==r&&this.emit("data",r),r},r.prototype._read=function(e){this.emit("error",new Error("not implemented"))},r.prototype.pipe=function(e,t){function n(e){N("onunpipe"),e===u&&i()}function r(){N("onend"),e.end()}function i(){N("cleanup"),e.removeListener("close",l),e.removeListener("finish",g),e.removeListener("drain",y),e.removeListener("error",a),e.removeListener("unpipe",n),u.removeListener("end",r),u.removeListener("end",i),u.removeListener("data",s),_=!0,!h.awaitDrain||e._writableState&&!e._writableState.needDrain||y()}function s(t){N("ondata");var o=e.write(t);!1===o&&(1!==h.pipesCount||h.pipes[0]!==e||1!==u.listenerCount("data")||_||(N("false write response, pause",u._readableState.awaitDrain),u._readableState.awaitDrain++),u.pause())}function a(t){N("onerror",t),c(),e.removeListener("error",a),0===w(e,"error")&&e.emit("error",t)}function l(){e.removeListener("finish",g),c()}function g(){N("onfinish"),e.removeListener("close",l),c()}function c(){N("unpipe"),u.unpipe(e)}var u=this,h=this._readableState;switch(h.pipesCount){case 0:h.pipes=e;break;case 1:h.pipes=[h.pipes,e];break;default:h.pipes.push(e)}h.pipesCount+=1,N("pipe count=%d opts=%j",h.pipesCount,t);var d=(!t||t.end!==!1)&&e!==o.stdout&&e!==o.stderr,p=d?r:i;h.endEmitted?C(p):u.once("end",p),e.on("unpipe",n);var y=f(u);e.on("drain",y);var _=!1;return u.on("data",s),e._events&&e._events.error?B(e._events.error)?e._events.error.unshift(a):e._events.error=[a,e._events.error]:e.on("error",a),e.once("close",l),e.once("finish",g),e.emit("pipe",u),h.flowing||(N("pipe resume"),u.resume()),e},r.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes?this:(e||(e=t.pipes),t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this),this);if(!e){var o=t.pipes,n=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var r=0;n>r;r++)o[r].emit("unpipe",this);return this}var i=k(t.pipes,e);return-1===i?this:(t.pipes.splice(i,1),t.pipesCount-=1,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this),this)},r.prototype.on=function(e,t){var o=A.prototype.on.call(this,e,t);if("data"===e&&!1!==this._readableState.flowing&&this.resume(),"readable"===e&&!this._readableState.endEmitted){var n=this._readableState;n.readableListening||(n.readableListening=!0,n.emittedReadable=!1,n.needReadable=!0,n.reading?n.length&&u(this,n):C(y,this))}return o},r.prototype.addListener=r.prototype.on,r.prototype.resume=function(){var e=this._readableState;return e.flowing||(N("resume"),e.flowing=!0,_(this,e)),this},r.prototype.pause=function(){return N("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(N("pause"),this._readableState.flowing=!1,this.emit("pause")),this},r.prototype.wrap=function(e){var t=this._readableState,o=!1,n=this;e.on("end",function(){if(N("wrapped end"),t.decoder&&!t.ended){var e=t.decoder.end();e&&e.length&&n.push(e)}n.push(null)}),e.on("data",function(r){if(N("wrapped data"),t.decoder&&(r=t.decoder.write(r)),(!t.objectMode||null!==r&&void 0!==r)&&(t.objectMode||r&&r.length)){var i=n.push(r);i||(o=!0,e.pause())}});for(var r in e)void 0===this[r]&&"function"==typeof e[r]&&(this[r]=function(t){return function(){return e[t].apply(e,arguments)}}(r));var i=["error","close","destroy","pause","resume"];return S(i,function(t){e.on(t,n.emit.bind(n,t))}),n._read=function(t){N("wrapped _read",t),o&&(o=!1,e.resume())},n},r._fromList=v}).call(this,e("_process"))},{"./_stream_duplex":207,_process:205,buffer:6,"core-util-is":212,events:202,inherits:203,isarray:213,"process-nextick-args":214,"string_decoder/":221,util:5}],210:[function(e,t,o){"use strict";function n(e){this.afterTransform=function(t,o){return r(e,t,o)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function r(e,t,o){var n=e._transformState;n.transforming=!1;var r=n.writecb;if(!r)return e.emit("error",new Error("no writecb in Transform class"));n.writechunk=null,n.writecb=null,null!==o&&void 0!==o&&e.push(o),r(t);var i=e._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&e._read(i.highWaterMark)}function i(e){if(!(this instanceof i))return new i(e);a.call(this,e),this._transformState=new n(this);var t=this;this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(e){s(t,e)}):s(t)})}function s(e,t){if(t)return e.emit("error",t);var o=e._writableState,n=e._transformState;if(o.length)throw new Error("calling transform done when ws.length != 0");if(n.transforming)throw new Error("calling transform done when still transforming");return e.push(null)}t.exports=i;var a=e("./_stream_duplex"),l=e("core-util-is");l.inherits=e("inherits"),l.inherits(i,a),i.prototype.push=function(e,t){return this._transformState.needTransform=!1,a.prototype.push.call(this,e,t)},i.prototype._transform=function(e,t,o){throw new Error("not implemented")},i.prototype._write=function(e,t,o){var n=this._transformState;if(n.writecb=o,n.writechunk=e,n.writeencoding=t,!n.transforming){var r=this._readableState;(n.needTransform||r.needReadable||r.length<r.highWaterMark)&&this._read(r.highWaterMark)}},i.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0}},{"./_stream_duplex":207,"core-util-is":212,inherits:203}],211:[function(e,t,o){"use strict";function n(){}function r(e,t,o){this.chunk=e,this.encoding=t,this.callback=o,this.next=null}function i(t,o){w=w||e("./_stream_duplex"),t=t||{},this.objectMode=!!t.objectMode,o instanceof w&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var n=t.highWaterMark,r=this.objectMode?16:16384;this.highWaterMark=n||0===n?n:r,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var i=t.decodeStrings===!1;this.decodeStrings=!i,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){p(o,e)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new T(this),this.corkedRequestsFree.next=new T(this)}function s(t){return w=w||e("./_stream_duplex"),this instanceof s||this instanceof w?(this._writableState=new i(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev)),void I.call(this)):new s(t)}function a(e,t){var o=new Error("write after end");e.emit("error",o),S(t,o)}function l(e,t,o,n){var r=!0;if(!C.isBuffer(o)&&"string"!=typeof o&&null!==o&&void 0!==o&&!t.objectMode){var i=new TypeError("Invalid non-string/buffer chunk");e.emit("error",i),S(n,i),r=!1}return r}function g(e,t,o){return e.objectMode||e.decodeStrings===!1||"string"!=typeof t||(t=new C(t,o)),t}function c(e,t,o,n,i){o=g(t,o,n),C.isBuffer(o)&&(n="buffer");var s=t.objectMode?1:o.length;t.length+=s;var a=t.length<t.highWaterMark;if(a||(t.needDrain=!0),t.writing||t.corked){var l=t.lastBufferedRequest;t.lastBufferedRequest=new r(o,n,i),l?l.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1}else u(e,t,!1,s,o,n,i);return a}function u(e,t,o,n,r,i,s){t.writelen=n,t.writecb=s,t.writing=!0,t.sync=!0,o?e._writev(r,t.onwrite):e._write(r,i,t.onwrite),t.sync=!1}function h(e,t,o,n,r){--t.pendingcb,o?S(r,n):r(n),e._writableState.errorEmitted=!0,e.emit("error",n)}function d(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}function p(e,t){var o=e._writableState,n=o.sync,r=o.writecb;if(d(o),t)h(e,o,n,t,r);else{var i=m(o);i||o.corked||o.bufferProcessing||!o.bufferedRequest||_(e,o),n?k(f,e,o,i,r):f(e,o,i,r)}}function f(e,t,o,n){o||y(e,t),t.pendingcb--,n(),v(e,t)}function y(e,t){0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"))}function _(e,t){t.bufferProcessing=!0;var o=t.bufferedRequest;if(e._writev&&o&&o.next){var n=t.bufferedRequestCount,r=new Array(n),i=t.corkedRequestsFree;i.entry=o;for(var s=0;o;)r[s]=o,o=o.next,s+=1;u(e,t,!0,t.length,r,"",i.finish),t.pendingcb++,t.lastBufferedRequest=null,t.corkedRequestsFree=i.next,i.next=null}else{for(;o;){var a=o.chunk,l=o.encoding,g=o.callback,c=t.objectMode?1:a.length;if(u(e,t,!1,c,a,l,g),o=o.next,t.writing)break}null===o&&(t.lastBufferedRequest=null)}t.bufferedRequestCount=0,t.bufferedRequest=o,t.bufferProcessing=!1}function m(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function b(e,t){t.prefinished||(t.prefinished=!0,e.emit("prefinish"))}function v(e,t){var o=m(t);return o&&(0===t.pendingcb?(b(e,t),t.finished=!0,e.emit("finish")):b(e,t)),o}function E(e,t,o){t.ending=!0,v(e,t),o&&(t.finished?S(o):e.once("finish",o)),t.ended=!0,e.writable=!1}function T(e){var t=this;this.next=null,this.entry=null,this.finish=function(o){var n=t.entry;for(t.entry=null;n;){var r=n.callback;e.pendingcb--,r(o),n=n.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}}t.exports=s;var S=e("process-nextick-args"),k=S,C=e("buffer").Buffer;s.WritableState=i;var B=e("core-util-is");B.inherits=e("inherits");var I,A={deprecate:e("util-deprecate")};!function(){try{I=e("stream")}catch(t){}finally{I||(I=e("events").EventEmitter)}}();var C=e("buffer").Buffer;B.inherits(s,I);var w;i.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(i.prototype,"buffer",{get:A.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(e){}}();var w;s.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},s.prototype.write=function(e,t,o){var r=this._writableState,i=!1;return"function"==typeof t&&(o=t,t=null),C.isBuffer(e)?t="buffer":t||(t=r.defaultEncoding),"function"!=typeof o&&(o=n),r.ended?a(this,o):l(this,r,e,o)&&(r.pendingcb++,i=c(this,r,e,t,o)),i},s.prototype.cork=function(){var e=this._writableState;e.corked++},s.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||_(this,e))},s.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+e);this._writableState.defaultEncoding=e},s.prototype._write=function(e,t,o){o(new Error("not implemented"))},s.prototype._writev=null,s.prototype.end=function(e,t,o){var n=this._writableState;"function"==typeof e?(o=e,e=null,t=null):"function"==typeof t&&(o=t,t=null),null!==e&&void 0!==e&&this.write(e,t),n.corked&&(n.corked=1,this.uncork()),n.ending||n.finished||E(this,n,o)}},{"./_stream_duplex":207,buffer:6,"core-util-is":212,events:202,inherits:203,"process-nextick-args":214,"util-deprecate":215}],212:[function(e,t,o){(function(e){function t(e){return Array.isArray?Array.isArray(e):"[object Array]"===y(e)}function n(e){return"boolean"==typeof e}function r(e){return null===e}function i(e){return null==e}function s(e){return"number"==typeof e}function a(e){return"string"==typeof e}function l(e){return"symbol"==typeof e}function g(e){return void 0===e}function c(e){return"[object RegExp]"===y(e)}function u(e){return"object"==typeof e&&null!==e}function h(e){return"[object Date]"===y(e)}function d(e){return"[object Error]"===y(e)||e instanceof Error}function p(e){return"function"==typeof e}function f(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function y(e){return Object.prototype.toString.call(e)}o.isArray=t,o.isBoolean=n,o.isNull=r,o.isNullOrUndefined=i,o.isNumber=s,o.isString=a,o.isSymbol=l,o.isUndefined=g,o.isRegExp=c,o.isObject=u,o.isDate=h,o.isError=d,o.isFunction=p,o.isPrimitive=f,o.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../../../insert-module-globals/node_modules/is-buffer/index.js")})},{"../../../../insert-module-globals/node_modules/is-buffer/index.js":204}],213:[function(e,t,o){arguments[4][9][0].apply(o,arguments)},{dup:9}],214:[function(e,t,o){(function(e){"use strict";function o(t){for(var o=new Array(arguments.length-1),n=0;n<o.length;)o[n++]=arguments[n];e.nextTick(function(){t.apply(null,o)})}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports=o:t.exports=e.nextTick}).call(this,e("_process"))},{_process:205}],215:[function(e,t,o){(function(e){function o(e,t){function o(){if(!r){if(n("throwDeprecation"))throw new Error(t);n("traceDeprecation")?console.trace(t):console.warn(t),r=!0}return e.apply(this,arguments)}if(n("noDeprecation"))return e;var r=!1;return o}function n(t){try{if(!e.localStorage)return!1;
}catch(o){return!1}var n=e.localStorage[t];return null==n?!1:"true"===String(n).toLowerCase()}t.exports=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],216:[function(e,t,o){t.exports=e("./lib/_stream_passthrough.js")},{"./lib/_stream_passthrough.js":208}],217:[function(e,t,o){var n=function(){try{return e("stream")}catch(t){}}();o=t.exports=e("./lib/_stream_readable.js"),o.Stream=n||o,o.Readable=o,o.Writable=e("./lib/_stream_writable.js"),o.Duplex=e("./lib/_stream_duplex.js"),o.Transform=e("./lib/_stream_transform.js"),o.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":207,"./lib/_stream_passthrough.js":208,"./lib/_stream_readable.js":209,"./lib/_stream_transform.js":210,"./lib/_stream_writable.js":211,stream:220}],218:[function(e,t,o){t.exports=e("./lib/_stream_transform.js")},{"./lib/_stream_transform.js":210}],219:[function(e,t,o){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":211}],220:[function(e,t,o){function n(){r.call(this)}t.exports=n;var r=e("events").EventEmitter,i=e("inherits");i(n,r),n.Readable=e("readable-stream/readable.js"),n.Writable=e("readable-stream/writable.js"),n.Duplex=e("readable-stream/duplex.js"),n.Transform=e("readable-stream/transform.js"),n.PassThrough=e("readable-stream/passthrough.js"),n.Stream=n,n.prototype.pipe=function(e,t){function o(t){e.writable&&!1===e.write(t)&&g.pause&&g.pause()}function n(){g.readable&&g.resume&&g.resume()}function i(){c||(c=!0,e.end())}function s(){c||(c=!0,"function"==typeof e.destroy&&e.destroy())}function a(e){if(l(),0===r.listenerCount(this,"error"))throw e}function l(){g.removeListener("data",o),e.removeListener("drain",n),g.removeListener("end",i),g.removeListener("close",s),g.removeListener("error",a),e.removeListener("error",a),g.removeListener("end",l),g.removeListener("close",l),e.removeListener("close",l)}var g=this;g.on("data",o),e.on("drain",n),e._isStdio||t&&t.end===!1||(g.on("end",i),g.on("close",s));var c=!1;return g.on("error",a),e.on("error",a),g.on("end",l),g.on("close",l),e.on("close",l),e.emit("pipe",g),e}},{events:202,inherits:203,"readable-stream/duplex.js":206,"readable-stream/passthrough.js":216,"readable-stream/readable.js":217,"readable-stream/transform.js":218,"readable-stream/writable.js":219}],221:[function(e,t,o){function n(e){if(e&&!l(e))throw new Error("Unknown encoding: "+e)}function r(e){return e.toString(this.encoding)}function i(e){this.charReceived=e.length%2,this.charLength=this.charReceived?2:0}function s(e){this.charReceived=e.length%3,this.charLength=this.charReceived?3:0}var a=e("buffer").Buffer,l=a.isEncoding||function(e){switch(e&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},g=o.StringDecoder=function(e){switch(this.encoding=(e||"utf8").toLowerCase().replace(/[-_]/,""),n(e),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=i;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=s;break;default:return void(this.write=r)}this.charBuffer=new a(6),this.charReceived=0,this.charLength=0};g.prototype.write=function(e){for(var t="";this.charLength;){var o=e.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:e.length;if(e.copy(this.charBuffer,this.charReceived,0,o),this.charReceived+=o,this.charReceived<this.charLength)return"";e=e.slice(o,e.length),t=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var n=t.charCodeAt(t.length-1);if(!(n>=55296&&56319>=n)){if(this.charReceived=this.charLength=0,0===e.length)return t;break}this.charLength+=this.surrogateSize,t=""}this.detectIncompleteChar(e);var r=e.length;this.charLength&&(e.copy(this.charBuffer,0,e.length-this.charReceived,r),r-=this.charReceived),t+=e.toString(this.encoding,0,r);var r=t.length-1,n=t.charCodeAt(r);if(n>=55296&&56319>=n){var i=this.surrogateSize;return this.charLength+=i,this.charReceived+=i,this.charBuffer.copy(this.charBuffer,i,0,i),e.copy(this.charBuffer,0,0,i),t.substring(0,r)}return t},g.prototype.detectIncompleteChar=function(e){for(var t=e.length>=3?3:e.length;t>0;t--){var o=e[e.length-t];if(1==t&&o>>5==6){this.charLength=2;break}if(2>=t&&o>>4==14){this.charLength=3;break}if(3>=t&&o>>3==30){this.charLength=4;break}}this.charReceived=t},g.prototype.end=function(e){var t="";if(e&&e.length&&(t=this.write(e)),this.charReceived){var o=this.charReceived,n=this.charBuffer,r=this.encoding;t+=n.slice(0,o).toString(r)}return t}},{buffer:6}],222:[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var o in e)t.push(o);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var o=0;o<e.length;o++)t(e[o],o,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,o){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:o})}}catch(e){return function(e,t,o){e[t]=o}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){return this instanceof Script?void(this.code=e):new Script(e)};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var o=t.contentWindow,n=o.eval,r=o.execScript;!n&&r&&(r.call(o,"null"),n=o.eval),forEach(Object_keys(e),function(t){o[t]=e[t]}),forEach(globals,function(t){e[t]&&(o[t]=e[t])});var i=Object_keys(o),s=n.call(o,this.code);return forEach(Object_keys(o),function(t){(t in e||-1===indexOf(i,t))&&(e[t]=o[t])}),forEach(globals,function(t){t in e||defineProp(e,t,o[t])}),document.body.removeChild(t),s},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),o=this.runInContext(t);return forEach(Object_keys(t),function(o){e[o]=t[o]}),o},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var o=Script(t);return o[e].apply(o,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(o){t[o]=e[o]}),t}},{indexof:223}],223:[function(e,t,o){var n=[].indexOf;t.exports=function(e,t){if(n)return e.indexOf(t);for(var o=0;o<e.length;++o)if(e[o]===t)return o;return-1}},{}],224:[function(e,t,o){!function(n,r){if("function"==typeof define&&define.amd)define(["module","select"],r);else if("undefined"!=typeof o)r(t,e("select"));else{var i={exports:{}};r(i,n.select),n.clipboardAction=i.exports}}(this,function(e,t){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=o(t),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},s=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(t){n(this,e),this.resolveOptions(t),this.initSelection()}return e.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action=e.action,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""},e.prototype.initSelection=function(){this.text?this.selectFake():this.target&&this.selectTarget()},e.prototype.selectFake=function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandler=document.body.addEventListener("click",function(){return e.removeFake()}),this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="fixed",this.fakeElem.style[t?"right":"left"]="-9999px",this.fakeElem.style.top=(window.pageYOffset||document.documentElement.scrollTop)+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,document.body.appendChild(this.fakeElem),this.selectedText=(0,r["default"])(this.fakeElem),this.copyText()},e.prototype.removeFake=function(){this.fakeHandler&&(document.body.removeEventListener("click"),this.fakeHandler=null),this.fakeElem&&(document.body.removeChild(this.fakeElem),this.fakeElem=null)},e.prototype.selectTarget=function(){this.selectedText=(0,r["default"])(this.target),this.copyText()},e.prototype.copyText=function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)},e.prototype.handleResult=function(e){e?this.emitter.emit("success",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)}):this.emitter.emit("error",{action:this.action,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})},e.prototype.clearSelection=function(){this.target&&this.target.blur(),window.getSelection().removeAllRanges()},e.prototype.destroy=function(){this.removeFake()},s(e,[{key:"action",set:function(){var e=arguments.length<=0||void 0===arguments[0]?"copy":arguments[0];if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==("undefined"==typeof e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=a})},{select:231}],225:[function(e,t,o){!function(n,r){if("function"==typeof define&&define.amd)define(["module","./clipboard-action","tiny-emitter","good-listener"],r);else if("undefined"!=typeof o)r(t,e("./clipboard-action"),e("tiny-emitter"),e("good-listener"));else{var i={exports:{}};r(i,n.clipboardAction,n.tinyEmitter,n.goodListener),n.clipboard=i.exports}}(this,function(e,t,o,n){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var o="data-clipboard-"+e;if(t.hasAttribute(o))return t.getAttribute(o)}var g=r(t),c=r(o),u=r(n),h=function(e){function t(o,n){i(this,t);var r=s(this,e.call(this));return r.resolveOptions(n),r.listenClick(o),r}return a(t,e),t.prototype.resolveOptions=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText},t.prototype.listenClick=function(e){var t=this;this.listener=(0,u["default"])(e,"click",function(e){return t.onClick(e)})},t.prototype.onClick=function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new g["default"]({action:this.action(t),target:this.target(t),text:this.text(t),trigger:t,emitter:this})},t.prototype.defaultAction=function(e){return l("action",e)},t.prototype.defaultTarget=function(e){var t=l("target",e);return t?document.querySelector(t):void 0},t.prototype.defaultText=function(e){return l("text",e)},t.prototype.destroy=function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)},t}(c["default"]);e.exports=h})},{"./clipboard-action":224,"good-listener":230,"tiny-emitter":232}],226:[function(e,t,o){var n=e("matches-selector");t.exports=function(e,t,o){for(var r=o?e:e.parentNode;r&&r!==document;){if(n(r,t))return r;r=r.parentNode}}},{"matches-selector":227}],227:[function(e,t,o){function n(e,t){if(i)return i.call(e,t);for(var o=e.parentNode.querySelectorAll(t),n=0;n<o.length;++n)if(o[n]==e)return!0;return!1}var r=Element.prototype,i=r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;t.exports=n},{}],228:[function(e,t,o){function n(e,t,o,n,i){var s=r.apply(this,arguments);return e.addEventListener(o,s,i),{destroy:function(){e.removeEventListener(o,s,i)}}}function r(e,t,o,n){return function(o){o.delegateTarget=i(o.target,t,!0),o.delegateTarget&&n.call(e,o)}}var i=e("closest");t.exports=n},{closest:226}],229:[function(e,t,o){o.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},o.nodeList=function(e){var t=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===t||"[object HTMLCollection]"===t)&&"length"in e&&(0===e.length||o.node(e[0]))},o.string=function(e){return"string"==typeof e||e instanceof String},o.fn=function(e){var t=Object.prototype.toString.call(e);return"[object Function]"===t}},{}],230:[function(e,t,o){function n(e,t,o){if(!e&&!t&&!o)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(o))throw new TypeError("Third argument must be a Function");if(a.node(e))return r(e,t,o);if(a.nodeList(e))return i(e,t,o);if(a.string(e))return s(e,t,o);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(e,t,o){return e.addEventListener(t,o),{destroy:function(){e.removeEventListener(t,o)}}}function i(e,t,o){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,o)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,o)})}}}function s(e,t,o){return l(document.body,e,t,o)}var a=e("./is"),l=e("delegate");t.exports=n},{"./is":229,delegate:228}],231:[function(e,t,o){function n(e){var t;if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName)e.focus(),e.setSelectionRange(0,e.value.length),t=e.value;else{e.hasAttribute("contenteditable")&&e.focus();var o=window.getSelection(),n=document.createRange();n.selectNodeContents(e),o.removeAllRanges(),o.addRange(n),t=o.toString()}return t}t.exports=n},{}],232:[function(e,t,o){function n(){}n.prototype={on:function(e,t,o){var n=this.e||(this.e={});return(n[e]||(n[e]=[])).push({fn:t,ctx:o}),this},once:function(e,t,o){function n(){r.off(e,n),t.apply(o,arguments)}var r=this;return n._=t,this.on(e,n,o)},emit:function(e){var t=[].slice.call(arguments,1),o=((this.e||(this.e={}))[e]||[]).slice(),n=0,r=o.length;for(n;r>n;n++)o[n].fn.apply(o[n].ctx,t);return this},off:function(e,t){var o=this.e||(this.e={}),n=o[e],r=[];if(n&&t)for(var i=0,s=n.length;s>i;i++)n[i].fn!==t&&n[i].fn._!==t&&r.push(n[i]);return r.length?o[e]=r:delete o[e],this}},t.exports=n},{}],233:[function(e,t,o){(function(o,n){!function(r){"use strict";function i(e){if(e)f[0]=f[16]=f[1]=f[2]=f[3]=f[4]=f[5]=f[6]=f[7]=f[8]=f[9]=f[10]=f[11]=f[12]=f[13]=f[14]=f[15]=0,this.blocks=f,this.buffer8=a;else if(c){var t=new ArrayBuffer(68);this.buffer8=new Uint8Array(t),this.blocks=new Uint32Array(t)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0}var s="object"==typeof o&&o.versions&&o.versions.node;s&&(r=n);var a,l=!r.JS_MD5_TEST&&"object"==typeof t&&t.exports,g="function"==typeof define&&define.amd,c=!r.JS_MD5_TEST&&"undefined"!=typeof ArrayBuffer,u="0123456789abcdef".split(""),h=[128,32768,8388608,-2147483648],d=[0,8,16,24],p=["hex","array","digest","buffer","arrayBuffer"],f=[];if(c){var y=new ArrayBuffer(68);a=new Uint8Array(y),f=new Uint32Array(y)}var _=function(e){return function(t){return new i(!0).update(t)[e]()}},m=function(){var e=_("hex");s&&(e=b(e)),e.create=function(){return new i},e.update=function(t){return e.create().update(t)};for(var t=0;t<p.length;++t){var o=p[t];e[o]=_(o)}return e},b=function(t){var o,n;try{if(r.JS_MD5_TEST)throw"JS_MD5_TEST";o=e("crypto"),n=e("buffer").Buffer}catch(i){return console.log(i),t}var s=function(e){if("string"==typeof e)return o.createHash("md5").update(e,"utf8").digest("hex");if(e.constructor==ArrayBuffer)e=new Uint8Array(e);else if(void 0===e.length)return t(e);return o.createHash("md5").update(new n(e)).digest("hex")};return s};i.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&e.constructor==r.ArrayBuffer&&(e=new Uint8Array(e));for(var o,n,i=0,s=e.length||0,a=this.blocks,l=this.buffer8;s>i;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),t)if(c)for(n=this.start;s>i&&64>n;++i)l[n++]=e[i];else for(n=this.start;s>i&&64>n;++i)a[n>>2]|=e[i]<<d[3&n++];else if(c)for(n=this.start;s>i&&64>n;++i)o=e.charCodeAt(i),128>o?l[n++]=o:2048>o?(l[n++]=192|o>>6,l[n++]=128|63&o):55296>o||o>=57344?(l[n++]=224|o>>12,l[n++]=128|o>>6&63,l[n++]=128|63&o):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++i)),l[n++]=240|o>>18,l[n++]=128|o>>12&63,l[n++]=128|o>>6&63,l[n++]=128|63&o);else for(n=this.start;s>i&&64>n;++i)o=e.charCodeAt(i),128>o?a[n>>2]|=o<<d[3&n++]:2048>o?(a[n>>2]|=(192|o>>6)<<d[3&n++],a[n>>2]|=(128|63&o)<<d[3&n++]):55296>o||o>=57344?(a[n>>2]|=(224|o>>12)<<d[3&n++],a[n>>2]|=(128|o>>6&63)<<d[3&n++],a[n>>2]|=(128|63&o)<<d[3&n++]):(o=65536+((1023&o)<<10|1023&e.charCodeAt(++i)),a[n>>2]|=(240|o>>18)<<d[3&n++],a[n>>2]|=(128|o>>12&63)<<d[3&n++],a[n>>2]|=(128|o>>6&63)<<d[3&n++],a[n>>2]|=(128|63&o)<<d[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this}},i.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[t>>2]|=h[3&t],t>=56&&(this.hashed||this.hash(),e[0]=e[16],e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.bytes<<3,this.hash()}},i.prototype.hash=function(){var e,t,o,n,r,i,s=this.blocks;this.first?(e=s[0]-680876937,e=(e<<7|e>>>25)-271733879<<0,n=(-1732584194^2004318071&e)+s[1]-117830708,n=(n<<12|n>>>20)+e<<0,o=(-271733879^n&(-271733879^e))+s[2]-1126478375,o=(o<<17|o>>>15)+n<<0,t=(e^o&(n^e))+s[3]-1316259209,t=(t<<22|t>>>10)+o<<0):(e=this.h0,t=this.h1,o=this.h2,n=this.h3,e+=(n^t&(o^n))+s[0]-680876936,e=(e<<7|e>>>25)+t<<0,n+=(o^e&(t^o))+s[1]-389564586,n=(n<<12|n>>>20)+e<<0,o+=(t^n&(e^t))+s[2]+606105819,o=(o<<17|o>>>15)+n<<0,t+=(e^o&(n^e))+s[3]-1044525330,t=(t<<22|t>>>10)+o<<0),e+=(n^t&(o^n))+s[4]-176418897,e=(e<<7|e>>>25)+t<<0,n+=(o^e&(t^o))+s[5]+1200080426,n=(n<<12|n>>>20)+e<<0,o+=(t^n&(e^t))+s[6]-1473231341,o=(o<<17|o>>>15)+n<<0,t+=(e^o&(n^e))+s[7]-45705983,t=(t<<22|t>>>10)+o<<0,e+=(n^t&(o^n))+s[8]+1770035416,e=(e<<7|e>>>25)+t<<0,n+=(o^e&(t^o))+s[9]-1958414417,n=(n<<12|n>>>20)+e<<0,o+=(t^n&(e^t))+s[10]-42063,o=(o<<17|o>>>15)+n<<0,t+=(e^o&(n^e))+s[11]-1990404162,t=(t<<22|t>>>10)+o<<0,e+=(n^t&(o^n))+s[12]+1804603682,e=(e<<7|e>>>25)+t<<0,n+=(o^e&(t^o))+s[13]-40341101,n=(n<<12|n>>>20)+e<<0,o+=(t^n&(e^t))+s[14]-1502002290,o=(o<<17|o>>>15)+n<<0,t+=(e^o&(n^e))+s[15]+1236535329,t=(t<<22|t>>>10)+o<<0,e+=(o^n&(t^o))+s[1]-165796510,e=(e<<5|e>>>27)+t<<0,n+=(t^o&(e^t))+s[6]-1069501632,n=(n<<9|n>>>23)+e<<0,o+=(e^t&(n^e))+s[11]+643717713,o=(o<<14|o>>>18)+n<<0,t+=(n^e&(o^n))+s[0]-373897302,t=(t<<20|t>>>12)+o<<0,e+=(o^n&(t^o))+s[5]-701558691,e=(e<<5|e>>>27)+t<<0,n+=(t^o&(e^t))+s[10]+38016083,n=(n<<9|n>>>23)+e<<0,o+=(e^t&(n^e))+s[15]-660478335,o=(o<<14|o>>>18)+n<<0,t+=(n^e&(o^n))+s[4]-405537848,t=(t<<20|t>>>12)+o<<0,e+=(o^n&(t^o))+s[9]+568446438,e=(e<<5|e>>>27)+t<<0,n+=(t^o&(e^t))+s[14]-1019803690,n=(n<<9|n>>>23)+e<<0,o+=(e^t&(n^e))+s[3]-187363961,o=(o<<14|o>>>18)+n<<0,t+=(n^e&(o^n))+s[8]+1163531501,t=(t<<20|t>>>12)+o<<0,e+=(o^n&(t^o))+s[13]-1444681467,e=(e<<5|e>>>27)+t<<0,n+=(t^o&(e^t))+s[2]-51403784,n=(n<<9|n>>>23)+e<<0,o+=(e^t&(n^e))+s[7]+1735328473,o=(o<<14|o>>>18)+n<<0,t+=(n^e&(o^n))+s[12]-1926607734,t=(t<<20|t>>>12)+o<<0,r=t^o,e+=(r^n)+s[5]-378558,e=(e<<4|e>>>28)+t<<0,n+=(r^e)+s[8]-2022574463,n=(n<<11|n>>>21)+e<<0,i=n^e,o+=(i^t)+s[11]+1839030562,o=(o<<16|o>>>16)+n<<0,t+=(i^o)+s[14]-35309556,t=(t<<23|t>>>9)+o<<0,r=t^o,e+=(r^n)+s[1]-1530992060,e=(e<<4|e>>>28)+t<<0,n+=(r^e)+s[4]+1272893353,n=(n<<11|n>>>21)+e<<0,i=n^e,o+=(i^t)+s[7]-155497632,o=(o<<16|o>>>16)+n<<0,t+=(i^o)+s[10]-1094730640,t=(t<<23|t>>>9)+o<<0,r=t^o,e+=(r^n)+s[13]+681279174,e=(e<<4|e>>>28)+t<<0,n+=(r^e)+s[0]-358537222,n=(n<<11|n>>>21)+e<<0,i=n^e,o+=(i^t)+s[3]-722521979,o=(o<<16|o>>>16)+n<<0,t+=(i^o)+s[6]+76029189,t=(t<<23|t>>>9)+o<<0,r=t^o,e+=(r^n)+s[9]-640364487,e=(e<<4|e>>>28)+t<<0,n+=(r^e)+s[12]-421815835,n=(n<<11|n>>>21)+e<<0,i=n^e,o+=(i^t)+s[15]+530742520,o=(o<<16|o>>>16)+n<<0,t+=(i^o)+s[2]-995338651,t=(t<<23|t>>>9)+o<<0,e+=(o^(t|~n))+s[0]-198630844,e=(e<<6|e>>>26)+t<<0,n+=(t^(e|~o))+s[7]+1126891415,n=(n<<10|n>>>22)+e<<0,o+=(e^(n|~t))+s[14]-1416354905,o=(o<<15|o>>>17)+n<<0,t+=(n^(o|~e))+s[5]-57434055,t=(t<<21|t>>>11)+o<<0,e+=(o^(t|~n))+s[12]+1700485571,e=(e<<6|e>>>26)+t<<0,n+=(t^(e|~o))+s[3]-1894986606,n=(n<<10|n>>>22)+e<<0,o+=(e^(n|~t))+s[10]-1051523,o=(o<<15|o>>>17)+n<<0,t+=(n^(o|~e))+s[1]-2054922799,t=(t<<21|t>>>11)+o<<0,e+=(o^(t|~n))+s[8]+1873313359,e=(e<<6|e>>>26)+t<<0,n+=(t^(e|~o))+s[15]-30611744,n=(n<<10|n>>>22)+e<<0,o+=(e^(n|~t))+s[6]-1560198380,o=(o<<15|o>>>17)+n<<0,t+=(n^(o|~e))+s[13]+1309151649,t=(t<<21|t>>>11)+o<<0,e+=(o^(t|~n))+s[4]-145523070,e=(e<<6|e>>>26)+t<<0,n+=(t^(e|~o))+s[11]-1120210379,n=(n<<10|n>>>22)+e<<0,o+=(e^(n|~t))+s[2]+718787259,o=(o<<15|o>>>17)+n<<0,t+=(n^(o|~e))+s[9]-343485551,t=(t<<21|t>>>11)+o<<0,this.first?(this.h0=e+1732584193<<0,this.h1=t-271733879<<0,this.h2=o-1732584194<<0,this.h3=n+271733878<<0,this.first=!1):(this.h0=this.h0+e<<0,this.h1=this.h1+t<<0,this.h2=this.h2+o<<0,this.h3=this.h3+n<<0)},i.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,o=this.h2,n=this.h3;return u[e>>4&15]+u[15&e]+u[e>>12&15]+u[e>>8&15]+u[e>>20&15]+u[e>>16&15]+u[e>>28&15]+u[e>>24&15]+u[t>>4&15]+u[15&t]+u[t>>12&15]+u[t>>8&15]+u[t>>20&15]+u[t>>16&15]+u[t>>28&15]+u[t>>24&15]+u[o>>4&15]+u[15&o]+u[o>>12&15]+u[o>>8&15]+u[o>>20&15]+u[o>>16&15]+u[o>>28&15]+u[o>>24&15]+u[n>>4&15]+u[15&n]+u[n>>12&15]+u[n>>8&15]+u[n>>20&15]+u[n>>16&15]+u[n>>28&15]+u[n>>24&15]},i.prototype.toString=i.prototype.hex,i.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,o=this.h2,n=this.h3;return[255&e,e>>8&255,e>>16&255,e>>24&255,255&t,t>>8&255,t>>16&255,t>>24&255,255&o,o>>8&255,o>>16&255,o>>24&255,255&n,n>>8&255,n>>16&255,n>>24&255]},i.prototype.array=i.prototype.digest,i.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(16),t=new Uint32Array(e);return t[0]=this.h0,t[1]=this.h1,t[2]=this.h2,t[3]=this.h3,e},i.prototype.buffer=i.prototype.arrayBuffer;var v=m();l?t.exports=v:(r.md5=v,g&&define(function(){return v}))}(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:205,buffer:6,crypto:10}],234:[function(e,t,o){t.exports={name:"sparqlblocks",version:"0.3.0",description:"Building SPARQL queries through block programming",main:"src/index.js",directories:{test:"tests"},scripts:{test:'echo "Error: no test specified" && exit 1'},repository:{type:"git",url:"git+https://github.com/miguel76/SparqlBlocks.git"},author:"Miguel Ceriani <miguel.ceriani@gmail.com>",license:"MIT",bugs:{url:"https://github.com/miguel76/SparqlBlocks/issues"},homepage:"https://sparqlblocks.org",devDependencies:{aliasify:"^2.0.0",browserify:"^13.0.0",exposify:"^0.5.0",fs:"0.0.2",gulp:"^3.9.1","gulp-bower":"0.0.13","gulp-html-extend":"^1.1.6","gulp-insert":"^0.5.0","gulp-notify":"^2.2.0","gulp-remote-src":"^0.4.1","gulp-rename":"^1.2.2","gulp-replace":"^0.5.4","gulp-ruby-sass":"^2.0.6","gulp-sourcemaps":"^2.0.0-alpha","gulp-uglify":"^1.5.3","gulp-util":"^3.0.7",pathmodify:"^0.5.0","vinyl-buffer":"^1.0.0","vinyl-fs":"^2.4.3","vinyl-source-stream":"^1.1.0"},dependencies:{"blob-polyfill":"^1.0.20150320","browser-filesaver":"^1.1.1","browserify-fs":"^1.0.0",clipboard:"^1.5.10",jquery:"^1.12.3","js-md5":"^0.4.1",octicons:"^3.5.0","primer-css":"^3.0.1",underscore:"^1.8.3"},browser:{blockly:"./src/import/blockly.js"},jshintConfig:{browserify:!0,browser:!0}}},{}],235:[function(e,t,o){t.exports={"@metadata":{author:"Miguel Ceriani <miguel.ceriani@gmail.com>",locale:"en",messagedocumentation:"qqq"},VERB_OBJECT_TOOLTIP:"Match outbound triples with specified predicate (variable or resource) and object (variable, resource, or literal).",REVERSEPATH_OBJECT_TOOLTIP:"Match inbound triples with specified predicate (resource) and subject (variable or resource).",CLOSUREPATH_OBJECT_TOOLTIP:"Match outbound paths of any length with specified predicate (resource) ad object (variable, resource, or literal).",REVERSECLOSUREPATH_OBJECT_TOOLTIP:"Match inbound paths of any length with specified predicate (resource) ad subject (variable or resource).",TYPEDSUBJECT_PROPERTYLIST_TOOLTIP:"Match graphs from a specified node (variable or resource), optionally of a specified type (variable or resource).",ANONSUBJECT_PROPERTYLIST_TOOLTIP:"Match graphs from current node.",ISA_TOOLTIP:"Match a specified type (variable or resource).",FILTER_TOOLTIP:"Require the specified expression to be true.",UNION_TOOLTIP:"Get the matchings of both sub-groups.",OPTIONAL_TOOLTIP:"Consider the matching of this sub-group as optional",GRAPH_TOOLTIP:"For datasets with multiple graphs, choose a specific graph by its name (a resource).",SELECT_TOOLTIP:"Select Query: get the variable bindings as a table, ordered and with a max number of rows.",EXECUTION_TOOLTIP:"Execute a query against a SPARQL endpoint. Results are shown as a table below the query",PREFIXED_IRI_TOOLTIP:"A resource, in prefix notation.",IRI_TOOLTIP:"A resource, represented with full IRI.",EXISTS_TOOLTIP:"Require that the sub-group is matched at least once.",NOT_EXISTS_TOOLTIP:"Require that the sub-group is never matched.",TEXT_TOOLTIP:"A string literal.",TEXT_WITH_LANG_TOOLTIP:"A string literal, in the specified language (IANA language tag or subtag).",TEXT_WITH_TYPE_PREF_TOOLTIP:"A typed literal.",TEXT_WITH_TYPE_IRI_TOOLTIP:"A typed literal.",MATH_NUMBER_TOOLTIP:"A numeric literal.",TABLE_TOOLTIP:"Table of query results. You can use the result values as blocks in queries!",LOGIC_BOOLEAN_TOOLTIP:"A boolean literal.",EXECUTION_IN_PROGRESS:"execution in progress...",EXECUTION_IN_PROGRESS_TOOLTIP:"The server is taking a while. You can still build and launch queries in the meanwhile...",EXECUTION_PLACEHOLDER:" < results will appear here > ",EXECUTION_PLACEHOLDER_TOOLTIP:"After you make a query, a table with the results will show up here.",EXECUTION_CONNECTION_ERROR:"Connection Error!",HASH_TOOLTIP:"Apply a hash function."}},{}],236:[function(e,t,o){(function(t){"use strict";var o="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,n=e("../core/types.js"),r=e("../core/blocks.js"),i=e("../core/msg.js"),s=n.getExtension,a=function(e){e.setHelpUrl("http://www.w3.org/TR/sparql11-query/#QSynTriples")},l=function(e){a(e),e.setColour(65)},g=function(e){a(e),e.setColour(120)},c=function(e,t){var o=e.getInputConnection(t);if(o){var n=t.targetBlock;if(n){var r=n.varsInScope();if(r)return r}}return[]};r.block("sparql_verb_objectlist",{init:function(){l(this),this.appendValueInput("VERB").setCheck(s("Verb")),this.appendStatementInput("OBJECT").setCheck("ObjectList").appendField("↳"),this.setInputsInline(!0),this.setPreviousStatement(!0,"PropertyList"),this.setNextStatement(!0,"PropertyList"),this.setTooltip("")},getVarsInScope:function(){return o.union(c(this,"VERB"),c(this,"OBJECT"))}}),r.block("sparql_verb_object",{init:function(){l(this),this.appendValueInput("VERB").setCheck(s("Verb")).appendField("━┫"),this.appendValueInput("OBJECT").setCheck(s("Object")).appendField("┣━▶"),this.setInputsInline(!0),this.setPreviousStatement(!0,"PropertyList"),this.setNextStatement(!0,"PropertyList"),this.setTooltip(i.VERB_OBJECT_TOOLTIP)}}),r.block("sparql_reversePath_object",{init:function(){l(this),this.appendValueInput("VERB").setCheck(s("Iri")).appendField("◀━┫"),this.appendValueInput("OBJECT").setCheck(s("ObjectNotLiteral")).appendField("┣━"),this.setInputsInline(!0),this.setPreviousStatement(!0,"PropertyList"),this.setNextStatement(!0,"PropertyList"),this.setTooltip(i.REVERSEPATH_OBJECT_TOOLTIP)}}),r.block("sparql_closurePath_object",{init:function(){l(this),this.appendValueInput("VERB").setCheck(s("Iri")).appendField("━┫"),this.appendValueInput("OBJECT").setCheck(s("Object")).appendField("┣ ✱ ━▶"),this.setInputsInline(!0),this.setPreviousStatement(!0,"PropertyList"),this.setNextStatement(!0,"PropertyList"),this.setTooltip(i.CLOSUREPATH_OBJECT_TOOLTIP)}}),r.block("sparql_reverseClosurePath_object",{init:function(){l(this),this.appendValueInput("VERB").setCheck(s("Iri")).appendField("◀━ ✱ ┫"),this.appendValueInput("OBJECT").setCheck(s("ObjectNotLiteral")).appendField("┣━"),this.setInputsInline(!0),this.setPreviousStatement(!0,"PropertyList"),this.setNextStatement(!0,"PropertyList"),this.setTooltip(i.REVERSECLOSUREPATH_OBJECT_TOOLTIP)}}),r.block("sparql_isa",{init:function(){l(this),this.appendValueInput("TYPE").setCheck(s("ObjectNotLiteral")).appendField("is a"),this.setInputsInline(!0),this.setPreviousStatement(!0,"PropertyList"),this.setNextStatement(!0,"PropertyList"),this.setTooltip(i.ISA_TOOLTIP)}}),r.block("sparql_subject_propertylist",{init:function(){g(this),this.appendValueInput("SUBJECT").setCheck(s("ResourceOrVar")),this.appendStatementInput("PROPERTY_LIST").setCheck("PropertyList").appendField("  ⌊"),this.setInputsInline(!0),this.setPreviousStatement(!0,s("TriplesBlock")),this.setNextStatement(!0,s("GraphPattern")),this.setTooltip("")}}),r.block("sparql_typedsubject_propertylist",{init:function(){g(this),this.appendValueInput("SUBJECT").setCheck(s("ResourceOrVar")),this.appendValueInput("TYPE").setCheck(s("ObjectNotLiteral")).appendField("is a"),this.appendStatementInput("PROPERTY_LIST").setCheck("PropertyList").appendField("  &"),this.setInputsInline(!0),this.setPreviousStatement(!0,s("TriplesBlock")),this.setNextStatement(!0,s("GraphPattern")),this.setTooltip(i.TYPEDSUBJECT_PROPERTYLIST_TOOLTIP)}}),r.block("sparql_anonsubject_propertylist",{init:function(){g(this),this.appendStatementInput("PROPERTY_LIST").setCheck("PropertyList").appendField("s.t."),this.setInputsInline(!0),this.setOutput(!0,s("RootedPropertyList")),this.setTooltip(i.ANONSUBJECT_PROPERTYLIST_TOOLTIP)}}),r.block("sparql_subject_verb_objectlist",{init:function(){g(this),this.appendValueInput("SUBJECT").setCheck(s("ResourceOrVar")),this.appendValueInput("VERB").appendField("has").setCheck(s("Verb")),
this.appendStatementInput("OBJECT_LIST").setCheck("ObjectList").appendField("↳"),this.setInputsInline(!0),this.setPreviousStatement(!0,s("TriplesBlock")),this.setNextStatement(!0,s("GraphPattern")),this.setTooltip("")}}),r.block("sparql_subject_verb_object",{init:function(){g(this),this.appendValueInput("SUBJECT").setCheck(s("ResourceOrVar")),this.appendValueInput("VERB").appendField("has").setCheck(s("Verb")),this.appendValueInput("OBJECT").setCheck(s("GraphTermOrVar")).appendField("→"),this.setInputsInline(!0),this.setPreviousStatement(!0,s("TriplesBlock")),this.setNextStatement(!0,s("GraphPattern")),this.setTooltip("")}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/blocks.js":248,"../core/msg.js":255,"../core/types.js":259}],237:[function(e,t,o){"use strict";var n=e("../core/types.js"),r=e("../core/blocks.js"),i=e("../core/msg.js"),s=n.getExtension;r.block("sparql_filter",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#scopeFilters"),this.setColour(210),this.appendValueInput("CONDITION").setCheck(s("BooleanExpr")).appendField("filter"),this.setInputsInline(!0),this.setPreviousStatement(!0,s("GraphPattern")),this.setNextStatement(!0,s("GraphPattern")),this.setTooltip(i.FILTER_TOOLTIP)}}),r.block("sparql_union",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#alternatives"),this.setColour(260),this.appendStatementInput("OP1").setCheck(s("GraphPattern")),this.appendStatementInput("OP2").setCheck(s("GraphPattern")).appendField("union"),this.setInputsInline(!0),this.setPreviousStatement(!0,s("GraphPattern")),this.setNextStatement(!0,s("GraphPattern")),this.setTooltip(i.UNION_TOOLTIP)}}),r.block("sparql_optional",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#optionals"),this.setColour(260),this.appendStatementInput("OP").setCheck(s("GraphPattern")).appendField("optional"),this.setInputsInline(!0),this.setPreviousStatement(!0,s("GraphPattern")),this.setNextStatement(!0,s("GraphPattern")),this.setTooltip(i.OPTIONAL_TOOLTIP)}}),r.block("sparql_graph",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#optionals"),this.setColour(260),this.appendValueInput("GRAPHNAME").setCheck(s("ResourceOrVar")).appendField("choose graph"),this.appendStatementInput("OP").setCheck(s("GraphPattern")).appendField(""),this.setInputsInline(!0),this.setPreviousStatement(!0,s("GraphPattern")),this.setNextStatement(!0,s("GraphPattern")),this.setTooltip(i.GRAPH_TOOLTIP)}})},{"../core/blocks.js":248,"../core/msg.js":255,"../core/types.js":259}],238:[function(e,t,o){(function(t){"use strict";var o="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,n=e("blockly"),r=e("../core/types.js"),i=e("../core/blocks.js"),s=e("../core/exec.js"),a=e("../core/msg.js"),l=e("../generators/sparql.js"),g=e("browser-filesaver");e("blob-polyfill");var c=r.getExtension,u=5,h=function(e){return e=o.extend({},e),{init:function(){if(this.setHelpUrl("http://www.w3.org/TR/2013/REC-sparql11-protocol-20130321/#query-operation"),e.title&&this.appendDummyInput().appendField(e.title),e.endpointField&&this.appendDummyInput().appendField("from").appendField(new n.FieldTextInput(""),"ENDPOINT"),e.parameters&&o.isArray(e.parameters))for(var t=0;t<e.parameters.length;t++){var r=e.parameters[t];if(r.name){var s=this.appendValueInput(r.name);s.setAlign(n.ALIGN_RIGHT),r.type&&s.setCheck(c(r.type)),r.label&&s.appendField(r.label)}}e.builtinQuery?(this.setColour(290),e.selfLimiting||this.appendDummyInput().appendField("limit to first").appendField(new n.FieldTextInput(""+u,n.FieldTextInput.nonnegativeIntegerValidator),"LIMIT").appendField("rows")):e.baseQuery?(this.setColour(290),this.appendStatementInput("WHERE").setCheck(c("GraphPattern")).appendField("where"),i.query.orderFields.init.call(this),this.setInputsInline(!0)):(this.setColour(330),this.appendStatementInput("QUERY").setCheck(c("SelectQuery")).appendField(" ⚙")),e.directResultsField?this.appendDummyInput("RESULTS").appendField("↪").appendField("","RESULTS_CONTAINER"):this.appendStatementInput("RESULTS").setCheck(c("Table")).appendField("↪"),this.setTooltip(a.EXECUTION_TOOLTIP)},onchange:function(){if(!n.dragMode_){if(!e.directResultsField&&!this.resultsInput){var t=this.getInputTargetBlock("RESULTS");if(t||(t=this.workspace.newBlock("sparql_execution_placeholder"),this.getInput("RESULTS").connection.connect(t.previousConnection),t.initSvg(),t.render()),this.resultsInput=t.getInput("RESULTS"),!this.resultsInput)return}if(e.baseQuery&&i.query.orderFields.onchange.call(this),!e.dontExecute&&!this.isInFlyout&&(e.selfLimiting||null!==n.FieldTextInput.nonnegativeIntegerValidator(this.getFieldValue("LIMIT"))))if(e.directResultsField)s.blockExec(this);else if(e.builtinQuery&&o.isFunction(e.builtinQuery)){var r={};if(e.parameters&&o.isArray(e.parameters))for(var a=0;a<e.parameters.length;a++){var g=e.parameters[a];r[g.name]=g.name?l.valueToCode(this,g.name,l.ORDER_NONE):null}var c=this.getFieldValue("LIMIT"),u=c&n.FieldTextInput.nonnegativeIntegerValidator(c);if(u||e.selfLimiting){var h=u?"\nLIMIT "+u:"",d=e.builtinQuery(r)+h;d&&s.blockExecQuery(this,d,this.resultsInput)}}else s.blockExec(this,this,this.resultsInput)}},mutationToDom:i.query.orderFields.mutationToDom,domToMutation:i.query.orderFields.domToMutation,customContextMenu:function(e){var t=this;this.sparqlQueryStr&&(i.insertOptionBeforeHelp(e,{text:"Save Query as SPARQL",enabled:!0,callback:function(){var e=new Blob([t.sparqlQueryStr],{type:"application/sparql-query"});g.saveAs(e,"query.rq")}}),i.insertOptionBeforeHelp(e,{text:"Open Query in YASGUI",enabled:!0,callback:function(){var e=t.getFieldValue("ENDPOINT"),o="http://yasgui.org/#query="+encodeURIComponent(t.sparqlQueryStr)+(e?"&endpoint="+encodeURIComponent(e):"");window.open(o,"_blank")}})),this.resultsData&&i.insertOptionBeforeHelp(e,{text:"Save Results as JSON",enabled:!0,callback:function(){var e=JSON.stringify(t.resultsData);if(e){var o=new Blob([e],{type:"application/sparql-results+json"});g.saveAs(o,"results.json")}}})}}};i.block("sparql_execution",h()),i.block("sparql_execution_query",h({baseQuery:!0})),i.block("sparql_execution_endpoint",h({endpointField:!0})),i.block("sparql_execution_endpoint_query",h({endpointField:!0,baseQuery:!0})),i.block("sparql_execution_endpoint_fake",h({endpointField:!0,dontExecute:!0})),i.block("sparql_execution_endpoint_query_fake",h({endpointField:!0,baseQuery:!0,dontExecute:!0})),i.block("sparql_builtin_classes",h({endpointField:!0,title:"search Classes",parameters:[{name:"GRAPH",type:"Resource",label:"in graph"},{name:"FIND",type:"StringExpr",label:"named"}],builtinQuery:function(e){return e.FIND?"SELECT DISTINCT * WHERE {\n"+(e.GRAPH?"  GRAPH "+e.GRAPH+" {\n":"")+"    ?class\n      a <http://www.w3.org/2002/07/owl#Class>;\n      <http://www.w3.org/2000/01/rdf-schema#label> ?label.\n    FILTER(REGEX(?label, STR("+e.FIND+"), 'i') && (COALESCE(LANG("+e.FIND+"),'') = ''|| LANGMATCHES(LANG(?label), LANG("+e.FIND+")))).\n"+(e.GRAPH?"  }\n":"")+"}\nORDER BY (STRLEN(?label)), STRLEN(COALESCE(LANG(?label),''))":""}})),i.block("sparql_builtin_resources",h({endpointField:!0,title:"search Resources",parameters:[{name:"GRAPH",type:"Resource",label:"in graph"},{name:"TYPE",type:"Resource",label:"with type"},{name:"FIND",type:"StringExpr",label:"named"}],builtinQuery:function(e){return e.FIND?"SELECT DISTINCT * WHERE {\n"+(e.GRAPH?"  GRAPH "+e.GRAPH+" {\n":"")+"    ?resource\n"+(e.TYPE?"      a "+e.TYPE+";\n":"")+"      <http://www.w3.org/2000/01/rdf-schema#label> ?label.\n    FILTER(REGEX(?label, STR("+e.FIND+"), 'i') && (COALESCE(LANG("+e.FIND+"),'') = ''|| LANGMATCHES(LANG(?label), LANG("+e.FIND+")))).\n"+(e.GRAPH?"  }\n":"")+"}\nORDER BY (STRLEN(?label)), STRLEN(COALESCE(LANG(?label),''))":""}})),i.block("sparql_builtin_properties",h({endpointField:!0,title:"search Properties",parameters:[{name:"GRAPH",type:"Resource",label:"in graph"},{name:"FROM",type:"Resource",label:"from class"},{name:"TO",type:"Resource",label:"to class"},{name:"FIND",type:"StringExpr",label:"named"}],builtinQuery:function(e){return e.FIND?"SELECT DISTINCT * WHERE {\n"+(e.GRAPH?"  GRAPH "+e.GRAPH+" {\n":"")+"    ?property\n      <http://www.w3.org/2000/01/rdf-schema#label> ?label;\n      <http://www.w3.org/2000/01/rdf-schema#domain> ?domain;\n      <http://www.w3.org/2000/01/rdf-schema#range> ?range.\n"+(e.FROM?"    "+e.FROM+" <http://www.w3.org/2000/01/rdf-schema#subClassOf>* ?domain.\n":"")+(e.TO?"    "+e.TO+" <http://www.w3.org/2000/01/rdf-schema#subClassOf>* ?range.\n":"")+"    FILTER(REGEX(?label, STR("+e.FIND+"), 'i') && (COALESCE(LANG("+e.FIND+"),'') = ''|| LANGMATCHES(LANG(?label), LANG("+e.FIND+")))).\n"+(e.GRAPH?"  }\n":"")+"}\nORDER BY (STRLEN(?label)), STRLEN(COALESCE(LANG(?label),''))":""}})),i.block("sparql_execution_placeholder",{init:function(){this.setHelpUrl("http://www.w3.org/TR/2013/REC-sparql11-protocol-20130321/#query-operation"),this.setColour(330),this.appendDummyInput("RESULTS").appendField(a.EXECUTION_PLACEHOLDER,"RESULTS_CONTAINER"),this.setPreviousStatement(!0,"Table"),this.setTooltip(a.EXECUTION_PLACEHOLDER_TOOLTIP),this.setDeletable(!1),this.setMovable(!1),this.setEditable(!1)}}),i.block("sparql_execution_in_progress",{init:function(){this.setHelpUrl("http://www.w3.org/TR/2013/REC-sparql11-protocol-20130321/#query-operation"),this.setColour(330),this.appendDummyInput().appendField("execution in progress..."),this.setPreviousStatement(!0,"Table"),this.setTooltip(a.EXECUTION_IN_PROGRESS_TOOLTIP),this.setDeletable(!1),this.setMovable(!1),this.setEditable(!1)}}),i.block("sparql_execution_error",{init:function(){this.setHelpUrl("http://www.w3.org/TR/2013/REC-sparql11-protocol-20130321/#query-failure"),this.setColour(330),this.appendDummyInput().appendField(" * Error executing query! * "),this.appendDummyInput().appendField(new n.FieldTextInput("ERROR"),"ERRORDESCR"),this.setPreviousStatement(!0,"Table"),this.setTooltip(""),this.setDeletable(!1),this.setMovable(!1),this.setEditable(!1)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/blocks.js":248,"../core/exec.js":249,"../core/msg.js":255,"../core/types.js":259,"../generators/sparql.js":262,"blob-polyfill":3,blockly:271,"browser-filesaver":4}],239:[function(e,t,o){(function(t){"use strict";var o="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,n=e("blockly"),r=e("../core/types.js"),i=e("../core/blocks.js"),s=e("../core/msg.js"),a=r.getExtension,l=function(e){return a("Var"==e?"Expr":e)},g=210;i.block("sparql_logic_compare",{init:function(){var e=this.RTL?[["=","EQ"],["≠","NEQ"],[">","LT"],["≥","LTE"],["<","GT"],["≤","GTE"]]:[["=","EQ"],["≠","NEQ"],["<","LT"],["≤","LTE"],[">","GT"],["≥","GTE"]];this.setHelpUrl(n.Msg.LOGIC_COMPARE_HELPURL),this.setColour(g),this.setOutput(!0,"BooleanExpr"),this.appendValueInput("A"),this.appendValueInput("B").appendField(new n.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP"),o={EQ:n.Msg.LOGIC_COMPARE_TOOLTIP_EQ,NEQ:n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ,LT:n.Msg.LOGIC_COMPARE_TOOLTIP_LT,LTE:n.Msg.LOGIC_COMPARE_TOOLTIP_LTE,GT:n.Msg.LOGIC_COMPARE_TOOLTIP_GT,GTE:n.Msg.LOGIC_COMPARE_TOOLTIP_GTE};return o[e]}),this.prevBlocks_=[null,null]},onchange:function(){if(this.workspace){var e=this.getInputTargetBlock("A"),t=this.getInputTargetBlock("B");if(e&&t&&!e.outputConnection.checkType_(t.outputConnection)&&0===o.intersection(l(e.outputConnection.check_),l(t.outputConnection.check_)).length)for(var n=0;n<this.prevBlocks_.length;n++){var r=this.prevBlocks_[n];r!==e&&r!==t||(r.setParent(null),r.bumpNeighbours_())}this.prevBlocks_[0]=e,this.prevBlocks_[1]=t}}}),i.block("sparql_logic_operation",{init:function(){var e=[[n.Msg.LOGIC_OPERATION_AND,"AND"],[n.Msg.LOGIC_OPERATION_OR,"OR"]];this.setHelpUrl(n.Msg.LOGIC_OPERATION_HELPURL),this.setColour(g),this.setOutput(!0,"BooleanExpr"),this.appendValueInput("A").setCheck(a("BooleanExpr")),this.appendValueInput("B").setCheck(a("BooleanExpr")).appendField(new n.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP"),o={AND:n.Msg.LOGIC_OPERATION_TOOLTIP_AND,OR:n.Msg.LOGIC_OPERATION_TOOLTIP_OR};return o[e]})}}),i.block("sparql_logic_negate",{init:function(){this.jsonInit({message0:n.Msg.LOGIC_NEGATE_TITLE,args0:[{type:"input_value",name:"BOOL",check:a("BooleanExpr")}],output:"BooleanExpr",colour:g,tooltip:n.Msg.LOGIC_NEGATE_TOOLTIP,helpUrl:n.Msg.LOGIC_NEGATE_HELPURL})}}),i.block("sparql_logic_boolean",{init:function(){var e=[[n.Msg.LOGIC_BOOLEAN_TRUE,"TRUE"],[n.Msg.LOGIC_BOOLEAN_FALSE,"FALSE"]];this.setHelpUrl(n.Msg.LOGIC_BOOLEAN_HELPURL),this.setColour(g),this.setOutput(!0,"LiteralBoolean"),this.appendDummyInput().appendField(new n.FieldDropdown(e),"BOOL"),this.setTooltip(s.LOGIC_BOOLEAN_TOOLTIP)}}),i.block("sparql_logic_null",{init:function(){this.setHelpUrl(n.Msg.LOGIC_NULL_HELPURL),this.setColour(g),this.setOutput(!0),this.appendDummyInput().appendField(n.Msg.LOGIC_NULL),this.setTooltip(n.Msg.LOGIC_NULL_TOOLTIP)}}),i.block("sparql_logic_ternary",{init:function(){this.setHelpUrl(n.Msg.LOGIC_TERNARY_HELPURL),this.setColour(g),this.appendValueInput("IF").setCheck(a("BooleanExpr")).appendField(n.Msg.LOGIC_TERNARY_CONDITION),this.appendValueInput("THEN").appendField(n.Msg.LOGIC_TERNARY_IF_TRUE),this.appendValueInput("ELSE").appendField(n.Msg.LOGIC_TERNARY_IF_FALSE),this.setOutput(!0,"Expr"),this.setTooltip(n.Msg.LOGIC_TERNARY_TOOLTIP),this.prevParentConnection_=null},onchange:function(){if(this.workspace){var e=this.getInputTargetBlock("THEN"),t=this.getInputTargetBlock("ELSE"),o=this.outputConnection.targetConnection;if((e||t)&&o)for(var n=0;2>n;n++){var r=1==n?e:t;r&&!r.outputConnection.checkType_(o)&&(o===this.prevParentConnection_?(this.setParent(null),o.sourceBlock_.bumpNeighbours_()):(r.setParent(null),r.bumpNeighbours_()))}this.prevParentConnection_=o}}}),i.block("sparql_exists",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#neg-exists"),this.setColour(g),this.setOutput(!0,"BooleanExpr"),this.appendStatementInput("OP").setCheck("TriplesBlock").appendField("exists"),this.setTooltip(s.EXISTS_TOOLTIP)}}),i.block("sparql_not_exists",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#neg-notexists"),this.setColour(g),this.setOutput(!0,"BooleanExpr"),this.appendStatementInput("OP").setCheck("TriplesBlock").appendField("not exists"),this.setTooltip(s.NOT_EXISTS_TOOLTIP)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/blocks.js":248,"../core/msg.js":255,"../core/types.js":259,blockly:271}],240:[function(e,t,o){(function(t){"use strict";var o=("undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,e("blockly")),n=e("../core/types.js"),r=e("../core/blocks.js"),i=e("../core/msg.js"),s=n.getExtension,a=230;r.block("sparql_math_number",{init:function(){this.setHelpUrl(o.Msg.MATH_NUMBER_HELPURL),this.setColour(a),this.appendDummyInput().appendField(new o.FieldTextInput("0",o.FieldTextInput.numberValidator),"NUM"),this.setOutput(!0,"LiteralNumber"),this.setTooltip(i.MATH_NUMBER_TOOLTIP)}}),r.block("sparql_math_arithmetic",{init:function(){var e=[[o.Msg.MATH_ADDITION_SYMBOL,"ADD"],[o.Msg.MATH_SUBTRACTION_SYMBOL,"MINUS"],[o.Msg.MATH_MULTIPLICATION_SYMBOL,"MULTIPLY"],[o.Msg.MATH_DIVISION_SYMBOL,"DIVIDE"]];this.setHelpUrl(o.Msg.MATH_ARITHMETIC_HELPURL),this.setColour(a),this.setOutput(!0,"NumberExpr"),this.appendValueInput("A").setCheck(s("NumberExpr")),this.appendValueInput("B").setCheck(s("NumberExpr")).appendField(new o.FieldDropdown(e),"OP"),this.setInputsInline(!0);var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP"),n={ADD:o.Msg.MATH_ARITHMETIC_TOOLTIP_ADD,MINUS:o.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS,MULTIPLY:o.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY,DIVIDE:o.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE};return n[e]})}}),r.block("sparql_math_single",{init:function(){var e=[[o.Msg.MATH_SINGLE_OP_ABSOLUTE,"ABS"],["-","NEG"]];this.setHelpUrl(o.Msg.MATH_SINGLE_HELPURL),this.setColour(a),this.setOutput(!0,"NumberExpr"),this.appendValueInput("NUM").setCheck(s("NumberExpr")).appendField(new o.FieldDropdown(e),"OP");var t=this;this.setTooltip(function(){var e=t.getFieldValue("OP"),n={ABS:o.Msg.MATH_SINGLE_TOOLTIP_ABS,NEG:o.Msg.MATH_SINGLE_TOOLTIP_NEG};return n[e]})}}),r.block("sparql_math_number_property",{init:function(){var e=[[o.Msg.MATH_IS_EVEN,"EVEN"],[o.Msg.MATH_IS_ODD,"ODD"],[o.Msg.MATH_IS_PRIME,"PRIME"],[o.Msg.MATH_IS_WHOLE,"WHOLE"],[o.Msg.MATH_IS_POSITIVE,"POSITIVE"],[o.Msg.MATH_IS_NEGATIVE,"NEGATIVE"],[o.Msg.MATH_IS_DIVISIBLE_BY,"DIVISIBLE_BY"]];this.setColour(a),this.appendValueInput("NUMBER_TO_CHECK").setCheck(s("NumberExpr"));var t=new o.FieldDropdown(e,function(e){var t="DIVISIBLE_BY"==e;this.sourceBlock_.updateShape_(t)});this.appendDummyInput().appendField(t,"PROPERTY"),this.setInputsInline(!0),this.setOutput(!0,"BooleanExpr"),this.setTooltip(o.Msg.MATH_IS_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t="DIVISIBLE_BY"==this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",t),e},domToMutation:function(e){var t="true"==e.getAttribute("divisor_input");this.updateShape_(t)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck(s("NumberExpr")):t&&this.removeInput("DIVISOR")}}),r.block("sparql_math_round",{init:function(){var e=[[o.Msg.MATH_ROUND_OPERATOR_ROUND,"ROUND"],[o.Msg.MATH_ROUND_OPERATOR_ROUNDUP,"ROUNDUP"],[o.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN,"ROUNDDOWN"]];this.setHelpUrl(o.Msg.MATH_ROUND_HELPURL),this.setColour(a),this.setOutput(!0,"NumberExpr"),this.appendValueInput("NUM").setCheck(s("NumberExpr")).appendField(new o.FieldDropdown(e),"OP"),this.setTooltip(o.Msg.MATH_ROUND_TOOLTIP)}}),r.block("sparql_math_modulo",{init:function(){this.jsonInit({message0:o.Msg.MATH_MODULO_TITLE,args0:[{type:"input_value",name:"DIVIDEND",check:s("NumberExpr")},{type:"input_value",name:"DIVISOR",check:s("NumberExpr")}],inputsInline:!0,output:"NumberExpr",colour:a,tooltip:o.Msg.MATH_MODULO_TOOLTIP,helpUrl:o.Msg.MATH_MODULO_HELPURL})}}),r.block("sparql_math_constrain",{init:function(){this.jsonInit({message0:o.Msg.MATH_CONSTRAIN_TITLE,args0:[{type:"input_value",name:"VALUE",check:s("NumberExpr")},{type:"input_value",name:"LOW",check:s("NumberExpr")},{type:"input_value",name:"HIGH",check:s("NumberExpr")}],inputsInline:!0,output:"NumberExpr",colour:a,tooltip:o.Msg.MATH_CONSTRAIN_TOOLTIP,helpUrl:o.Msg.MATH_CONSTRAIN_HELPURL})}}),r.block("sparql_math_random_int",{init:function(){this.jsonInit({message0:o.Msg.MATH_RANDOM_INT_TITLE,args0:[{type:"input_value",name:"FROM",check:s("NumberExpr")},{type:"input_value",name:"TO",check:s("NumberExpr")}],inputsInline:!0,output:"NumberExpr",colour:a,tooltip:o.Msg.MATH_RANDOM_INT_TOOLTIP,helpUrl:o.Msg.MATH_RANDOM_INT_HELPURL})}}),r.block("sparql_math_random_float",{init:function(){this.setHelpUrl(o.Msg.MATH_RANDOM_FLOAT_HELPURL),this.setColour(a),this.setOutput(!0,"NumberExpr"),this.appendDummyInput().appendField(o.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM),this.setTooltip(o.Msg.MATH_RANDOM_FLOAT_TOOLTIP)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/blocks.js":248,"../core/msg.js":255,"../core/types.js":259,blockly:271}],241:[function(e,t,o){"use strict";var n=e("blockly"),r=e("../core/types"),i=r.getExtension,s=5,a=50,l=function(e,t,o){var r="ORDER_FIELD"+t,s="ORDER_LABEL"+t,a="ORDER_DIRECTION"+t,l=e.getFieldValue(a),g=e.getInput(r);g?(g.removeField(a),g.removeField(s)):(g=e.appendValueInput(r).setCheck(i("Expr")),e.moveInputBefore(r,"AFTER_ORDER"));var c=new n.FieldDropdown([["↓","ASC"],["↑","DESC"]]);l&&c.setValue(l),g.appendField(t>1?(t>2?", ":"")+(o?"and ":"")+"then by":"order by",s),g.appendField(c,a)};t.exports={init:function(){this.orderFieldCount_=1,this.appendDummyInput("AFTER_ORDER").appendField("& limit to first").appendField(new n.FieldTextInput(""+s,n.FieldTextInput.nonnegativeIntegerValidator),"LIMIT").appendField("rows"),l(this,this.orderFieldCount_,!0)},onchange:function(){var e=this.getFieldValue("LIMIT");e>a&&this.setFieldValue(""+a,"LIMIT");var t=this.getInput("ORDER_FIELD"+this.orderFieldCount_),o=t&&t.connection.targetConnection;if(o)this.orderFieldCount_>1&&l(this,this.orderFieldCount_,!1),this.orderFieldCount_++,l(this,this.orderFieldCount_,!0);else if(this.orderFieldCount_>1){for(;this.orderFieldCount_>1&&!this.getInput("ORDER_FIELD"+(this.orderFieldCount_-1)).connection.targetConnection;)this.removeInput("ORDER_FIELD"+this.orderFieldCount_),this.orderFieldCount_--;l(this,this.orderFieldCount_,!0)}},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("order_field_count",this.orderFieldCount_),e},domToMutation:function(e){this.orderFieldCount_=parseInt(e.getAttribute("order_field_count"),10);for(var t=2;t<=this.orderFieldCount_;t++){var o="ORDER_FIELD"+t,r="ORDER_LABEL"+t,s="ORDER_DIRECTION"+t,a=new n.FieldDropdown([["↓","ASC"],["↑","DESC"]]);this.appendValueInput(o).setCheck(i("Expr")).appendField((t>2?", ":"")+"and then by",r).appendField(a,s),this.moveInputBefore(o,"AFTER_ORDER")}}}},{"../core/types":259,blockly:271}],242:[function(e,t,o){(function(t){"use strict";var o=("undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,e("blockly")),n=e("../core/types.js"),r=e("../core/blocks.js"),i=e("../core/msg.js"),s=e("./order_fields.js"),a=e("../generators/sparql.js"),l=e("browser-filesaver"),g=n.getExtension;r.block("sparql_construct",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#construct"),this.setColour(290),this.appendDummyInput().appendField("CONSTRUCT"),this.appendStatementInput("CONSTRUCT").setCheck("ConstructTriples"),this.appendDummyInput().appendField("WHERE"),this.appendStatementInput("WHERE").setCheck("TriplesBlock"),this.setTooltip("")}}),r.block("sparql_select",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#select"),this.setColour(290),this.appendDummyInput().appendField("select all the variables"),this.appendStatementInput("WHERE").setCheck(g("GraphPattern")).appendField("where"),s.init.call(this),this.setInputsInline(!0),this.setPreviousStatement(!0,g("SelectQuery")),this.setTooltip(i.SELECT_TOOLTIP)},saveQueryAsSparql:function(){var e=a.blockToCode(this);if(e){var t=new Blob([e],{type:"application/sparql-query"});l.saveAs(t,"query.rq")}},customContextMenu:function(e){var t=this;r.insertOptionBeforeHelp(e,{text:"Save Query as SPARQL",enabled:!0,callback:function(){t.saveQueryAsSparql()}})},onchange:function(){var e=this.previousConnection.targetConnection;if(e){var t=e.check_;t&&-1!=t.indexOf("GraphPattern")?this.nextConnection||this.setNextStatement(!0,g("GraphPattern")):this.nextConnection&&this.setNextStatement(!1)}else this.nextConnection&&(this.nextConnection.targetConnection?this.setPreviousStatement(!0,"GraphPattern"):(this.setNextStatement(!1),this.setPreviousStatement(!0,"SelectQuery")));s.onchange.call(this)},mutationToDom:s.mutationToDom,domToMutation:s.domToMutation}),r.block("sparql_var_binding",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#selectExpressions"),this.setColour(330),this.appendValueInput("EXPR").setCheck(g("Expr")),this.appendDummyInput().appendField("as").appendField(new o.FieldTextInput("col name"),"COLNAME"),this.setInputsInline(!0),this.setPreviousStatement(!0,"VarBindings"),this.setNextStatement(!0,"VarBindings"),this.setTooltip("")}}),r.query={orderFields:s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/blocks.js":248,"../core/msg.js":255,"../core/types.js":259,"../generators/sparql.js":262,"./order_fields.js":241,blockly:271,"browser-filesaver":4}],243:[function(e,t,o){(function(t){"use strict";var o=("undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,e("blockly")),n=e("../core/types.js"),r=e("../core/blocks.js"),i=e("../core/msg.js");n.getExtension;r.block("sparql_prefixed_iri",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#prefNames"),this.setColour(20),this.appendDummyInput().appendField(new o.FieldTextInput(""),"PREFIX").appendField(":").appendField(new o.FieldTextInput(""),"LOCAL_NAME"),this.setInputsInline(!0),this.setOutput(!0,"Iri"),this.setTooltip(i.PREFIXED_IRI_TOOLTIP)}}),r.block("sparql_iri",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#QSynIRI"),this.setColour(20),this.appendDummyInput().appendField("<").appendField(new o.FieldTextInput(""),"IRI").appendField(">"),this.setInputsInline(!0),this.setOutput(!0,"Iri"),this.setTooltip(i.IRI_TOOLTIP)}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/blocks.js":248,"../core/msg.js":255,"../core/types.js":259,blockly:271}],244:[function(e,t,o){"use strict";var n=(e("blockly"),e("../core/types.js")),r=e("../core/blocks.js"),i=e("../core/field_table.js"),s=(e("../core/msg.js"),n.getExtension),a=330;r.block("sparql_smallTable",{init:function(){this.setColour(a),this.tableInput=this.appendDummyInput("TABLEINPUT").appendField("","TABLE"),this.setPreviousStatement(!0,s("Table"))},setData:function(e){this.setTable(new i(e))},setTable:function(e){this.tableInput.removeField("TABLE"),this.tableInput.appendField(e,"TABLE")}})},{"../core/blocks.js":248,"../core/field_table.js":250,"../core/msg.js":255,"../core/types.js":259,blockly:271}],245:[function(e,t,o){(function(t){"use strict";var n=("undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,e("blockly")),r=e("../core/types.js"),i=e("../core/blocks.js"),s=e("../core/workspaceActions.js"),a=(e("../core/storage.js"),e("../generators/sparql.js")),l=e("js-md5"),g=e("../core/messageDisplay.js"),c=(r.getExtension,330),u=null,h=function(){u||(u={})};o.getState=function(){return u};var d=function(e,t){t.setEditable(!1),e.isRightAnswer||(t.setTooltip("Looks like you have found the right answer!"),e.setTooltip("Looks like you have found the right answer!"),e.getInput("ANSWER").appendField("⭐"),e.appendDummyInput().appendField("⭐"),e.isRightAnswer=!0)};i.block("sparql_test",{init:function(){h(),this.setColour(c),this.setTooltip("1) Look for the right block and 2) Drop it in here");var e=new n.FieldLabel("");e.EDITABLE=!0,this.appendValueInput("ANSWER").appendField(e,"QUESTION"),this.setInputsInline(!0),this.currentAnswer=null,this.isRightAnswer=!1},onchange:function(){if(!(n.dragMode_||this.isRightAnswer&&this.getInputTargetBlock("ANSWER"))){var e=JSON.parse(this.data);if(e){if(e.id&&u[e.id]&&u[e.id].rightAnswer)return this.currentAnswer=u[e.id].rightAnswer,void s.execute(function(){var t=this.getInput("ANSWER").connection,o=t.targetBlock();o&&o.dispose();var r=n.Xml.textToDom(u[e.id].rightAnswerXML),i=n.Xml.domToBlock(r.firstChild,this.workspace);t.connect(i.outputConnection),d(this,i)},this);var t=a.valueToCode(this,"ANSWER",a.ORDER_NONE);if(t&&""!==t&&t!=this.currentAnswer){var o=this.getInputTargetBlock("ANSWER");if(l(t)===e.answerMD5){g.alert("⭐  Bingo! It is the right block!   ⭐","info"),u[e.id]||(u[e.id]={}),u[e.id].rightAnswer=t;var r=document.createElement("xml");r.appendChild(n.Xml.blockToDom(o)),u[e.id].rightAnswerXML=n.Xml.domToText(r),d(this,o)}else o.unplug(),g.alert("Sorry, wrong block. Try with another one...","error")}this.currentAnswer=t}}}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/blocks.js":248,"../core/messageDisplay.js":254,"../core/storage.js":257,"../core/types.js":259,"../core/workspaceActions.js":260,"../generators/sparql.js":262,blockly:271,"js-md5":233}],246:[function(e,t,o){(function(t){"use strict";var o="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,n=e("blockly"),r=e("../core/types.js"),i=e("../core/blocks.js"),s=e("../core/msg.js"),a=r.getExtension,l=160,g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",c="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",u=function(e,t){var o=t==e.RTL?c:g;return new n.FieldImage(o,12,12,'"')};i.block("sparql_text",{init:function(){this.setHelpUrl(n.Msg.TEXT_TEXT_HELPURL),this.setColour(l),this.appendDummyInput().appendField(u(this,!0)).appendField(new n.FieldTextInput(""),"TEXT").appendField(u(this,!1)),this.setOutput(!0,"LiteralString"),this.setTooltip(s.TEXT_TOOLTIP)}}),i.block("sparql_text_with_lang",{init:function(){this.setHelpUrl(n.Msg.TEXT_TEXT_HELPURL),this.setColour(l),this.appendDummyInput().appendField(u(this,!0)).appendField(new n.FieldTextInput(""),"TEXT").appendField(u(this,!1)).appendField("@").appendField(new n.FieldTextInput(""),"LANG"),this.setOutput(!0,"LiteralString"),this.setTooltip(s.TEXT_WITH_LANG_TOOLTIP)}}),i.block("sparql_text_with_type_pref",{init:function(){this.setHelpUrl(n.Msg.TEXT_TEXT_HELPURL),this.setColour(l),this.appendDummyInput().appendField(u(this,!0)).appendField(new n.FieldTextInput(""),"TEXT").appendField(u(this,!1)).appendField("^^").appendField(new n.FieldTextInput("prefix"),"DT_PREFIX").appendField(":").appendField(new n.FieldTextInput("localName"),"DT_LOCAL_NAME"),this.setOutput(!0,"LiteralString"),this.setTooltip(s.TEXT_WITH_TYPE_PREF_TOOLTIP)}}),i.block("sparql_text_with_type_iri",{init:function(){this.setHelpUrl(n.Msg.TEXT_TEXT_HELPURL),this.setColour(l),this.appendDummyInput().appendField(u(this,!0)).appendField(new n.FieldTextInput(""),"TEXT").appendField(u(this,!1)).appendField("^^").appendField("<").appendField(new n.FieldTextInput("iri"),"DT_IRI").appendField(">"),this.setOutput(!0,"LiteralString"),this.setTooltip(s.TEXT_WITH_TYPE_IRI_TOOLTIP)}}),i.block("sparql_text_join",{init:function(){this.setHelpUrl(n.Msg.TEXT_JOIN_HELPURL),this.setColour(l),this.itemCount_=2,this.updateShape_(),this.setOutput(!0,"StringExpr"),this.setMutator(new n.Mutator(["sparql_text_create_join_item"])),this.setTooltip(n.Msg.TEXT_JOIN_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation");return e.setAttribute("items",this.itemCount_),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},decompose:function(e){var t=n.Block.obtain(e,"sparql_text_create_join_container");t.initSvg();for(var o=t.getInput("STACK").connection,r=0;r<this.itemCount_;r++){var i=e.newBlock("sparql_text_create_join_item");i.initSvg(),o.connect(i.previousConnection),o=i.nextConnection}return t},compose:function(e){for(var t=e.getInputTargetBlock("STACK"),n=[],r=0;t;)n[r]=t.valueConnection_,t=t.nextConnection&&t.nextConnection.targetBlock(),r++;this.itemCount_=r,this.updateShape_(),o.each(n,function(e,t){e&&this.getInput("ADD"+t).connection.connect(e)},this)},saveConnections:function(e){for(var t=e.getInputTargetBlock("STACK"),o=0;t;){var n=this.getInput("ADD"+o);t.valueConnection_=n&&n.connection.targetConnection,o++,t=t.nextConnection&&t.nextConnection.targetBlock()}},updateShape_:function(){if(this.getInput("EMPTY"))this.removeInput("EMPTY");else for(var e=0;this.getInput("ADD"+e);)this.removeInput("ADD"+e),e++;0===this.itemCount_?this.appendDummyInput("EMPTY").appendField(u(this,!0)).appendField(u(this,!1)):o.each(o.range(this.itemCount_),function(e){var t=this.appendValueInput("ADD"+e);
0===e&&t.appendField(n.Msg.TEXT_JOIN_TITLE_CREATEWITH)},this)}}),i.block("sparql_text_create_join_container",{init:function(){this.setColour(l),this.appendDummyInput().appendField(n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN),this.appendStatementInput("STACK"),this.setTooltip(n.Msg.TEXT_CREATE_JOIN_TOOLTIP),this.contextMenu=!1}}),i.block("sparql_text_create_join_item",{init:function(){this.setColour(l),this.appendDummyInput().appendField(n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP),this.contextMenu=!1}}),i.block("sparql_text_append",{init:function(){this.setHelpUrl(n.Msg.TEXT_APPEND_HELPURL),this.setColour(l),this.appendValueInput("TEXT").appendField(n.Msg.TEXT_APPEND_TO).appendField(new n.FieldVariable(n.Msg.TEXT_APPEND_VARIABLE),"VAR").appendField(n.Msg.TEXT_APPEND_APPENDTEXT),this.setPreviousStatement(!0),this.setNextStatement(!0);var e=this;this.setTooltip(function(){return n.Msg.TEXT_APPEND_TOOLTIP.replace("%1",e.getFieldValue("VAR"))})},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(e,t){n.Names.equals(e,this.getFieldValue("VAR"))&&this.setFieldValue(t,"VAR")}}),i.block("sparql_text_length",{init:function(){this.jsonInit({message0:n.Msg.TEXT_LENGTH_TITLE,args0:[{type:"input_value",name:"VALUE",check:a("StringExpr")}],output:"NumberExpr",colour:l,tooltip:n.Msg.TEXT_LENGTH_TOOLTIP,helpUrl:n.Msg.TEXT_LENGTH_HELPURL})}}),i.block("sparql_text_isEmpty",{init:function(){this.jsonInit({message0:n.Msg.TEXT_ISEMPTY_TITLE,args0:[{type:"input_value",name:"VALUE",check:a("StringExpr")}],output:"BooleanExpr",colour:l,tooltip:n.Msg.TEXT_ISEMPTY_TOOLTIP,helpUrl:n.Msg.TEXT_ISEMPTY_HELPURL})}}),i.block("sparql_text_indexOf",{init:function(){var e=[[n.Msg.TEXT_INDEXOF_OPERATOR_FIRST,"FIRST"],[n.Msg.TEXT_INDEXOF_OPERATOR_LAST,"LAST"]];this.setHelpUrl(n.Msg.TEXT_INDEXOF_HELPURL),this.setColour(l),this.setOutput(!0,"NumberExpr"),this.appendValueInput("VALUE").setCheck(a("StringExpr")).appendField(n.Msg.TEXT_INDEXOF_INPUT_INTEXT),this.appendValueInput("FIND").setCheck(a("StringExpr")).appendField(new n.FieldDropdown(e),"END"),n.Msg.TEXT_INDEXOF_TAIL&&this.appendDummyInput().appendField(n.Msg.TEXT_INDEXOF_TAIL),this.setInputsInline(!0),this.setTooltip(n.Msg.TEXT_INDEXOF_TOOLTIP)}}),i.block("sparql_text_contains",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#func-contains"),this.setColour(l),this.setOutput(!0,"BooleanExpr"),this.appendValueInput("VALUE").setCheck(a("StringExpr")),this.appendValueInput("FIND").setCheck(a("StringExpr")).appendField("contains"),this.setInputsInline(!0),this.setTooltip("")}}),i.block("sparql_text_regex",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#func-regex"),this.setColour(l),this.setOutput(!0,"BooleanExpr"),this.appendValueInput("FIND").setCheck(a("StringExpr")).appendField("reg. exp."),this.appendValueInput("VALUE").setCheck(a("StringExpr")).appendField("is contained in"),this.setInputsInline(!0),this.setTooltip("")}}),i.block("sparql_text_lang",{init:function(){this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#func-lang"),this.setColour(l),this.setOutput(!0,"BooleanExpr"),this.appendValueInput("VALUE").setCheck(a("StringExpr")).appendField("language of"),this.appendValueInput("LANG").setCheck(a("StringExpr")).appendField("is"),this.setInputsInline(!0),this.setTooltip("")}}),i.block("sparql_text_charAt",{init:function(){this.WHERE_OPTIONS=[[n.Msg.TEXT_CHARAT_FROM_START,"FROM_START"],[n.Msg.TEXT_CHARAT_FROM_END,"FROM_END"],[n.Msg.TEXT_CHARAT_FIRST,"FIRST"],[n.Msg.TEXT_CHARAT_LAST,"LAST"],[n.Msg.TEXT_CHARAT_RANDOM,"RANDOM"]],this.setHelpUrl(n.Msg.TEXT_CHARAT_HELPURL),this.setColour(l),this.setOutput(!0,"StringExpr"),this.appendValueInput("VALUE").setCheck(a("StringExpr")).appendField(n.Msg.TEXT_CHARAT_INPUT_INTEXT),this.appendDummyInput("AT"),this.setInputsInline(!0),this.updateAt_(!0),this.setTooltip(n.Msg.TEXT_CHARAT_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT").type==n.INPUT_VALUE;return e.setAttribute("at",t),e},domToMutation:function(e){var t="false"!=e.getAttribute("at");this.updateAt_(t)},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck(a("NumberExpr")),n.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(n.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"),n.Msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(n.Msg.TEXT_CHARAT_TAIL));var t=new n.FieldDropdown(this.WHERE_OPTIONS,function(t){var o="FROM_START"==t||"FROM_END"==t;if(o!=e){var n=this.sourceBlock_;return n.updateAt_(o),n.setFieldValue(t,"WHERE"),null}});this.getInput("AT").appendField(t,"WHERE")}}),i.block("sparql_text_getSubstring",{init:function(){this.WHERE_OPTIONS_1=[[n.Msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[n.Msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[n.Msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[n.Msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[n.Msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[n.Msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(n.Msg.TEXT_GET_SUBSTRING_HELPURL),this.setColour(l),this.appendValueInput("STRING").setCheck(a("StringExpr")).appendField(n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),n.Msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(n.Msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"StringExpr"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(n.Msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=document.createElement("mutation"),t=this.getInput("AT1").type==n.INPUT_VALUE;e.setAttribute("at1",t);var o=this.getInput("AT2").type==n.INPUT_VALUE;return e.setAttribute("at2",o),e},domToMutation:function(e){var t="true"==e.getAttribute("at1"),o="true"==e.getAttribute("at2");this.updateAt_(1,t),this.updateAt_(2,o)},updateAt_:function(e,t){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),t?(this.appendValueInput("AT"+e).setCheck(a("NumberExpr")),n.Msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(n.Msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2==e&&n.Msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(n.Msg.TEXT_GET_SUBSTRING_TAIL));var o=new n.FieldDropdown(this["WHERE_OPTIONS_"+e],function(o){var n="FROM_START"==o||"FROM_END"==o;if(n!=t){var r=this.sourceBlock_;return r.updateAt_(e,n),r.setFieldValue(o,"WHERE"+e),null}});this.getInput("AT"+e).appendField(o,"WHERE"+e),1==e&&this.moveInputBefore("AT1","AT2")}}),i.block("sparql_text_changeCase",{init:function(){var e=[[n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(n.Msg.TEXT_CHANGECASE_HELPURL),this.setColour(l),this.appendValueInput("TEXT").setCheck(a("StringExpr")).appendField(new n.FieldDropdown(e),"CASE"),this.setOutput(!0,"StringExpr"),this.setTooltip(n.Msg.TEXT_CHANGECASE_TOOLTIP)}}),i.block("sparql_text_trim",{init:function(){var e=[[n.Msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[n.Msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[n.Msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(n.Msg.TEXT_TRIM_HELPURL),this.setColour(l),this.appendValueInput("TEXT").setCheck(a("StringExpr")).appendField(new n.FieldDropdown(e),"MODE"),this.setOutput(!0,"StringExpr"),this.setTooltip(n.Msg.TEXT_TRIM_TOOLTIP)}}),i.block("sparql_hash",{init:function(){var e=[["MD5","MD5"],["SHA1","SHA1"],["SHA256","SHA256"],["SHA384","SHA384"],["SHA512","SHA512"]];this.setHelpUrl("http://www.w3.org/TR/sparql11-query/#func-hash"),this.setColour(l),this.appendValueInput("TEXT").setCheck(a("StringExprOrLiteral")).appendField(new n.FieldDropdown(e),"TYPE").appendField("hash of"),this.setOutput(!0,"StringExpr")}})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/blocks.js":248,"../core/msg.js":255,"../core/types.js":259,blockly:271}],247:[function(e,t,o){(function(t){"use strict";var o=("undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,e("blockly")),n=(e("../core/types.js"),e("../core/blocks.js")),r=(e("../core/msg.js"),330);n.block("sparql_variable",{init:function(){this.setHelpUrl(o.Msg.VARIABLES_GET_HELPURL),this.setColour(r),this.appendDummyInput().appendField(new o.FieldVariable,"VAR"),this.setOutput(!0,"Var"),this.setTooltip("")},getVars:function(){return[this.getFieldValue("VAR")]},renameVar:function(e,t){o.Names.equals(e,this.getFieldValue("VAR"))&&this.setFieldValue(t,"VAR")}}),o.Blocks.variables_get=o.Blocks.sparql_variable,o.Blocks.variables_set=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../core/blocks.js":248,"../core/msg.js":255,"../core/types.js":259,blockly:271}],248:[function(e,t,o){"use strict";var n=e("blockly"),r=function(e){return function(){e.call(this)}},i=function(e){return function(t){e&&e.call(this,t)}},s=function(e,t){t.customContextMenu=i(t.customContextMenu),t.init=r(t.init),n.Blocks[e]=t},a=function(e,t){var o=e.pop(),n=o&&"Help"==o.text;!n&&o&&e.push(o),e.push(t),n&&e.push(o)};t.exports={block:s,insertOptionBeforeHelp:a}},{blockly:271}],249:[function(e,t,o){(function(o){"use strict";var n=e("../generators/sparql.js"),r=e("blockly"),i=e("./workspaceActions.js"),s=e("./msg.js"),a=e("./field_table.js"),l="undefined"!=typeof window?window.$:"undefined"!=typeof o?o.$:null,g=e("./messageDisplay.js"),c=function(e,t,o){var n=e+"?query="+encodeURIComponent(t);return l.ajax({headers:{Accept:"application/sparql-results+json"},dataType:"json",method:"GET",url:n}).done(function(e){o(null,e)}).fail(function(e,t,n){o({jqXHR:e,textStatus:t,errorThrown:n})})},u=function(e,t){return c(e,t,function(e,t){e?g.alert("Error: "+e):g.alert("Results:\n"+JSON.stringify(t))})},h=40,d=function(e,t){i.execute(function(){e.removeField("RESULTS_CONTAINER"),e.appendField(t,"RESULTS_CONTAINER")})},p=function(e,t,o,n,i){return d(n,s.EXECUTION_IN_PROGRESS),c(e,t,function(e,t){var o=null;if(e){var l=e.jqXHR.responseText;if(l){var g=null;g=l.length>h?l.substr(0,h-3)+"...":l,o=new r.FieldTextInput(g),o.setTooltip(l)}else o=s.EXECUTION_CONNECTION_ERROR}else o=new a(t);d(n,o),i(t)})},f=function(e,t,o){if(o||(o=e.getInput("RESULTS")),o){var n=e.getFieldValue("ENDPOINT"),r=n?encodeURI(n):null;r==e.endpointUri&&t==e.sparqlQueryStr||(e.endpointUri=r,e.sparqlQueryStr=t,e.queryReq&&e.queryReq.abort(),t&&r?(e.resultsData=null,e.queryReq=p(r,t,e.workspace,o,function(t){e.queryReq=null,e.resultsData=t})):(e.resultsData=null,d(o,s.EXECUTION_PLACEHOLDER),e.queryReq=null))}},y=function(e,t,o){t||(t=e.getInputTargetBlock("QUERY"));var r=n.sparqlQuery(t);f(e,r,o)};t.exports={sparqlExecAndPublish:p,sparqlExecAndAlert:u,sparqlExec:c,blockExec:y,blockExecQuery:f}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../generators/sparql.js":262,"./field_table.js":250,"./messageDisplay.js":254,"./msg.js":255,"./workspaceActions.js":260,blockly:271}],250:[function(e,t,o){"use strict";var n=e("blockly"),r=e("./jsonToBlocks.js"),i=function(e,t){i.constructor.call(this,""),this.setValidator(t),this.width_=0,this.height_=0,this.size_={width:this.width_,height:this.height_},this.data_=e,this.flyout_=new n.Flyout({}),this.flyout_.autoClose=!1;var o=this;this.flyout_.createBlockFunc_=function(e){return i.prototype.createBlockFunc_.call(o,e)}};i.prototype=Object.create(n.Field.prototype),i.prototype.constructor=i,i.prototype.EDITABLE=!1,i.prototype.setEventBindingsForBlock_=function(e){var t=e.getSvgRoot(),o=n.createSvgElement("rect",{"fill-opacity":0},null);this.flyout_.workspace_.getCanvas().insertBefore(o,t),e.flyoutRect_=o;var r=this.flyout_.listeners_;r.push(n.bindEvent_(t,"mousedown",null,this.flyout_.blockMouseDown_(e))),r.push(n.bindEvent_(t,"mouseover",e,e.addSelect)),r.push(n.bindEvent_(t,"mouseout",e,e.removeSelect)),r.push(n.bindEvent_(o,"mousedown",null,this.createBlockFunc_(e))),r.push(n.bindEvent_(o,"mouseover",e,e.addSelect)),r.push(n.bindEvent_(o,"mouseout",e,e.removeSelect))},i.prototype.setEventBindings_=function(e,t,o){var r=this;e.forEach(function(e){var o=t[e];r.setEventBindingsForBlock_(o)}),o.forEach(function(t){e.forEach(function(e){var o=t[e];r.setEventBindingsForBlock_(o)})});var i=function(e){for(var t=this.workspace_.getTopBlocks(!1),o=0;o<t.length;o++)t[o].removeSelect()};this.flyout_.listeners_.push(n.bindEvent_(this.flyout_.svgBackground_,"mouseover",this.flyout_,i))},i.prototype.init=function(){if(!this.rootElement_){var e=this.sourceBlock_;this.rootElement_=n.createSvgElement("g",{"class":"field_table"},e.getSvgRoot()),this.visible_||(this.rootElement_.style.display="none");var t=this.flyout_.createDom();t.setAttribute("transform","translate("+i.translateX_+","+i.translateY_+")"),this.rootElement_.appendChild(t),this.flyout_.targetWorkspace_=e.workspace;var o=this.flyout_.workspace_;o.targetWorkspace=e.workspace;var s=this.data_.head;if(s){var a=this.data_.head.vars;if(a){var l=this.varBlocks_={};a.forEach(function(e){var t=r.blockFromVar(e,o);l[e]=t}),this.blockRows_=[];var g=this.data_.results&&this.data_.results.bindings;g&&(this.blockRows_=g.map(function(e,t){var n={};return a.forEach(function(t){var i=e[t];if(i){var s=r.blockFromValue(i,o);n[t]=s}}),n}))}}}},i.prototype.render_=function(){var e=this.data_.head.vars;this.renderCompute_(e,this.varBlocks_,this.blockRows_),this.setEventBindings_(e,this.varBlocks_,this.blockRows_)},i.prototype.getSize=function(){return this.size_.width||this.render_(),this.size_},i.translateX_=-13,i.translateY_=-4,i.prototype.marginX_=0,i.prototype.marginY_=6,i.prototype.cellSepX_=4,i.prototype.cellSepY_=4,i.prototype.renderCompute_=function(e,t,o){var n=this,r=2*this.marginX_,i=2*this.marginY_,s={},a=[0];e.forEach(function(e){var o=t[e];o.render();var n=o.getHeightWidth();n.height>a[0]&&(a[0]=n.height),s[e]=n.width}),i+=a[0],o.forEach(function(t,o){a[o+1]=0;e.forEach(function(e){var n=t[e];if(n){n.render();var r=n.getHeightWidth();r.width>s[e]&&(s[e]=r.width),r.height>a[o+1]&&(a[o+1]=r.height)}}),i+=a[o+1]+n.cellSepY_}),e.forEach(function(e,t){r+=s[e]+(t>0?n.cellSepX_:0)}),this.width_=r,this.height_=i,this.size_={width:this.width_,height:this.height_},this.position_(e,t,o,s,a)},i.prototype.positionBlock_=function(e,t,o){e.moveBy(n.BlockSvg.TAB_HEIGHT+t,o)},i.prototype.position_=function(e,t,o,n,r){var i=this.marginX_,s=this.marginY_,a=this;e.forEach(function(e,o){var r=t[e];a.positionBlock_(r,i,s),i+=n[e]+a.cellSepX_}),o.forEach(function(t,o){var i=a.marginX_;s+=r[o]+a.cellSepY_,e.forEach(function(e,o){var r=t[e];a.positionBlock_(r,i,s),i+=n[e]+a.cellSepX_})})},i.prototype.dispose=function(){this.flyout_.dispose(),this.rootElement_.parentNode.removeChild(this.rootElement_),this.rootElement_=null},i.prototype.getSvgRoot=function(){return this.rootElement_},i.prototype.setTooltip=function(e){this.rootElement_.tooltip=e},i.prototype.createBlockFunc_=function(e){var t=this.sourceBlock_,o=this.getSvgRoot(),r=this.flyout_,s=this.flyout_.targetWorkspace_;return function(a){if(!n.isRightButton(a)&&!e.disabled){n.Events.disable();var l=n.Xml.blockToDom(e),g=n.Xml.domToBlock(l,s),c=e.getSvgRoot();if(!c)throw"originBlock is not rendered.";var u=t.getRelativeToSurfaceXY(),h=n.getRelativeXY_(o),d=e.getRelativeToSurfaceXY();g.moveBy(d.x+u.x+h.x+i.translateX_,d.y+u.y+h.y+i.translateY_),n.Events.enable(),n.Events.isEnabled()&&(n.Events.setGroup(!0),n.Events.fire(new n.Events.Create(g))),r.autoClose?r.hide():r.filterForCapacity_(),g.onMouseDown_(a),n.dragMode_=n.DRAG_FREE,g.setDragging_(!0)}}},t.exports=i},{"./jsonToBlocks.js":252,blockly:271}],251:[function(e,t,o){(function(o){"use strict";var n=e("blockly"),r=e("./lib-dialogs.js"),i="undefined"!=typeof window?window._:"undefined"!=typeof o?o._:null,s="undefined"!=typeof window?window.$:"undefined"!=typeof o?o.$:null,a=function(e){var t=[],o=[],r=function(e){return t.push(e),e},i=function(e){var o=t.indexOf(e);-1!=o&&t.splice(o,1)},s=function(e){for(var o=0;o<t.length;o++)t[o](e)},a=function(){if(!n.dragMode_)for(;o.length;)s(o.shift())};return e.addChangeListener(function(e){if(e.type!=n.Events.MOVE||e.newParentId||e.oldParentId){for(var t=!0,r=[],i=o.length-1;i>=0;i--){var s=o[i];if(s.blockId==e.blockId){if(e.type==n.Events.MOVE){s.type==n.Events.MOVE&&e.oldParentId==s.newParentId&&e.oldInputName==s.newInputName&&(s.newParentId=e.newParentId,s.newInputName=e.newInputName,s.oldParentId||s.newParentId||o.splice(i,1),t=!1);break}if(e.type==n.Events.DELETE){if(s.type==n.Events.CREATE){r.push(i);for(var l=0;l<r.length;l++)o.splice(r[l]-l,1);t=!1;break}r.push(i)}else if(e.type==n.Events.CHANGE&&s.type==n.Events.CHANGE&&s.element==e.element&&s.name==e.name&&s.newValue==e.oldValue){s.newValue=e.newValue,t=!1;break}}}t&&o.push(e)}setTimeout(a,100)}),{addChangeListener:r,removeChangeListener:i}},l={top:"inherit",left:"inherit",bottom:"inherit",width:"inherit",right:"inherit"},g={width:"75%",bottom:"inherit",left:"15%",top:"5%"},c=function(e){for(var t=e.getElementsByClassName("blockly-readOnly"),o=0;o<t.length;o++){var r=t[o],s=r.innerHTML,a=r.getAttribute("blockly-zoom");r.innerHTML="";var l=n.inject(r,i.extend({readOnly:!0},a?{zoom:{controls:!1,wheel:!1,startScale:a}}:{}));n.Xml.domToWorkspace(n.Xml.textToDom("<xml>"+s+"</xml>"),l)}},u=function(e){s(".blocklydialogs-ok").click(function(){r.hideDialog(!0)})},h=function(e,t){t=i.extend({startStateId:0},t);var o=a(e),n=t.stateList;if(n&&n.length){var s={},h=t.startStateId-1,d=function(){h++;var t=n[h];if(t){var a=t.dialog?document.getElementById(t.dialog):null;if(a&&(c(a),u(a)),t["do"]&&t["do"](s),a&&r.showDialog(a,t.useFocus?s.focus:null,!1,t.modal,i.extend({},t.modal?g:l,t.style?t.style:{}),function(){setTimeout(d)}),t.stepWhen)var p=o.addChangeListener(function(n){t.stepWhen(i.extend({workspace:e,block:e.getBlockById(n.blockId)},n,n.newParentId?{newParent:e.getBlockById(n.newParentId)}:{},n.oldParentId?{oldParent:e.getBlockById(n.oldParentId)}:{}),s)&&setTimeout(function(){o.removeChangeListener(p),r.hideDialog()})})}};return d(),{getStateId:function(){return h}}}},d=function(e,t){if(t.type)if(i.isArray(t.type)){if(-1===i.indexOf(t.type,e.type))return!1}else if(t.type!==e.type)return!1;for(var o=i.keys(t),n=0;n<o.length;n++){var r=o[n];if("type"!==r){var s=t[r];if(i.isArray(s)){var a=e.getInputTargetBlock(r);for(s=s.slice();a;a=a.getNextBlock()){for(var l=!1,g=0;g<s.length;g++){var c=s[g];if(d(a,c)){l=!0,s.splice(g,1);break}}if(!l)return!1}if(s.length>0)return!1}else if(i.isObject(s)){var u=e.getInputTargetBlock(r);if(!u||!d(u,s))return!1}else if(i.isNull(s)){if(e.getInputTargetBlock(r))return!1}else{var h=e.getFieldValue(r);if(s!==h)return!1}}}return!0},p=function(e,t){for(var o=e.getTopBlocks(),n=0;n<o.length;n++){var r=o[n];if(d(r,t))return r}return null};t.exports={track:h,check:p,replaceInLineBlockly:c,setOkButtons:u}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib-dialogs.js":253,blockly:271}],252:[function(e,t,o){"use strict";var n=e("./prefixes.js"),r=e("blockly"),i={},s=function(e){var t=i[e];return t||(t="http://www.w3.org/2001/XMLSchema#"+e,i[e]=t),t},a=function(e,t,o){var r=null;switch(t){case s("integer"):case s("decimal"):case s("float"):case s("double"):case s("byte"):case s("short"):case s("int"):case s("long"):case s("unsignedByte"):case s("unsignedShort"):case s("unsignedInt"):case s("unsignedLong"):case s("positiveInteger"):case s("nonNegativeInteger"):case s("negativeInteger"):case s("nonPositiveInteger"):r=o.newBlock("sparql_math_number"),r.initSvg(),r.setFieldValue(e,"NUM");break;case s("boolean"):r=o.newBlock("sparql_logic_boolean"),r.initSvg(),r.setFieldValue(e,"BOOL");break;default:var i=n.lookForIri(t);i?(r=o.newBlock("sparql_text_with_type_pref"),r.initSvg(),r.setFieldValue(e,"TEXT"),r.setFieldValue(i.prefix,"DT_PREFIX"),r.setFieldValue(i.localPart,"DT_LOCAL_NAME")):(r=o.newBlock("sparql_text_with_type_iri"),r.initSvg(),r.setFieldValue(e,"TEXT"),r.setFieldValue(t,"DT_IRI"))}return r},l=function(e,t){var o=null,n=e["xml:lang"];e.datatype;return n?(o=t.newBlock("sparql_text_with_lang"),o.initSvg(),o.setFieldValue(n,"LANG")):(o=t.newBlock("sparql_text"),o.initSvg()),o.setFieldValue(e.value,"TEXT"),o},g=function(e,t){var o=e.datatype;return o&&o!=s("string")&&o!=s("langString")?a(e.value,o,t):l(e,t)},c=function(e,t){var o=e.value,r=n.lookForIri(o);if(r){var i=t.newBlock("sparql_prefixed_iri");return i.initSvg(),i.setFieldValue(r.prefix,"PREFIX"),i.setFieldValue(r.localPart,"LOCAL_NAME"),i}var s=t.newBlock("sparql_iri");return s.initSvg(),s.setFieldValue(o,"IRI"),s},u=function(e,t){var o=e.value,n=t.newBlock("sparql_prefixed_iri");return n.initSvg(),n.setFieldValue("_","PREFIX"),n.setFieldValue(o,"LOCAL_NAME"),n},h=function(e,t){var o=null;if(e)switch(e.type){case"literal":case"typed-literal":o=g(e,t);break;case"uri":o=c(e,t);break;case"bnode":o=u(e,t)}return o},d=function(e,t){var o=t.newBlock("variables_get");return o.initSvg(),o.setFieldValue(e,"VAR"),o},p=function(e,t){var o=h(e,t);return y(o,t),o},f=function(e,t){var o=d(e,t);return y(o,t),o},y=function(e,t){if(e){e.setDeletable(!1),e.setMovable(!1),e.setEditable(!1);var o=null;e.tooltip="tooltip",e.tooltipHoverMs=1,e.showTooltip=function(){var n=r.Xml.blockToDom_(e);n.removeAttribute("editable"),n.removeAttribute("movable"),n.removeAttribute("deletable"),o=r.Xml.domToBlock(n,t),o.isInFlyout=!0,o.hideTooltip=function(){o&&o.dispose()},r.Tooltip.poisonedElement_=r.Tooltip.element_=o;var i=r.bindEvent_(o.getSvgRoot(),"mousedown",null,function(e){r.isRightButton(e)||o.disabled||(o.isInFlyout=!1,r.unbindEvent_(i),o.hideTooltip=null,r.Tooltip.hide(),o.onMouseDown_(e),o=null)}),s=e.getRelativeToSurfaceXY();o.moveBy(s.x,s.y),o.select()},e.hideTooltip=function(){o&&o.dispose()}}};t.exports={blockFromValue:h,blockFromVar:d,selfDuplicatingBlockFromValue:p,selfDuplicatingBlockFromVar:f}},{"./prefixes.js":256,blockly:271}],253:[function(e,t,o){(function(o){"use strict";var n=e("blockly"),r="undefined"!=typeof window?window.$:"undefined"!=typeof o?o.$:null,i={};i.isDialogVisible_=!1,i.dialogOrigin_=null,i.dialogDispose_=null,i.showDialog=function(e,t,o,r,s,a){function l(){i.isDialogVisible_&&(g.style.visibility="visible",g.style.zIndex=10,u.style.visibility="hidden")}i.isDialogVisible_&&i.hideDialog(!1),n.hideChaff(!0),i.isDialogVisible_=!0,i.dialogOrigin_=t,i.dialogDispose_=a;var g=document.getElementById("dialog"),c=document.getElementById("dialogShadow"),u=document.getElementById("dialogBorder");for(var h in s)g.style[h]=s[h];if(r){c.style.visibility="visible",c.style.opacity=.3,c.style.zIndex=9;var d=document.createElement("div");d.id="dialogHeader",g.appendChild(d),i.dialogMouseDownWrapper_=n.bindEvent_(d,"mousedown",null,i.dialogMouseDown_)}g.appendChild(e),e.className=e.className.replace("dialogHiddenContent",""),o&&t?(i.matchBorder_(t,!1,.2),i.matchBorder_(g,!0,.8),setTimeout(l,175)):l()},i.dialogStartX_=0,i.dialogStartY_=0,i.dialogMouseDown_=function(e){if(i.dialogUnbindDragEvents_(),!n.isRightButton(e)){var t=document.getElementById("dialog");i.dialogStartX_=t.offsetLeft-e.clientX,i.dialogStartY_=t.offsetTop-e.clientY,i.dialogMouseUpWrapper_=n.bindEvent_(document,"mouseup",null,i.dialogUnbindDragEvents_),i.dialogMouseMoveWrapper_=n.bindEvent_(document,"mousemove",null,i.dialogMouseMove_),e.stopPropagation()}},i.dialogMouseMove_=function(e){var t=document.getElementById("dialog"),o=i.dialogStartX_+e.clientX,n=i.dialogStartY_+e.clientY;n=Math.max(n,0),n=Math.min(n,window.innerHeight-t.offsetHeight),o=Math.max(o,0),o=Math.min(o,window.innerWidth-t.offsetWidth),t.style.left=o+"px",t.style.top=n+"px"},i.dialogUnbindDragEvents_=function(){i.dialogMouseUpWrapper_&&(n.unbindEvent_(i.dialogMouseUpWrapper_),i.dialogMouseUpWrapper_=null),i.dialogMouseMoveWrapper_&&(n.unbindEvent_(i.dialogMouseMoveWrapper_),i.dialogMouseMoveWrapper_=null)},i.hideDialog=function(e){function t(){s.style.zIndex=-1,s.style.visibility="hidden";var e=document.getElementById("dialogBorder");e.style.visibility="hidden"}if(i.isDialogVisible_){i.dialogUnbindDragEvents_(),i.dialogMouseDownWrapper_&&(n.unbindEvent_(i.dialogMouseDownWrapper_),i.dialogMouseDownWrapper_=null),i.isDialogVisible_=!1,i.dialogDispose_&&i.dialogDispose_(),i.dialogDispose_=null;var o=e===!1?null:i.dialogOrigin_,r=document.getElementById("dialog"),s=document.getElementById("dialogShadow");s.style.opacity=0,o?(i.matchBorder_(r,!1,.8),i.matchBorder_(o,!0,.2),setTimeout(t,175)):t(),r.style.visibility="hidden",r.style.zIndex=-1;var a=document.getElementById("dialogHeader");for(a&&a.parentNode.removeChild(a);r.firstChild;){var l=r.firstChild;l.className+=" dialogHiddenContent",document.body.appendChild(l)}}},i.matchBorder_=function(e,t,o){function n(){r.style.width=s.width+"px",r.style.height=s.height+"px",r.style.left=s.x+"px",r.style.top=s.y+"px",r.style.opacity=o}if(e){var r=document.getElementById("dialogBorder"),s=i.getBBox_(e);t?(r.className="dialogAnimate",setTimeout(n,1)):(r.className="",n()),r.style.visibility="visible"}},i.getBBox_=function(e){var t=r(e).offset(),o={x:t.left,y:t.top};if(e.getBBox){var n=e.getBBox();o.height=n.height,o.width=n.width}else o.height=e.offsetHeight,o.width=e.offsetWidth;return o},i.storageAlert=function(e){var t=document.getElementById("containerStorage");t.textContent="";for(var o=e.split("\n"),n=0;n<o.length;n++){var r=document.createElement("p");r.appendChild(document.createTextNode(o[n])),t.appendChild(r)}var s=document.getElementById("dialogStorage"),a=document.getElementById("linkButton"),l={width:"50%",left:"25%",top:"5em"};i.showDialog(s,a,!0,!0,l,i.stopDialogKeyDown),i.startDialogKeyDown()},i.dialogKeyDown_=function(e){i.isDialogVisible_&&(13!=e.keyCode&&27!=e.keyCode&&32!=e.keyCode||(i.hideDialog(!0),e.stopPropagation(),e.preventDefault()))},i.startDialogKeyDown=function(){document.body.addEventListener("keydown",i.dialogKeyDown_,!0)},i.stopDialogKeyDown=function(){document.body.removeEventListener("keydown",i.dialogKeyDown_,!0)},t.exports=i}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{blockly:271}],254:[function(e,t,o){(function(e){"use strict";var o="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,n=function(e,t,n){var r=0,i="flash-"+("info"==t?"alert":t),s=o(".flash-messages .flash")[0];s&&s.parentElement.removeChild(s),o(".flash-messages").prepend('<div class="flash '+i+'">'+e+"</div>");var a=o(".flash-messages .flash")[0];if(r>0&&window.setTimeout(function(){a&&a.parentElement&&a.parentElement.removeChild(a)},r),"alert"!=t){var l=function(e){a&&a.parentElement&&a.parentElement.removeChild(a),window.removeEventListener("click",l)};window.setTimeout(function(){window.addEventListener("click",l)},0)}return a},r=function(){for(var e=o(".flash-messages .flash"),t=0;t<e.length;t++){var n=e[t];n.parentElement.removeChild(n)}};t.exports={alert:n,clearAlert:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],255:[function(e,t,o){t.exports=e("../../resources/msg/json/en.json")},{"../../resources/msg/json/en.json":235}],256:[function(e,t,o){(function(e){"use strict";var o="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null,n=null,r={},i=function(e){return n[e]},s=function(e){var t=r[e];if(t)return{prefix:t,localPart:""};var o=null,n=e.substr(0,e.length-1),i=n.lastIndexOf("#");if(i>-1?o=e.substr(0,i+1):(i=n.lastIndexOf("/"),i>-1&&(o=e.substr(0,i+1))),!o)return null;var a=s(o);return a?{prefix:a.prefix,localPart:a.localPart+e.substr(i+1)}:void 0};o.getJSON("json/prefix.cc.json",function(e){n=e,Object.keys(e).forEach(function(t){r[e[t]]||(r[e[t]]=t)})}),t.exports={lookForPrefix:i,lookForIri:s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],257:[function(e,t,o){(function(o){"use strict";var n=e("blockly"),r="undefined"!=typeof window?window.$:"undefined"!=typeof o?o.$:null,i="undefined"!=typeof window?window._:"undefined"!=typeof o?o._:null,s=e("../blocks/test.js"),a=e("../../package.json"),l=e("clipboard"),g=e("./messageDisplay.js"),c="Share your blocks with this link:\n\n%1\n\nSee also XML on GitHub at this link:\n\n%2",u='Sorry, "%1" doesn\'t correspond with any saved Blockly file.',h="Could not load your saved file.\nPerhaps it was created with a different version of Blockly?",d=function(e){if("localStorage"in window){var t=n.Xml.workspaceToDom(e),o=window.location.href.split("#")[0];window.localStorage.setItem(o,n.Xml.domToText(t))}},p=function(e){var t=e||n.getMainWorkspace();window.addEventListener("unload",function(){d(t)},!1)},f=function(e){var t=window.location.href.split("#")[0];if("localStorage"in window&&window.localStorage[t]){var o=e||n.getMainWorkspace(),r=n.Xml.textToDom(window.localStorage[t]);n.Xml.domToWorkspace(r,o)}},y=function(e,t){g.alert("Saving Workspace as Gist on GitHub...");var o=e||n.getMainWorkspace(),l=n.Xml.workspaceToDom(o),c=n.Xml.domToPrettyText(l),u=s&&s.getState(),h=i.extend({generator:"SparqlBlocks",version:a.version,baseURI:location.href,timestamp:r.now(),workspaceXmlFile:"workspace.xml"},u?{testStateFile:"testState.json"}:{},o.trackingGuide?{guideActive:!0,guideStep:o.trackingGuide.getStateId()}:{guideActive:!1});S({dataType:"json",method:"POST",data:JSON.stringify({files:i.extend({"metaData.json":{content:JSON.stringify(h)},"workspace.xml":{content:c}},o.eventStack?{"eventHistory.json":{content:JSON.stringify(o.eventStack)}}:{},u?{"testState.json":{content:JSON.stringify(u)}}:{})}),url:"https://api.github.com/gists",success:function(e){window.location.hash="gist:"+e.id,o.eventStack=[{workspaceId:o.id,timestamp:r.now(),group:"",xml:{},type:"snapshot",value:"gist:"+e.id}],k(o),g.alert('Workspace Saved. <button class="main-button btn" title="Copy Link to Clipboard" id="temp-copy-button" type="button"><span class="octicon octicon-clippy"></span> Copy Link to Share It</button>',"info"),_("#temp-copy-button"),t&&t(null,e.id)},error:function(e,o,n){var r=e.responseText;r||(r="Connection Error!"),g.alert("Error Saving Workspace: "+r,"error"),t&&t(n)}})},_=function(e){var t=new l(e,{text:function(e){return window.location.href}});t.on("success",function(e){g.alert("Link Copied to Clipboard. Share it!!!","info",e)}),t.on("error",function(e){g.alert("Could Not Copy! Please Copy it Manually from Address Bar","error")})},m=function(e){y(e,function(e,t){e&&g.alert(c.replace("%1",window.location.href).replace("%2","https://gist.github.com/"+t))})},b=function(e,t,o){r.ajax({dataType:"json",method:"GET",url:"https://api.github.com/gists/"+e,success:function(e){t(e.files["workspace.xml"].raw_url)},error:function(e,t,n){var r=e.responseText;r||(r="Connection Error!"),g.alert("Error Loading Workspace: "+r,"error"),window.location.hash="",k(o)}})},v=function(e,t,o){var n=e.split(":");switch(n[0]){case"gist":b(n[1],t,o)}},E=function(e,t,o){g.alert("Loading Saved Workspace...");var s=t||n.getMainWorkspace();v(e,function(t){S({headers:{Accept:"text/xml"},dataType:"text",method:"GET",url:t,success:function(t){t.length?C(t,s):g.alert(u.replace("%1",window.location.hash),"error"),g.alert("Workspace Loaded","info"),s.eventStack=[{workspaceId:s.id,timestamp:r.now(),group:"",xml:{},type:"snapshot",value:e}],k(s),i.isFunction(o)&&o()},error:function(e,t,n){var r=e.responseText;r||(r="Connection Error!"),g.alert("Error Loading Workspace: "+r,"error"),window.location.hash="",k(s),i.isFunction(o)&&o()}})},s)},T=null,S=function(e){T&&(T.abort(),T=null),T=r.ajax(e)},k=function(e){""!==window.location.hash&&r("#copy-button").prop("disabled",!1),
r("#save-button").prop("disabled",!0);var t=n.Xml.workspaceToDom(e),o=n.Xml.domToText(t),i=e.addChangeListener(function(t){var s=n.Xml.workspaceToDom(e),a=n.Xml.domToText(s);o!=a&&(window.location.hash="",r("#copy-button").prop("disabled",!0),r("#save-button").prop("disabled",!1),setTimeout(function(){e.removeChangeListener(i)}))})},C=function(e,t){try{e=n.Xml.textToDom(e)}catch(o){return void g.alert(h+"\nXML: "+e)}t.clear(),n.Xml.domToWorkspace(e,t)},B=function(e,t){var o=e||n.getMainWorkspace();window.location.hash.length>1?E(window.location.hash.substring(1),o,t):(k(o),i.isFunction(t)&&t())};t.exports={backupOnUnload:p,restoreBlocks:f,linkGist:y,linkGistAndAlert:m,retrieveXml:E,startup:B,setCopyOnThisButton:_}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../package.json":234,"../blocks/test.js":245,"./messageDisplay.js":254,blockly:271,clipboard:225}],258:[function(e,t,o){(function(o){"use strict";var n=e("blockly"),r="undefined"!=typeof window?window.$:"undefined"!=typeof o?o.$:null,i="undefined"!=typeof window?window._:"undefined"!=typeof o?o._:null,s=function(e,t){t=i.extend({sendEventXML:!0,sendWorkspaceXML:!1,sendMoveAroundEvents:!0,sendUIEvents:!0},t),e.addChangeListener(function(o){(t.sendMoveAroundEvents||o.type!=n.Events.MOVE||o.newParentId||o.oldParentId)&&(t.sendUIEvents||o.type!=n.Events.UI)&&(e.eventStack||(e.eventStack=[]),e.eventStack.push(i.extend({},o,{type:o.type,timestamp:r.now()},t.sendEventXML&&o.xml?{xmlText:n.Xml.domToText(o.xml)}:{},t.sendWorkspaceXML?{workspace:n.Xml.domToText(n.Xml.workspaceToDom(e))}:{})))})};t.exports={track:s}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{blockly:271}],259:[function(e,t,o){"use strict";var n={},r=function(e,t){if(n[e]=t,t.children=[],t.parents)for(var o=t.parents,r=0;r<o.length;r++){var i=o[r];n[i]&&n[i].children.push(e)}},i=function(e){var t=n[e];if(!t.extension){var o=[e];t.aliases&&(o=o.concat(t.aliases));for(var r=t.children,s=0;s<r.length;s++)o=o.concat(i(r[s]));t.extension=o}return t.extension};r("GraphPattern",{}),r("TriplesBlock",{parents:["GraphPattern"]}),r("SelectQuery",{}),r("Bind",{parents:["GraphPattern"]}),r("PropertyList",{}),r("Table",{parents:["GraphPattern"]}),r("Expr",{}),r("StringExprOrLiteral",{parents:["Expr"]}),r("Object",{}),r("GraphTermOrVar",{parents:["Object","Expr"]}),r("Verb",{}),r("ObjectNotLiteral",{parents:["Object"]}),r("RootedPropertyList",{parents:["ObjectNotLiteral"]}),r("ResourceOrVar",{parents:["ObjectNotLiteral","GraphTermOrVar"]}),r("StringExpr",{parents:["StringExprOrLiteral"],aliases:["String"]}),r("NumberExpr",{parents:["Expr"],aliases:["Number"]}),r("BooleanExpr",{parents:["Expr"],aliases:["Boolean"]}),r("BnodeExpr",{parents:["Expr"]}),r("IriExpr",{parents:["Expr"]}),r("AnyExpr",{parents:["StringExpr","NumberExpr","BooleanExpr","BnodeExpr","IriExpr"]}),r("IriOrVar",{parents:["ResourceOrVar","Verb"]}),r("Var",{parents:["GraphTermOrVar","ResourceOrVar","IriOrVar","AnyExpr"]}),r("GraphTerm",{parents:["GraphTermOrVar"]}),r("Resource",{parents:["GraphTerm","ResourceOrVar"]}),r("Bnode",{parents:["Resource","BnodeExpr"]}),r("Iri",{parents:["Resource","IriExpr","IriOrVar"]}),r("Literal",{parents:["GraphTerm","StringExprOrLiteral"]}),r("LiteralString",{parents:["Literal","StringExpr"]}),r("LiteralNumber",{parents:["Literal","NumberExpr"]}),r("LiteralBoolean",{parents:["Literal","BooleanExpr"]}),t.exports={setType:r,getExtension:i}},{}],260:[function(e,t,o){"use strict";var n=e("blockly"),r=[],i=function(e,t){if(r.push({action:e,thisArg:t}),1===r.length)var o=window.setInterval(function(){if(!n.dragMode_){for(;r.length>0;){var e=r.shift();e.action.call(e.thisArg)}window.clearInterval(o)}},0)};t.exports={execute:i}},{blockly:271}],261:[function(e,t,o){(function(t){"use strict";function o(){function e(){window.location.search=r.reduce(r.mapObject(l,function(e,t){return""+t+"="+e}),function(e,t){return e+"&"+t})}function t(t){l.mode=t,e()}for(var o=n.BlocklyDialogs,a=decodeURIComponent(window.location.search.substring(1)).split("&"),l={},g=0;g<a.length;g++){var c=a[g].split("=");l[c[0]]=void 0===c[1]?!0:c[1]}var u,h=l.rtl,d=r.isString(l.mode)?l.mode:"demo",p="view"===d;if(p)u=s.inject("blocklyDiv",{rtl:h,media:"media/",comments:!0,disable:!0,collapse:!0,readOnly:!0,realtime:!1,scrollbars:!1}),n.Storage.startup(u,function(){});else{var f="test"===d?document.getElementById("toolboxTest"):"eval"===d?document.getElementById("toolboxGuide"):document.getElementById("toolboxDemo");if(u=s.inject("blocklyDiv",{comments:!0,disable:!0,collapse:!0,grid:{spacing:25,length:3,colour:"#ccc",snap:!0},maxBlocks:1/0,media:"media/",readOnly:!1,rtl:h,scrollbars:!0,toolbox:f,zoom:{controls:!0,wheel:!1,startScale:1,maxScale:4,minScale:.25,scaleSpeed:1.1},shadowMorph:!0}),i(".blocklyToolboxDiv").prepend('<div class="main-button-container clearfix"><div class="main-button-container clearfix"><button class="main-button btn btn-block" disabled title="Save as Gist on GitHub" type="button" id="save-button"><span class="octicon octicon-cloud-upload"></span> Save as Gist</button></div><div class="main-button-container clearfix"><button class="main-button btn btn-block" disabled title="Copy Link to Clipboard" id="copy-button" type="button"><span class="octicon octicon-clippy"></span> Copy Link</button></div></div>'),i("#save-button").on("click",function(){n.Storage.linkGist()}),n.Storage.setCopyOnThisButton("#copy-button"),n.Storage.startup(u),"eval"===d){var y=function(e){var t=n.Guide.check(u,e.check);return t?(e.focus=t.getSvgRoot(),!0):!1},_=[{dialog:"dialogWelcome",modal:!0},{dialog:"dialogAddQuery",style:{top:"10px",right:"25px"},"do":function(e){e.check={type:"sparql_execution_endpoint_query",ENDPOINT:"http://live.dbpedia.org/sparql",WHERE:[]}},stepWhen:function(e,t){return y(t)}},{dialog:"dialogAddGraphPattern",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.WHERE=[{type:"sparql_typedsubject_propertylist",SUBJECT:{type:"variables_get",VAR:"res"},TYPE:{type:"variables_get",VAR:"type"},PROPERTY_LIST:[{type:"sparql_verb_object",VERB:{type:"variables_get",VAR:"pred"},OBJECT:{type:"variables_get",VAR:"obj"}}]}]},stepWhen:function(e,t){return y(t)}},{dialog:"dialogResults",style:{top:"10px",right:"25px"},useFocus:!0},{dialog:"dialogVariables",style:{top:"10px",right:"25px"},useFocus:!0},{dialog:"dialogNavigate",style:{bottom:"25px",left:"15px"},useFocus:!0},{dialog:"dialogKeyboard",modal:!0},{dialog:"dialogDelete",modal:!0},{dialog:"dialogDeleteVar",style:{bottom:"25px",left:"15px"},useFocus:!0,"do":function(e){e.check.WHERE[0].TYPE=null},stepWhen:function(e,t){return e.type==s.Events.DELETE&&y(t)}},{dialog:"dialogAddResource",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.WHERE[0].PROPERTY_LIST[0].VERB={type:"sparql_prefixed_iri",PREFIX:"foaf",LOCAL_NAME:"knows"}},stepWhen:function(e,t){return y(t)}},{dialog:"dialogChangeVarName",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.WHERE[0].PROPERTY_LIST[0].OBJECT.VAR="friend"},stepWhen:function(e,t){return y(t)}},{dialog:"dialogAddBranch",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.WHERE[0].PROPERTY_LIST.push({type:"sparql_verb_object",VERB:{type:"sparql_prefixed_iri",PREFIX:"foaf",LOCAL_NAME:"name"},OBJECT:{type:"variables_get",VAR:"name"}})},stepWhen:function(e,t){return y(t)}},{dialog:"dialogFixFromResults",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.WHERE[0].SUBJECT={type:["sparql_prefixed_iri","sparql_iri"]}},stepWhen:function(e,t){return y(t)}},{dialog:"dialogAddPattern",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.WHERE.push({type:"sparql_typedsubject_propertylist",SUBJECT:{type:"variables_get",VAR:"friend"},TYPE:{type:"sparql_prefixed_iri",PREFIX:"foaf",LOCAL_NAME:"Person"}})},stepWhen:function(e,t){return y(t)}},{dialog:"dialogAddPattern2",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.WHERE[1].PROPERTY_LIST=[{type:"sparql_verb_object",VERB:{type:"sparql_prefixed_iri",PREFIX:"foaf",LOCAL_NAME:"name"},OBJECT:{type:"variables_get",VAR:"friendName"}}]},stepWhen:function(e,t){return y(t)}},{dialog:"dialogAddOrderBy",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.ORDER_FIELD1={type:"variables_get",VAR:"friendName"},e.check.ORDER_DIRECTION1="DESC"},stepWhen:function(e,t){return y(t)}},{dialog:"dialogChangeLimit",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.LIMIT="3"},stepWhen:function(e,t){return y(t)}},{dialog:"dialogFilter",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check.WHERE.push({type:"sparql_filter",CONDITION:{type:"sparql_text_contains",VALUE:{type:"variables_get",VAR:"friendName"},FIND:{type:"sparql_text",TEXT:"tim"}}})},stepWhen:function(e,t){return y(t)}},{dialog:"dialogFindClass",useFocus:!0,style:{top:"10px",right:"25px"},"do":function(e){e.check={}},stepWhen:function(e,t){return e.type==s.Events.CREATE&&"sparql_prefixed_iri"==e.block.type&&"dbo"==e.block.getFieldValue("PREFIX")&&"Lake"==e.block.getFieldValue("LOCAL_NAME")?(t.focus=e.block.getSvgRoot(),!0):void 0}},{dialog:"dialogFindThing",useFocus:!0,style:{top:"10px",right:"25px"},stepWhen:function(e,t){return e.type==s.Events.CREATE&&"sparql_prefixed_iri"==e.block.type&&"dbpedia"==e.block.getFieldValue("PREFIX")&&"Lake_Titicaca"==e.block.getFieldValue("LOCAL_NAME")?!0:void 0}},{dialog:"dialogFindProperty",useFocus:!0,style:{top:"10px",right:"25px"},stepWhen:function(e,t){return e.type==s.Events.CREATE&&"sparql_prefixed_iri"==e.block.type&&"dbo"==e.block.getFieldValue("PREFIX")&&"locatedInArea"==e.block.getFieldValue("LOCAL_NAME")?!0:void 0}},{dialog:"dialogSave",style:{top:"10px",right:"25px"}},{"do":function(e){u.updateToolbox(document.getElementById("toolboxTest")),u.clear()},dialog:"dialogFinish",modal:!0},{"do":function(){t("test")}}];u.trackingGuide=n.Guide.track(u,r.extend({stateList:_},i.isNumeric(l.startGuideFrom)?{startStateId:Math.round(0+l.startGuideFrom)}:{}))}else if("test"===d){var m=document.getElementById("dialogTest");if(!m)return;i(".flash-messages").css("display","none"),n.Guide.replaceInLineBlockly(m),n.Guide.setOkButtons(m),o.showDialog(m,!1,!1,!0,{width:"75%",bottom:"inherit",left:"15%",top:"5%"},function(){i(".flash-messages").css("display","")})}}var b=l.selCat;if(r.isString(b)&&u&&u.toolbox_&&u.toolbox_.tree_){var v=parseInt(b,10);if(!r.isNaN(v)){var E=s.mainWorkspace.toolbox_.tree_.getChildAt(v);E&&u.toolbox_.tree_.setSelectedItem(E)}}}var n=e("./index.js"),r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,i="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null,s=e("blockly");window.onload=o}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./index.js":272,blockly:271}],262:[function(e,t,o){"use strict";var n=e("blockly"),r=new n.Generator("Sparql");r.addReservedWords(""),r.STMNT_BRK="###\n",r.STMNT_BRK_RE=/###\n/,r.stmJoin=function(e,t){var o=e.split(r.STMNT_BRK_RE);return o.pop(),o.join(t)},r.statementToGraphPattern=function(e,t){return r.stmJoin(r.statementToCode(e,t),".\n")},r.ORDER_ATOMIC=0,r.ORDER_MEMBER=1,r.ORDER_NEW=1,r.ORDER_FUNCTION_CALL=2,r.ORDER_INCREMENT=3,r.ORDER_DECREMENT=3,r.ORDER_LOGICAL_NOT=4,r.ORDER_BITWISE_NOT=4,r.ORDER_UNARY_PLUS=4,r.ORDER_UNARY_NEGATION=4,r.ORDER_TYPEOF=4,r.ORDER_VOID=4,r.ORDER_DELETE=4,r.ORDER_MULTIPLICATION=5,r.ORDER_DIVISION=5,r.ORDER_MODULUS=5,r.ORDER_ADDITION=6,r.ORDER_SUBTRACTION=6,r.ORDER_BITWISE_SHIFT=7,r.ORDER_RELATIONAL=8,r.ORDER_IN=8,r.ORDER_INSTANCEOF=8,r.ORDER_EQUALITY=9,r.ORDER_BITWISE_AND=10,r.ORDER_BITWISE_XOR=11,r.ORDER_BITWISE_OR=12,r.ORDER_LOGICAL_AND=13,r.ORDER_LOGICAL_OR=14,r.ORDER_CONDITIONAL=15,r.ORDER_ASSIGNMENT=16,r.ORDER_COMMA=17,r.ORDER_NONE=99,r.init=function(e){},r.finish=function(e){return e},r.scrubNakedValue=function(e){return e+";\n"},r.quote_=function(e){return e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"),"'"+e+"'"},r.scrub_=function(e,t){var o="";if(!e.outputConnection||!e.outputConnection.targetConnection){var i=e.getCommentText();i&&(o+=r.prefixLines(i,"// ")+"\n");for(var s=0;s<e.inputList.length;s++)if(e.inputList[s].type==n.INPUT_VALUE){var a=e.inputList[s].connection.targetBlock();if(a){var l=r.allNestedComments(a);l&&(o+=r.prefixLines(l,"// "))}}}var g=e.nextConnection&&e.nextConnection.targetBlock(),c=r.blockToCode(g);return o+t+c},t.exports=r},{blockly:271}],263:[function(e,t,o){"use strict";var n=e("../sparql.js");n.sparql_isa=function(e){var t=n.valueToCode(e,"TYPE",n.ORDER_ATOMIC),o=t?"a "+t+n.STMNT_BRK:"";return o},n.sparql_verb_object=function(e){var t=n.valueToCode(e,"VERB",n.ORDER_ATOMIC),o=n.valueToCode(e,"OBJECT",n.ORDER_ATOMIC),r=t?t+" "+(o?o:"[]")+n.STMNT_BRK:"";return r},n.sparql_reversePath_object=function(e){var t=n.valueToCode(e,"VERB",n.ORDER_ATOMIC),o=n.valueToCode(e,"OBJECT",n.ORDER_ATOMIC),r=t?"^"+t+" "+(o?o:"[]")+n.STMNT_BRK:"";return r},n.sparql_closurePath_object=function(e){var t=n.valueToCode(e,"VERB",n.ORDER_ATOMIC),o=n.valueToCode(e,"OBJECT",n.ORDER_ATOMIC),r=t&&o?t+"* "+o+n.STMNT_BRK:"";return r},n.sparql_reverseClosurePath_object=function(e){var t=n.valueToCode(e,"VERB",n.ORDER_ATOMIC),o=n.valueToCode(e,"OBJECT",n.ORDER_ATOMIC),r=t&&o?"^"+t+"* "+o+n.STMNT_BRK:"";return r},n.sparql_typedsubject_propertylist=function(e){var t=n.valueToCode(e,"SUBJECT",n.ORDER_ATOMIC),o=n.valueToCode(e,"TYPE",n.ORDER_ATOMIC),r=n.stmJoin(n.statementToCode(e,"PROPERTY_LIST"),";\n"),i=o||""!==r?(t?t:"[]")+(o?" a "+o+(""!==r?";":""):"")+(""!==r?"\n"+r:"")+n.STMNT_BRK:"";return i},n.sparql_subject_propertylist=function(e){var t=n.valueToCode(e,"SUBJECT",n.ORDER_ATOMIC),o=n.stmJoin(n.statementToCode(e,"PROPERTY_LIST"),";\n"),r=""!==o?(t?t:"[]")+(""!==o?"\n"+o:"")+n.STMNT_BRK:"";return r};var r=function(e,t){var o=e||""!==t?"[\n"+(e?" a "+e+(""!==t?";\n":""):"")+(""!==t?t:"")+"\n]":"[]";return[o,n.ORDER_ATOMIC]};n.sparql_anontypedsubject_propertylist=function(e){var t=n.valueToCode(e,"TYPE",n.ORDER_ATOMIC),o=n.stmJoin(n.statementToCode(e,"PROPERTY_LIST"),";\n");return r(t,o)},n.sparql_anonsubject_propertylist=function(e){var t=n.stmJoin(n.statementToCode(e,"PROPERTY_LIST"),";\n");return r(null,t)}},{"../sparql.js":262}],264:[function(e,t,o){"use strict";var n=e("../sparql.js");n.sparql_filter=function(e){var t=n.valueToCode(e,"CONDITION",n.ORDER_NONE);return t?"FILTER("+t+")"+n.STMNT_BRK:""},n.sparql_union=function(e){var t=n.statementToGraphPattern(e,"OP1"),o=n.statementToGraphPattern(e,"OP2");return""===t?""===o?"":"{\n"+o+"\n}"+n.STMNT_BRK:""===o?"{\n"+t+"\n}"+n.STMNT_BRK:"{\n"+t+"\n} UNION {\n"+o+"\n}"+n.STMNT_BRK},n.sparql_optional=function(e){var t=n.statementToGraphPattern(e,"OP");return""===t?"":"OPTIONAL {\n"+t+"\n}"+n.STMNT_BRK},n.sparql_graph=function(e){var t=n.statementToGraphPattern(e,"OP"),o=n.valueToCode(e,"GRAPHNAME",n.ORDER_NONE);return o&&""!==t?"GRAPH "+o+" {\n"+t+"\n}"+n.STMNT_BRK:""}},{"../sparql.js":262}],265:[function(e,t,o){"use strict";var n=e("../sparql.js");n.sparql_logic_compare=function(e){var t={EQ:"=",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="},o=t[e.getFieldValue("OP")],r="="==o||"!="==o?n.ORDER_EQUALITY:n.ORDER_RELATIONAL,i=n.valueToCode(e,"A",r)||"0",s=n.valueToCode(e,"B",r)||"0",a=i+" "+o+" "+s;return[a,r]},n.sparql_logic_operation=function(e){var t="AND"==e.getFieldValue("OP")?"&&":"||",o="&&"==t?n.ORDER_LOGICAL_AND:n.ORDER_LOGICAL_OR,r=n.valueToCode(e,"A",o),i=n.valueToCode(e,"B",o);if(r||i){var s="&&"==t?"true":"false";r||(r=s),i||(i=s)}else r="false",i="false";var a=r+" "+t+" "+i;return[a,o]},n.sparql_logic_negate=function(e){var t=n.ORDER_LOGICAL_NOT,o=n.valueToCode(e,"BOOL",t)||"true",r="!"+o;return[r,t]},n.sparql_logic_boolean=function(e){var t="TRUE"==e.getFieldValue("BOOL")?"true":"false";return[t,n.ORDER_ATOMIC]},n.sparql_logic_ternary=function(e){var t=n.valueToCode(e,"IF",n.ORDER_COMMA)||"false",o=n.valueToCode(e,"THEN",n.ORDER_COMMA)||'""',r=n.valueToCode(e,"ELSE",n.ORDER_COMMA)||'""',i="IF("+t+", "+o+", "+r+")";return[i,n.ORDER_FUNCTION_CALL]},n.sparql_exists=function(e){var t=n.statementToGraphPattern(e,"OP");return[""===t?"true":"EXISTS {\n"+t+"\n}",n.ORDER_FUNCTION_CALL]},n.sparql_not_exists=function(e){var t=n.statementToGraphPattern(e,"OP");return[""===t?"true":"NOT EXISTS {\n"+t+"\n}",n.ORDER_FUNCTION_CALL]}},{"../sparql.js":262}],266:[function(e,t,o){"use strict";var n=e("../sparql.js");n.sparql_math_number=function(e){var t=e.getFieldValue("NUM"),o=""+parseInt(t);if(t==o)return[t,n.ORDER_ATOMIC];var r=parseFloat(t);if(!isNaN(r))return[""+r,n.ORDER_ATOMIC];throw"Not a number: "+t},n.sparql_math_arithmetic=function(e){var t,o={ADD:[" + ",n.ORDER_ADDITION],MINUS:[" - ",n.ORDER_SUBTRACTION],MULTIPLY:[" * ",n.ORDER_MULTIPLICATION],DIVIDE:[" / ",n.ORDER_DIVISION]},r=o[e.getFieldValue("OP")],i=r[0],s=r[1],a=n.valueToCode(e,"A",s)||"0",l=n.valueToCode(e,"B",s)||"0";return t=a+i+l,[t,s]},n.sparql_math_single=function(e){var t,o,r=e.getFieldValue("OP");if("NEG"==r)return o=n.valueToCode(e,"NUM",n.ORDER_UNARY_NEGATION)||"0","-"==o[0]&&(o=" "+o),t="-"+o,[t,n.ORDER_UNARY_NEGATION];switch(o=n.valueToCode(e,"NUM",n.ORDER_NONE)||"0",r){case"ABS":t="ABS("+o+")";break;case"ROUND":t="ROUND("+o+")";break;case"ROUNDUP":t="CEIL("+o+")";break;case"ROUNDDOWN":t="FLOOR("+o+")"}if(t)return[t,n.ORDER_FUNCTION_CALL];throw"Unknown math operator: "+r};var r=function(e){var t="FLOOR("+e+") = "+e;return[t,n.ORDER_EQUALITY]},i=function(e){var t="FLOOR("+e+") != "+e;return[t,n.ORDER_EQUALITY]},s=function(e,t){return r(e+" / "+t)[0]},a=function(e,t){return i(e+" / "+t)[0]};n.sparql_math_number_property=function(e){var t,o=n.valueToCode(e,"NUMBER_TO_CHECK",n.ORDER_DIVISION)||"0",i=e.getFieldValue("PROPERTY");switch(i){case"EVEN":return s(o,"2");case"ODD":return a(o,"2");case"WHOLE":return r(o);case"POSITIVE":return t=o+" > 0",[t,n.ORDER_RELATIONAL];case"NEGATIVE":return t=o+" < 0",[t,n.ORDER_RELATIONAL];case"DIVISIBLE_BY":var l=n.valueToCode(e,"DIVISOR",n.ORDER_MODULUS)||"0";return s(o,l)}},n.sparql_math_round=n.sparql_math_single;var l=function(e,t){var o="FLOOR(ABS("+e+" / "+t+"))";return[o,n.ORDER_FUNCTION_CALL]},g=function(e,t){var o=e+" - "+l(e,t)[0]+" * ABS("+e+") / "+e+" * ABS("+t+")";return[o,n.ORDER_SUBTRACTION]};n.sparql_math_modulo=function(e){var t=n.valueToCode(e,"DIVIDEND",n.ORDER_DIVISION)||"0",o=n.valueToCode(e,"DIVISOR",n.ORDER_DIVISION)||"0";return g(t,o)},n.sparql_math_constrain=function(e){var t=n.valueToCode(e,"VALUE",n.ORDER_RELATIONAL)||"0",o=n.valueToCode(e,"LOW",n.ORDER_RELATIONAL),r=n.valueToCode(e,"HIGH",n.ORDER_RELATIONAL),i="IF("+t+" < "+o+", "+o+", IF("+t+" > "+r+", "+r+", "+t+") )";return[i,n.ORDER_FUNCTION_CALL]},n.sparql_math_random_int=function(e){var t=n.valueToCode(e,"FROM",n.ORDER_ADDITION)||"0",o=n.valueToCode(e,"TO",n.ORDER_SUBTRACTION)||"0",r="FLOOR(RAND() * ("+o+" - "+t+" + 1) + "+t+")";return[r,n.ORDER_FUNCTION_CALL]},n.sparql_math_random_float=function(e){return["RAND()",n.ORDER_FUNCTION_CALL]}},{"../sparql.js":262}],267:[function(e,t,o){"use strict";var n=e("blockly"),r=e("../sparql.js"),i=e("../../core/prefixes.js");r.sparqlQuery=function(e){if(!e)return"";var t=r.statementToGraphPattern(e,"WHERE");if(""===t)return"";var o=n.FieldTextInput.nonnegativeIntegerValidator(e.getFieldValue("LIMIT"));null===o&&(o=0);for(var s="SELECT DISTINCT * WHERE {\n"+t+"\n}",a=null,l=1;l<=e.orderFieldCount_;l++){var g=r.valueToCode(e,"ORDER_FIELD"+l,r.ORDER_NONE);if(g){var c=e.getFieldValue("ORDER_DIRECTION"+l);a?a+=", ":a="ORDER BY ",c&&"DESC"==c&&(a+="DESC"),a+="("+g+")"}}a&&(s+="\n"+a),s+="\nLIMIT "+o;var u=s.match(/[^(|!\/\^,;\x20|\x09|\x0D|\x0A]+[\x20|\x09|\x0D|\x0A]*:/g),h=null;u&&(h=u.map(function(e){return e.substr(0,e.length-1).trim()}));var d="";return h&&h.forEach(function(e){var t=i.lookForPrefix(e);t&&(d+="PREFIX "+e+":	<"+t+">\n")}),d.length>0&&(s=d+"\n"+s),s},r.sparql_select=function(e){var t=r.sparqlQuery(e);return t?"{\n"+r.prefixLines(t,r.INDENT)+"\n}"+r.STMNT_BRK:""}},{"../../core/prefixes.js":256,"../sparql.js":262,blockly:271}],268:[function(e,t,o){(function(t){"use strict";var o=e("../sparql.js"),n=e("../../core/prefixes.js"),r="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null,i=!0,s=function(e){return e.split("").map(function(e){return r.contains(["_","~",".","-","!","$","&","'","(",")","\\","*","+",",",";","=","/","?","#","@","%"],e)?"\\"+e:e}).join("")};o.sparql_prefixed_iri=function(e){var t=e.getFieldValue("PREFIX"),r=e.getFieldValue("LOCAL_NAME"),a=null;if(i){var l=n.lookForPrefix(t);l&&(a="<"+l+r+">")}return a||(a=t+":"+s(r)),[a,o.ORDER_ATOMIC]},o.sparql_iri=function(e){var t=e.getFieldValue("IRI"),n="<"+t+">";return[n,o.ORDER_ATOMIC]},o.variables_get=function(e){var t=e.getFieldValue("VAR"),n="?"+t;return[n,o.ORDER_ATOMIC]}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../core/prefixes.js":256,"../sparql.js":262}],269:[function(e,t,o){"use strict";var n=e("../sparql.js");n.sparql_text=function(e){var t=n.quote_(e.getFieldValue("TEXT"));return[t,n.ORDER_ATOMIC]},n.sparql_text_with_lang=function(e){var t=n.quote_(e.getFieldValue("TEXT")),o=e.getFieldValue("LANG");return o&&o.length>0&&(t+="@"+o),[t,n.ORDER_ATOMIC]},n.sparql_text_join=function(e){var t;if(0===e.itemCount_)return["''",n.ORDER_ATOMIC];if(1==e.itemCount_){var o=n.valueToCode(e,"ADD0",n.ORDER_NONE)||"''";return t="STR("+o+")",[t,n.ORDER_FUNCTION_CALL]}if(2==e.itemCount_){var r=n.valueToCode(e,"ADD0",n.ORDER_NONE)||"''",i=n.valueToCode(e,"ADD1",n.ORDER_NONE)||"''";return t="CONCAT(STR("+r+"), STR("+i+"))",[t,n.ORDER_FUNCTION_CALL]}t=new Array(e.itemCount_);for(var s=0;s<e.itemCount_;s++)t[s]=n.valueToCode(e,"ADD"+s,n.ORDER_NONE)||"''";return t="CONCAT(STR("+t.join("), STR(")+"))",[t,n.ORDER_FUNCTION_CALL]},n.sparql_text_length=function(e){var t=n.valueToCode(e,"VALUE",n.ORDER_NONE)||"''";return["STRLEN("+t+")",n.ORDER_FUNCTION_CALL]},n.sparql_text_isEmpty=function(e){var t=n.valueToCode(e,"VALUE",n.ORDER_NONE)||"''";return["STRLEN("+t+") == 0",n.ORDER_EQUALITY]},n.sparql_text_contains=function(e){var t=n.valueToCode(e,"FIND",n.ORDER_COMMA)||"''",o=n.valueToCode(e,"VALUE",n.ORDER_COMMA)||"''",r="REGEX("+o+", STR("+t+"), 'i') && (COALESCE(LANG("+t+"),'') = '' || LANGMATCHES(LANG("+o+"), LANG("+t+")))";return[r,n.ORDER_FUNCTION_CALL]},n.sparql_text_regex=function(e){var t=n.valueToCode(e,"FIND",n.ORDER_COMMA)||"''",o=n.valueToCode(e,"VALUE",n.ORDER_COMMA)||"''",r="REGEX("+o+", "+t+', "i")';return[r,n.ORDER_FUNCTION_CALL]},n.sparql_text_lang=function(e){var t=n.valueToCode(e,"LANG",n.ORDER_COMMA)||"''",o=n.valueToCode(e,"VALUE",n.ORDER_NONE)||"''",r="LANGMATCHES(LANG("+o+"), "+t+")";return[r,n.ORDER_FUNCTION_CALL]},n.sparql_text_charAt=function(e){var t=e.getFieldValue("WHERE")||"FROM_START",o=n.valueToCode(e,"AT",n.ORDER_SUBTRACTION)||"1",r=n.valueToCode(e,"VALUE",n.ORDER_COMMA)||"''";switch(t){case"FIRST":return["SUBSTR("+r+", 1, 1)",n.ORDER_FUNCTION_CALL];case"LAST":return["SUBSTR("+r+", STRLEN("+r+"), 1)",n.ORDER_FUNCTION_CALL];case"FROM_START":return["SUBSTR("+r+", "+o+", 1)",n.ORDER_FUNCTION_CALL];case"FROM_END":return["SUBSTR("+r+", STRLEN("+r+") + 1 - "+o+", 1)",n.ORDER_FUNCTION_CALL]}throw"Unhandled option (text_charAt)."},n.sparql_text_getSubstring=function(e){var t=n.valueToCode(e,"STRING",n.ORDER_COMMA)||"''",o=e.getFieldValue("WHERE1"),r=e.getFieldValue("WHERE2"),i=n.valueToCode(e,"AT1",n.ORDER_SUBTRACTION)||"1",s=n.valueToCode(e,"AT2",n.ORDER_ADDITION)||"1";if("FIRST"!=o||"LAST"!=r){var a;if("FIRST"==o)a="1";else if("LAST"==o)a="STRLEN("+t+")";else if("FROM_START"==o)a=i;else{if("FROM_END"!=o)throw"Unhandled option (text_getSubstring): "+o;a="STRLEN("+t+") + 1 - "+i}var l;if("FIRST"==r)l="2 - "+a;else if("LAST"==r)l=null;else if("FROM_START"==r)"FIRST"==o?l=s:"FROM_END"==o&&(l=i+" + "+s+" - STRLEN("+t+")"),l=s+" + 1 - "+a;else{if("FROM_END"!=r)throw"Unhandled option (text_getSubstring): "+r;"FIRST"==o?l="STRLEN("+t+") + 1 - "+s:"LAST"==o?l="2 - "+s:"FROM_END"==o&&(l=i+" - "+s+" + 1"),l="STRLEN("+t+") + 2 - "+s+" - "+a}return[l?"SUBSTR("+t+", "+a+", "+l+")":"SUBSTR("+t+", "+a+")",n.ORDER_FUNCTION_CALL]}},n.sparql_text_changeCase=function(e){var t,o={UPPERCASE:"UCASE",LOWERCASE:"LCASE"},r=e.getFieldValue("CASE"),i=o[r];if(i){var s=n.valueToCode(e,"TEXT",n.ORDER_NONE)||"''";return t=i+"("+s+")",[t,n.ORDER_FUNCTION_CALL]}throw"Unknown case type: "+r},n.sparql_hash=function(e){var t,o=e.getFieldValue("TYPE"),r=o;if(r){var i=n.valueToCode(e,"TEXT",n.ORDER_NONE)||"''";return t=r+"("+i+")",[t,n.ORDER_FUNCTION_CALL]}throw"Unknown hash function: "+o}},{"../sparql.js":262}],270:[function(e,t,o){"use strict";var n=e("../sparql.js");n.variables_get=function(e){var t=e.getFieldValue("VAR"),o="?"+t;return[o,n.ORDER_ATOMIC]}},{"../sparql.js":262}],271:[function(e,t,o){(function(o){"use strict";var n="undefined"!=typeof window?window._:"undefined"!=typeof o?o._:null,r=e("../../lib/blockly_compressed");r.Msg=n.extend(e("../../lib/i18n/en"),r.Msg),r.Msg=r.Msg(),t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../../lib/blockly_compressed":1,"../../lib/i18n/en":2}],272:[function(e,t,o){e("./shims/");var n=e("./core/storage.js"),r=e("./core/guide.js"),i=e("./core/track.js"),s=e("./core/lib-dialogs"),a=e("./core/workspaceActions.js");e("./blocks/logic.js"),e("./generators/sparql/logic.js"),e("./blocks/math.js"),e("./generators/sparql/math.js"),e("./blocks/text.js"),e("./generators/sparql/text.js"),e("./blocks/resources.js"),e("./generators/sparql/resources.js"),e("./blocks/variables.js"),e("./generators/sparql/variables.js"),e("./blocks/bgp.js"),e("./generators/sparql/bgp.js"),e("./blocks/control.js"),e("./generators/sparql/control.js"),e("./blocks/query.js"),e("./generators/sparql/query.js"),e("./blocks/exec.js"),e("./blocks/table.js"),e("./blocks/test.js"),t.exports={Storage:n,Guide:r,Track:i,WorkspaceActions:a,BlocklyDialogs:s}},{"./blocks/bgp.js":236,"./blocks/control.js":237,"./blocks/exec.js":238,"./blocks/logic.js":239,"./blocks/math.js":240,"./blocks/query.js":242,"./blocks/resources.js":243,"./blocks/table.js":244,"./blocks/test.js":245,"./blocks/text.js":246,"./blocks/variables.js":247,"./core/guide.js":251,"./core/lib-dialogs":253,"./core/storage.js":257,"./core/track.js":258,"./core/workspaceActions.js":260,"./generators/sparql/bgp.js":263,"./generators/sparql/control.js":264,"./generators/sparql/logic.js":265,"./generators/sparql/math.js":266,"./generators/sparql/query.js":267,"./generators/sparql/resources.js":268,"./generators/sparql/text.js":269,"./generators/sparql/variables.js":270,"./shims/":274}],273:[function(e,t,o){(function(t){"use strict";var o=e("blockly"),n="undefined"!=typeof window?window._:"undefined"!=typeof t?t._:null;o.Input.prototype.appendField=function(e,t){return e||t?(n.isString(e)&&(e=new o.FieldLabel(e)),e.setSourceBlock(this.sourceBlock_),this.sourceBlock_.rendered&&e.init(this.sourceBlock_),e.name=t,e.prefixField&&this.appendField(e.prefixField),this.fieldRow.push(e),e.suffixField&&this.appendField(e.suffixField),this.sourceBlock_.rendered&&(this.sourceBlock_.render(),this.sourceBlock_.bumpNeighbours_()),this):this}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{blockly:271}],274:[function(e,t,o){e("./shadowMorph.js"),e("./fixInit.js")},{"./fixInit.js":273,"./shadowMorph.js":275}],275:[function(e,t,o){"use strict";var n=e("blockly");n.Field.prototype.setValue=function(e){if(null!==e){var t=this.getValue();if(t!=e){var o=!1;this.sourceBlock_&&n.Events.isEnabled()&&(o=!n.Events.getGroup(),o&&n.Events.setGroup(!0)),this.sourceBlock_&&n.Events.recordUndo&&this.sourceBlock_.setShadow(!1),this.sourceBlock_&&n.Events.isEnabled()&&n.Events.fire(new n.Events.Change(this.sourceBlock_,"field",this.name,t,e)),this.setText(e),o&&n.Events.setGroup(!1)}}},n.Block.prototype.setShadow=function(e){this.isShadow_!=e&&(n.Events.fire(new n.Events.Change(this,"shadow",null,this.isShadow_,e)),this.isShadow_=e)},n.Events.Change.prototype.run=function(e){var t=n.Workspace.getById(this.workspaceId),o=t.getBlockById(this.blockId);if(!o)return void console.warn("Can't change non-existant block: "+this.blockId);o.mutator&&o.mutator.setVisible(!1);var r=e?this.newValue:this.oldValue;switch(this.element){case"field":var i=o.getField(this.name);i?i.setValue(r):console.warn("Can't set non-existant field: "+this.name);break;case"comment":o.setCommentText(r||null);break;case"collapsed":o.setCollapsed(r);break;case"disabled":o.setDisabled(r);break;case"inline":o.setInputsInline(r);break;case"mutation":var s="";if(o.mutationToDom){var a=o.mutationToDom();s=a&&n.Xml.domToText(a)}if(o.domToMutation){r=r||"<mutation></mutation>";var l=n.Xml.textToDom("<xml>"+r+"</xml>");o.domToMutation(l.firstChild)}n.Events.fire(new n.Events.Change(o,"mutation",null,s,r));break;case"shadow":o.setShadow(r);break;default:console.warn("Unknown change type: "+this.element)}}},{blockly:271}]},{},[261]);
//# sourceMappingURL=sparqlblocks.min.js.map
